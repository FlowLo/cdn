{"version":3,"sources":["webpack://Quill/webpack/universalModuleDefinition","webpack://Quill/webpack/bootstrap","webpack://Quill/./node_modules/quill-delta/dist/Delta.js","webpack://Quill/./node_modules/extend/index.js","webpack://Quill/./node_modules/function-bind/index.js","webpack://Quill/./node_modules/has-symbols/index.js","webpack://Quill/./node_modules/clone/clone.js","webpack://Quill/./node_modules/deep-equal/index.js","webpack://Quill/./node_modules/define-properties/index.js","webpack://Quill/(webpack)/buildin/global.js","webpack://Quill/./node_modules/is-arguments/index.js","webpack://Quill/./node_modules/has-symbols/shams.js","webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js","webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js","webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js","webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js","webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js","webpack://Quill/./assets/icons/code.svg","webpack://Quill/./node_modules/quill-delta/node_modules/deep-equal/index.js","webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/isArguments.js","webpack://Quill/./node_modules/object-is/index.js","webpack://Quill/./node_modules/has/src/index.js","webpack://Quill/./node_modules/regexp.prototype.flags/index.js","webpack://Quill/./node_modules/object-keys/index.js","webpack://Quill/./node_modules/regexp.prototype.flags/implementation.js","webpack://Quill/./node_modules/regexp.prototype.flags/polyfill.js","webpack://Quill/./node_modules/quill-delta/dist/Op.js","webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/isArguments.js","webpack://Quill/./node_modules/is-string/index.js","webpack://Quill/./node_modules/is-map/index.js","webpack://Quill/./node_modules/is-set/index.js","webpack://Quill/./node_modules/foreach/index.js","webpack://Quill/./node_modules/available-typed-arrays/index.js","webpack://Quill/./node_modules/object.assign/implementation.js","webpack://Quill/./node_modules/object.assign/polyfill.js","webpack://Quill/./node_modules/eventemitter3/index.js","webpack://Quill/./assets/icons/align-left.svg","webpack://Quill/./assets/icons/align-center.svg","webpack://Quill/./assets/icons/align-right.svg","webpack://Quill/./assets/icons/align-justify.svg","webpack://Quill/./assets/icons/background.svg","webpack://Quill/./assets/icons/blockquote.svg","webpack://Quill/./assets/icons/bold.svg","webpack://Quill/./assets/icons/clean.svg","webpack://Quill/./assets/icons/color.svg","webpack://Quill/./assets/icons/direction-ltr.svg","webpack://Quill/./assets/icons/direction-rtl.svg","webpack://Quill/./assets/icons/formula.svg","webpack://Quill/./assets/icons/header.svg","webpack://Quill/./assets/icons/header-2.svg","webpack://Quill/./assets/icons/italic.svg","webpack://Quill/./assets/icons/image.svg","webpack://Quill/./assets/icons/indent.svg","webpack://Quill/./assets/icons/outdent.svg","webpack://Quill/./assets/icons/link.svg","webpack://Quill/./assets/icons/list-bullet.svg","webpack://Quill/./assets/icons/list-check.svg","webpack://Quill/./assets/icons/list-ordered.svg","webpack://Quill/./assets/icons/subscript.svg","webpack://Quill/./assets/icons/superscript.svg","webpack://Quill/./assets/icons/strike.svg","webpack://Quill/./assets/icons/table.svg","webpack://Quill/./assets/icons/underline.svg","webpack://Quill/./assets/icons/video.svg","webpack://Quill/./assets/icons/dropdown.svg","webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/index.js","webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/implementation.js","webpack://Quill/./node_modules/is-regex/index.js","webpack://Quill/./node_modules/function-bind/implementation.js","webpack://Quill/./node_modules/object-keys/isArguments.js","webpack://Quill/./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js","webpack://Quill/./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js","webpack://Quill/./node_modules/regexp.prototype.flags/shim.js","webpack://Quill/./node_modules/is-date-object/index.js","webpack://Quill/./node_modules/fast-diff/diff.js","webpack://Quill/./node_modules/quill-delta/dist/AttributeMap.js","webpack://Quill/./node_modules/quill-delta/dist/Iterator.js","webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/index.js","webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/implementation.js","webpack://Quill/./node_modules/deep-equal/node_modules/is-regex/index.js","webpack://Quill/./node_modules/deep-equal/node_modules/isarray/index.js","webpack://Quill/./node_modules/deep-equal/node_modules/is-date-object/index.js","webpack://Quill/./node_modules/which-boxed-primitive/index.js","webpack://Quill/./node_modules/is-number-object/index.js","webpack://Quill/./node_modules/is-boolean-object/index.js","webpack://Quill/./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js","webpack://Quill/./node_modules/is-bigint/index.js","webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js","webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js","webpack://Quill/./node_modules/which-collection/index.js","webpack://Quill/./node_modules/is-weakmap/index.js","webpack://Quill/./node_modules/is-weakset/index.js","webpack://Quill/./node_modules/es-get-iterator/index.js","webpack://Quill/./node_modules/process/browser.js","webpack://Quill/./node_modules/es-get-iterator/node_modules/isarray/index.js","webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js","webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js","webpack://Quill/./node_modules/side-channel/index.js","webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js","webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js","webpack://Quill/./node_modules/object-inspect/index.js","webpack://Quill/./node_modules/which-typed-array/index.js","webpack://Quill/./node_modules/array-filter/index.js","webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js","webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js","webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","webpack://Quill/./node_modules/is-typed-array/index.js","webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js","webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js","webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","webpack://Quill/./node_modules/object.assign/index.js","webpack://Quill/./node_modules/object.assign/shim.js","webpack://Quill/./node_modules/parchment/src/scope.ts","webpack://Quill/./node_modules/parchment/src/collection/linked-list.ts","webpack://Quill/./node_modules/parchment/src/error.ts","webpack://Quill/./node_modules/parchment/src/registry.ts","webpack://Quill/./node_modules/parchment/src/blot/abstract/shadow.ts","webpack://Quill/./node_modules/parchment/src/blot/abstract/parent.ts","webpack://Quill/./node_modules/parchment/src/blot/abstract/container.ts","webpack://Quill/./node_modules/parchment/src/blot/abstract/leaf.ts","webpack://Quill/./node_modules/parchment/src/attributor/attributor.ts","webpack://Quill/./node_modules/parchment/src/attributor/class.ts","webpack://Quill/./node_modules/parchment/src/attributor/style.ts","webpack://Quill/./node_modules/parchment/src/attributor/store.ts","webpack://Quill/./node_modules/parchment/src/blot/inline.ts","webpack://Quill/./node_modules/parchment/src/blot/block.ts","webpack://Quill/./node_modules/parchment/src/blot/embed.ts","webpack://Quill/./node_modules/parchment/src/blot/scroll.ts","webpack://Quill/./node_modules/parchment/src/blot/text.ts","webpack://Quill/./core/instances.js","webpack://Quill/./core/logger.js","webpack://Quill/./core/emitter.js","webpack://Quill/./core/selection.js","webpack://Quill/./blots/text.js","webpack://Quill/./blots/cursor.js","webpack://Quill/./blots/break.js","webpack://Quill/./blots/inline.js","webpack://Quill/./blots/block.js","webpack://Quill/./core/editor.js","webpack://Quill/./core/module.js","webpack://Quill/./core/theme.js","webpack://Quill/./core/quill.js","webpack://Quill/./blots/container.js","webpack://Quill/./blots/embed.js","webpack://Quill/./blots/scroll.js","webpack://Quill/./formats/align.js","webpack://Quill/./formats/color.js","webpack://Quill/./formats/background.js","webpack://Quill/./formats/code.js","webpack://Quill/./formats/direction.js","webpack://Quill/./formats/font.js","webpack://Quill/./formats/size.js","webpack://Quill/./modules/clipboard.js","webpack://Quill/./modules/history.js","webpack://Quill/./modules/keyboard.js","webpack://Quill/./modules/uploader.js","webpack://Quill/./core.js","webpack://Quill/./formats/indent.js","webpack://Quill/./formats/blockquote.js","webpack://Quill/./formats/header.js","webpack://Quill/./formats/list.js","webpack://Quill/./formats/bold.js","webpack://Quill/./formats/italic.js","webpack://Quill/./formats/link.js","webpack://Quill/./formats/script.js","webpack://Quill/./formats/strike.js","webpack://Quill/./formats/underline.js","webpack://Quill/./formats/formula.js","webpack://Quill/./formats/image.js","webpack://Quill/./formats/video.js","webpack://Quill/./modules/syntax.js","webpack://Quill/./formats/table.js","webpack://Quill/./modules/table.js","webpack://Quill/./modules/toolbar.js","webpack://Quill/./ui/icons.js","webpack://Quill/./ui/picker.js","webpack://Quill/./ui/color-picker.js","webpack://Quill/./ui/icon-picker.js","webpack://Quill/./ui/tooltip.js","webpack://Quill/./themes/base.js","webpack://Quill/./themes/bubble.js","webpack://Quill/./themes/snow.js","webpack://Quill/./quill.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__importDefault","this","mod","deep_equal_1","extend_1","fast_diff_1","AttributeMap_1","Op_1","NULL_CHARACTER","String","fromCharCode","Delta","ops","Array","isArray","insert","arg","attributes","newOp","length","keys","push","delete","retain","index","lastOp","default","unshift","splice","chop","pop","filter","predicate","forEach","map","partition","passed","failed","op","reduce","initialValue","changeLength","elem","slice","start","end","Infinity","iter","iterator","hasNext","nextOp","next","compose","other","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","delta","length_1","Math","min","thisOp","otherOp","rest","concat","diff","cursor","strings","Error","join","retDelta","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","indexOf","invert","base","inverted","baseIndex","length_2","baseOp","transform","priority","transformPosition","length_3","offset","length_4","nextType","Op","AttributeMap","hasOwn","toStr","toString","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","constructor","setProperty","target","options","configurable","newValue","writable","getProperty","extend","src","copy","copyIsArray","clone","arguments","deep","implementation","Function","origSymbol","global","hasSymbolSham","_instanceof","type","nativeMap","nativeSet","nativePromise","Map","_","Set","Promise","parent","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","_clone","child","proto","resolve","reject","then","err","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","isBuffer","allocUnsafe","getPrototypeOf","keyChild","valueChild","set","entryChild","add","attrs","getOwnPropertySymbols","symbols","symbol","descriptor","allPropertyNames","getOwnPropertyNames","propertyName","__objToStr","re","flags","ignoreCase","multiline","clonePrototype","objectKeys","isArguments","is","isRegex","isDate","whichBoxedPrimitive","GetIntrinsic","callBound","whichCollection","getIterator","getSideChannel","whichTypedArray","assign","$getTime","gPO","$objToString","$Set","$mapHas","$mapGet","$mapSize","$setAdd","$setDelete","$setHas","$setSize","setHasEqualElement","val1","opts","channel","result","done","internalDeepEqual","findLooseMatchingPrimitives","prim","mapMightHaveLoosePrim","a","b","item","altValue","curB","looseOpts","strict","setMightHaveLoosePrim","mapHasEqualEntry","key1","item1","key2","actual","expected","sentinel","hasActual","has","hasExpected","aIsArray","bIsArray","aIsError","bIsError","message","aIsRegex","bIsRegex","aIsDate","bIsDate","aIsBuffer","bIsBuffer","ka","kb","sort","aCollection","bCollection","resultA","resultB","iA","iB","setEquiv","item2","mapEquiv","objEquiv","x","hasSymbols","origDefineProperty","supportsDescriptors","e","arePropertyDescriptorsSupported","fn","defineProperties","predicates","props","g","hasToStringTag","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments","sym","symObj","syms","propertyIsEnumerable","$TypeError","TypeError","$gOPD","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","getProto","__proto__","asyncGenIterator","undefined","TypedArray","Uint8Array","INTRINSICS","ArrayBuffer","entries","values","asyncIterator","Atomics","Boolean","DataView","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","EvalError","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","parse","Number","valueOf","parseFloat","parseInt","all","Proxy","RangeError","ReferenceError","Reflect","SharedArrayBuffer","SyntaxError","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","$replace","replace","rePropName","reEscapeChar","stringToPath","string","match","number","quote","subString","getBaseIntrinsic","allowMissing","parts","desc","deepEqual","isUndefinedOrNull","str","isArgs","numberIsNaN","callBind","getPolyfill","shim","flagsBound","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","keysShim","isObject","isFunction","isString","theKeys","skipProto","j","skipConstructor","equalsConstructorPrototypeIfNotBuggy","originalKeys","$Object","dotAll","unicode","sticky","Iterator_1","strValue","tryStringObject","exported","$Map","ctx","typedArray","canBeObject","toObject","propIsEnumerable","originalGetSymbols","source1","objTarget","getSymbols","letters","split","lacksProperEnumerationOrder","preventExtensions","thrower","1","assignHasPendingExceptions","prefix","Events","EE","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","apply","on","removeAllListeners","off","prefixed","origKeys","$onmozfullscreenchange","$onmozfullscreenerror","regexExec","exec","tryRegexExecCall","ERROR_MESSAGE","that","bound","binder","boundLength","max","boundArgs","Empty","$Function","$apply","$call","TypeErr","regex","polyfill","getDay","tryDateObject","diff_main","text1","text2","cursor_pos","_fix_unicode","editdiff","oldText","newText","oldRange","newRange","oldLength","newLength","oldCursor","oldBefore","oldAfter","maybeNewCursor","newCursor","newBefore","newAfter","prefixLength","oldPrefix","newPrefix","oldMiddle","newMiddle","make_edit_splice","suffixLength","oldSuffix","newSuffix","find_cursor_edit_diff","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","longtext","shorttext","hm","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","floor","best_common","text1_a","text1_b","text2_a","text2_b","hm1","ceil","hm2","mid_common","diff_halfMatch_","diffs_a","diffs_b","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","y1","x1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","diff_bisect_","diff_compute_","diff_cleanupMerge","fix_unicode","pointer","count_delete","count_insert","text_delete","text_insert","previous_equality","ends_with_pair_start","stray","starts_with_pair_end","changes","y","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","is_surrogate_pair_start","charCodeAt","pointerend","is_surrogate_pair_end","charCode","before","after","tuples","ret","remove_empty_tuples","keepNull","attr","baseInverted","memo","Iterator","retOp","substr","isNumber","isBoolean","isSymbol","isBigInt","numToStr","tryNumberObject","boolToStr","tryBooleanObject","symToStr","symStringRegex","test","isSymbolObject","BigInt","bigIntValueOf","tryBigInt","$indexOf","intrinsic","isMap","isSet","isWeakMap","isWeakSet","$WeakMap","$WeakSet","$iterator","iterable","$arrayPush","$charCodeAt","$stringSlice","getArrayIterator","arraylike","getNonCollectionIterator","nextIndex","S","first","second","advanceStringIndex","$mapForEach","$setForEach","process","versions","node","$mapIterator","$setIterator","getStopIterationIterator","$mapAtAtIterator","$setAtAtIterator","v","getCollectionIterator","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","inspect","$push","$weakMapGet","$weakMapSet","$weakMapHas","$mapSet","$wm","$m","$o","assert","objects","objectGet","objectHas","objectSet","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","weakSetHas","booleanValueOf","objectToString","inspectCustom","custom","inspectSymbol","wrapQuotes","defaultStyle","quoteChar","quoteStyle","inspect_","seen","lowbyte","inspectString","maxDepth","xs","from","f","nameOf","symString","markBoxed","HTMLElement","nodeName","getAttribute","isElement","toLowerCase","childNodes","arrObjKeys","isError","mapParts","collectionOf","setParts","weakCollectionOf","isRegExp","8","9","10","12","13","size","isArr","availableTypedArrays","$toString","typedArrays","$slice","toStrTags","superProto","isTypedArray","foundName","tryTypedArrays","self","val","tag","anyTrue","Scope","head","tail","nodes","insertBefore","append","cur","refNode","remove","prev","contains","curNode","inclusive","callback","startNode","find","curIndex","curLength","ParchmentError","super","classes","tags","types","bubble","blots","parentNode","scroll","input","query","blotClass","Node","nodeType","TEXT_NODE","blot","domNode","scope","ANY","Text","text","LEVEL","BLOCK","block","INLINE","inline","some","tagName","TYPE","definitions","register","definition","blotName","attrName","keyName","className","toUpperCase","document","createElement","classList","cloneNode","removeChild","isolate","BLOT","wrap","ATTRIBUTE","statics","format","def","ref","children","_context","requiredContainer","detach","replacement","_force","_mutations","wrapper","appendChild","makeAttachedBlot","replaceChild","attach","uiNode","build","uiClass","setAttribute","firstChild","reverse","forEachAt","childLength","deleteAt","criteria","descendant","MAX_VALUE","descendants","lengthLeft","childIndex","allowedChildren","BLOCK_BLOT","splitAfter","unwrap","formatAt","insertAt","childBlot","refBlot","refDomNode","nextSibling","targetParent","optimize","enforceAllowedChildren","defaultChild","position","path","moveChildren","replaceWith","force","_length","mutations","addedNodes","removedNodes","mutation","body","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","checkMerge","_domNode","_inclusive","INLINE_BLOT","attributeBit","whitelist","canAdd","_node","removeAttribute","camelize","part","trim","style","attribute","styles","formats","obj1","obj2","prop","isEqual","update","move","_scroll","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","registry","observer","MutationObserver","observe","disconnect","mutationsMap","records","takeRecords","mark","markParent","remaining","previousSibling","grandChild","createTextNode","data","splitText","levels","level","debug","method","console","namespace","logger","newLevel","eventName","addEventListener","querySelectorAll","quill","instances","handleDOM","Emitter","error","log","handler","listenDOM","EDITOR_CHANGE","SCROLL_BEFORE_UPDATE","SCROLL_BLOT_MOUNT","SCROLL_BLOT_UNMOUNT","SCROLL_OPTIMIZE","SCROLL_UPDATE","SELECTION_CHANGE","TEXT_CHANGE","sources","API","SILENT","USER","Range","Selection","composing","mouseDown","savedRange","lastRange","lastNative","handleComposition","handleDragging","hasFocus","native","getNativeRange","textNode","setNativeRange","ignored","range","startOffset","endNode","endOffset","batchStart","batchEnd","restore","focus","setRange","nativeRange","collapsed","LeafBlot","getBounds","scrollLength","leaf","createRange","setStart","setEnd","getBoundingClientRect","rect","side","bottom","top","height","left","right","width","selection","getSelection","rangeCount","getRangeAt","normalizeNative","info","getRange","normalized","normalizedToRange","activeElement","positions","indexes","startContainer","endContainer","lastChild","rangeToNative","leafOffset","scrollIntoView","scrollingContainer","bounds","limit","last","scrollBounds","scrollTop","removeAllRanges","addRange","blur","equal","TextBlot","escapeText","Cursor","EmbedBlot","CONTENTS","savedLength","prevTextBlot","prevTextLength","nextTextBlot","nextText","mergedTextBlot","newTextNode","remapOffset","Break","Inline","InlineBlot","selfIndex","order","otherIndex","compare","Block","BlockBlot","cache","blockDelta","lines","shift","lineIndex","BlockEmbed","AttributorStore","BLOCK_ATTRIBUTE","endsWith","bubbleFormats","ASCII","convertHTML","isRoot","html","items","indent","list","convertListHTML","lastIndent","endTag","getListType","previousType","outerHTML","innerHTML","combineFormats","combined","merged","shiftRange","amount","Editor","getDelta","applyDelta","consumeNextNewline","normalizedDelta","normalizeDelta","deleteText","formatLine","formatText","getContents","getFormat","leaves","formatsArr","getHTML","lineOffset","getText","insertEmbed","embed","insertText","isBlank","removeFormat","suffix","change","selectionInfo","oldDelta","textBlot","oldValue","CursorBlot","relativeSelectionInfo","Module","DEFAULTS","Theme","init","addModule","ModuleClass","import","themes","globalRegistry","Parchment","Quill","imports","overwrite","warn","startsWith","container","userConfig","clipboard","keyboard","history","uploader","theme","themeConfig","config","moduleConfig","moduleClass","toolbar","querySelector","expandConfig","addContainer","ScrollBlot","editor","toggle","modify","contents","convert","setContents","clear","placeholder","readOnly","disable","allowReadOnlyEdits","overload","enable","editReadOnly","modifier","enabled","setSelection","containerBounds","getLength","getIndex","getLeaf","getLine","getLines","getModule","getSemanticHTML","isEnabled","deleted","applied","setText","updateContents","pos","QUILL_VERSION","parchment","Container","ContainerBlot","Embed","contentNode","childNode","leftGuard","rightGuard","prevLength","isLine","Scroll","batch","handleDragStart","emitMount","emitUnmount","preventDefault","blotIndex","blotLength","AlignAttribute","Attributor","AlignClass","ClassAttributor","AlignStyle","StyleAttributor","ColorAttributor","hex","ColorClass","ColorStyle","BackgroundClass","BackgroundStyle","CodeBlockContainer","innerText","CodeBlock","Code","TAB","DirectionAttribute","DirectionClass","DirectionStyle","FontClass","FontStyle","SizeClass","SizeStyle","CLIPBOARD_CONFIG","includes","isPre","preNodes","replacer","collapse","replaced","matchNewline","deltaEndsWith","ELEMENT_NODE","applyFormat","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","fontStyle","italic","textDecoration","underline","strike","fontWeight","bold","textIndent","composed","language","table","row","matchAlias","Clipboard","onCaptureCopy","onCapturePaste","matchers","selector","matcher","addMatcher","DOMParser","parseFromString","nodeMatches","elementMatchers","textMatchers","prepareMatching","traverse","dangerouslyPasteHTML","paste","isCut","defaultPrevented","onCopy","clipboardData","setData","getData","files","upload","onPaste","pastedDelta","pair","newDelta","endText","childrenDelta","reducedDelta","History","lastRecorded","ignoreChange","userOnly","record","addBinding","shortKey","undo","shiftKey","redo","navigator","platform","dest","stack","inverseDelta","deleteLength","changeIndex","endsWithNewlineChange","getLastChangeIndex","cutoff","changeDelta","undoDelta","timestamp","now","delay","maxStack","transformStack","remoteDelta","SHORTKEY","Keyboard","which","bindings","handleEnter","metaKey","ctrlKey","altKey","userAgent","handleBackspace","handleDelete","handleDeleteRange","listen","keyBinding","normalize","singleBinding","isComposing","matches","leafStart","offsetStart","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","every","curFormats","prevFormats","formatDelta","nextFormats","firstFormats","lastFormats","lineFormats","makeCodeBlockHandler","textContent","makeEmbedArrowHandler","makeFormatHandler","makeTableArrowHandler","up","cell","targetRow","targetCell","targetLine","outdent","tab","header","getTable","tableSide","blockquote","numLines","Uploader","caretRangeFromPoint","clientX","clientY","caretPositionFromPoint","offsetNode","dataTransfer","uploads","file","mimetypes","promises","reader","FileReader","onload","readAsDataURL","images","image","IndentClass","Blockquote","Header","ListContainer","ListItem","ui","ownerDocument","listEventHandler","attachUI","Bold","Italic","Link","sanitize","url","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","Script","Strike","Underline","Formula","katex","render","throwOnError","errorColor","formula","ATTRIBUTES","Image","hasAttribute","execCommand","Video","video","TokenAttributor","CodeToken","SyntaxCodeBlock","SyntaxCodeBlockContainer","forceNext","highlight","forced","cachedText","BreakBlot","Syntax","hljs","languages","highlightBlot","initListener","initTimer","select","label","option","timer","interval","nodeText","TableCell","tableId","cellOffset","rowOffset","TableRow","thisHead","thisTail","nextHead","nextTail","childFormats","TableBody","TableContainer","balanceCells","rows","maxColumns","fill","cells","column","at","deleteColumn","insertColumn","insertRow","id","random","Table","listenBalanceCells","balanceTables","deleteRow","deleteTable","insertColumnLeft","insertColumnRight","insertRowAbove","insertRowBelow","insertTable","columns","old","Toolbar","groups","controls","group","control","addButton","addSelect","addControls","addHandler","selectedIndex","selected","prompt","isActive","clean","direction","align","link","alignLeftIcon","center","alignCenterIcon","alignRightIcon","justify","alignJustifyIcon","background","backgroundIcon","blockquoteIcon","boldIcon","cleanIcon","code","codeIcon","color","colorIcon","directionLeftToRightIcon","rtl","directionRightToLeftIcon","formulaIcon","headerIcon","header2Icon","italicIcon","imageIcon","indentIcon","outdentIcon","linkIcon","bullet","listBulletIcon","check","listCheckIcon","ordered","listOrderedIcon","script","sub","subscriptIcon","superscriptIcon","strikeIcon","tableIcon","underlineIcon","videoIcon","optionsCounter","toggleAriaAttribute","element","Picker","buildPicker","display","togglePicker","escape","buildItem","tabIndex","selectItem","buildLabel","DropdownIcon","buildOptions","close","trigger","dispatchEvent","Event","ColorPicker","backgroundColor","colorLabel","stroke","IconPicker","icons","defaultItem","Tooltip","boundsContainer","TEMPLATE","marginTop","hide","reference","offsetWidth","rootBounds","verticalShift","show","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","tooltip","textbox","pickers","picker","removeEventListener","extendToolbar","buildButtons","buttons","button","buildPickers","selects","fillSelect","edit","fileInput","click","BaseTooltip","save","cancel","preview","restoreFocus","linkRange","extractVideoUrl","defaultValue","TOOLBAR_CONFIG","BubbleTooltip","lastLine","indexBounds","arrow","marginLeft","BubbleTheme","SnowTooltip","LinkBlot","SnowTheme","Indent","List","InlineCode","Icons"],"mappings":"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","file":"quill.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 111);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar deep_equal_1 = __importDefault(require(\"deep-equal\"));\nvar extend_1 = __importDefault(require(\"extend\"));\nvar fast_diff_1 = __importDefault(require(\"fast-diff\"));\nvar AttributeMap_1 = __importDefault(require(\"./AttributeMap\"));\nvar Op_1 = __importDefault(require(\"./Op\"));\nvar NULL_CHARACTER = String.fromCharCode(0); // Placeholder char for embed in diff()\nvar Delta = /** @class */ (function () {\n    function Delta(ops) {\n        // Assume we are given a well formed ops\n        if (Array.isArray(ops)) {\n            this.ops = ops;\n        }\n        else if (ops != null && Array.isArray(ops.ops)) {\n            this.ops = ops.ops;\n        }\n        else {\n            this.ops = [];\n        }\n    }\n    Delta.prototype.insert = function (arg, attributes) {\n        var newOp = {};\n        if (typeof arg === 'string' && arg.length === 0) {\n            return this;\n        }\n        newOp.insert = arg;\n        if (attributes != null &&\n            typeof attributes === 'object' &&\n            Object.keys(attributes).length > 0) {\n            newOp.attributes = attributes;\n        }\n        return this.push(newOp);\n    };\n    Delta.prototype.delete = function (length) {\n        if (length <= 0) {\n            return this;\n        }\n        return this.push({ delete: length });\n    };\n    Delta.prototype.retain = function (length, attributes) {\n        if (length <= 0) {\n            return this;\n        }\n        var newOp = { retain: length };\n        if (attributes != null &&\n            typeof attributes === 'object' &&\n            Object.keys(attributes).length > 0) {\n            newOp.attributes = attributes;\n        }\n        return this.push(newOp);\n    };\n    Delta.prototype.push = function (newOp) {\n        var index = this.ops.length;\n        var lastOp = this.ops[index - 1];\n        newOp = extend_1.default(true, {}, newOp);\n        if (typeof lastOp === 'object') {\n            if (typeof newOp.delete === 'number' &&\n                typeof lastOp.delete === 'number') {\n                this.ops[index - 1] = { delete: lastOp.delete + newOp.delete };\n                return this;\n            }\n            // Since it does not matter if we insert before or after deleting at the same index,\n            // always prefer to insert first\n            if (typeof lastOp.delete === 'number' && newOp.insert != null) {\n                index -= 1;\n                lastOp = this.ops[index - 1];\n                if (typeof lastOp !== 'object') {\n                    this.ops.unshift(newOp);\n                    return this;\n                }\n            }\n            if (deep_equal_1.default(newOp.attributes, lastOp.attributes)) {\n                if (typeof newOp.insert === 'string' &&\n                    typeof lastOp.insert === 'string') {\n                    this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n                    if (typeof newOp.attributes === 'object') {\n                        this.ops[index - 1].attributes = newOp.attributes;\n                    }\n                    return this;\n                }\n                else if (typeof newOp.retain === 'number' &&\n                    typeof lastOp.retain === 'number') {\n                    this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n                    if (typeof newOp.attributes === 'object') {\n                        this.ops[index - 1].attributes = newOp.attributes;\n                    }\n                    return this;\n                }\n            }\n        }\n        if (index === this.ops.length) {\n            this.ops.push(newOp);\n        }\n        else {\n            this.ops.splice(index, 0, newOp);\n        }\n        return this;\n    };\n    Delta.prototype.chop = function () {\n        var lastOp = this.ops[this.ops.length - 1];\n        if (lastOp && lastOp.retain && !lastOp.attributes) {\n            this.ops.pop();\n        }\n        return this;\n    };\n    Delta.prototype.filter = function (predicate) {\n        return this.ops.filter(predicate);\n    };\n    Delta.prototype.forEach = function (predicate) {\n        this.ops.forEach(predicate);\n    };\n    Delta.prototype.map = function (predicate) {\n        return this.ops.map(predicate);\n    };\n    Delta.prototype.partition = function (predicate) {\n        var passed = [];\n        var failed = [];\n        this.forEach(function (op) {\n            var target = predicate(op) ? passed : failed;\n            target.push(op);\n        });\n        return [passed, failed];\n    };\n    Delta.prototype.reduce = function (predicate, initialValue) {\n        return this.ops.reduce(predicate, initialValue);\n    };\n    Delta.prototype.changeLength = function () {\n        return this.reduce(function (length, elem) {\n            if (elem.insert) {\n                return length + Op_1.default.length(elem);\n            }\n            else if (elem.delete) {\n                return length - elem.delete;\n            }\n            return length;\n        }, 0);\n    };\n    Delta.prototype.length = function () {\n        return this.reduce(function (length, elem) {\n            return length + Op_1.default.length(elem);\n        }, 0);\n    };\n    Delta.prototype.slice = function (start, end) {\n        if (start === void 0) { start = 0; }\n        if (end === void 0) { end = Infinity; }\n        var ops = [];\n        var iter = Op_1.default.iterator(this.ops);\n        var index = 0;\n        while (index < end && iter.hasNext()) {\n            var nextOp = void 0;\n            if (index < start) {\n                nextOp = iter.next(start - index);\n            }\n            else {\n                nextOp = iter.next(end - index);\n                ops.push(nextOp);\n            }\n            index += Op_1.default.length(nextOp);\n        }\n        return new Delta(ops);\n    };\n    Delta.prototype.compose = function (other) {\n        var thisIter = Op_1.default.iterator(this.ops);\n        var otherIter = Op_1.default.iterator(other.ops);\n        var ops = [];\n        var firstOther = otherIter.peek();\n        if (firstOther != null &&\n            typeof firstOther.retain === 'number' &&\n            firstOther.attributes == null) {\n            var firstLeft = firstOther.retain;\n            while (thisIter.peekType() === 'insert' &&\n                thisIter.peekLength() <= firstLeft) {\n                firstLeft -= thisIter.peekLength();\n                ops.push(thisIter.next());\n            }\n            if (firstOther.retain - firstLeft > 0) {\n                otherIter.next(firstOther.retain - firstLeft);\n            }\n        }\n        var delta = new Delta(ops);\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n            if (otherIter.peekType() === 'insert') {\n                delta.push(otherIter.next());\n            }\n            else if (thisIter.peekType() === 'delete') {\n                delta.push(thisIter.next());\n            }\n            else {\n                var length_1 = Math.min(thisIter.peekLength(), otherIter.peekLength());\n                var thisOp = thisIter.next(length_1);\n                var otherOp = otherIter.next(length_1);\n                if (typeof otherOp.retain === 'number') {\n                    var newOp = {};\n                    if (typeof thisOp.retain === 'number') {\n                        newOp.retain = length_1;\n                    }\n                    else {\n                        newOp.insert = thisOp.insert;\n                    }\n                    // Preserve null when composing with a retain, otherwise remove it for inserts\n                    var attributes = AttributeMap_1.default.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n                    if (attributes) {\n                        newOp.attributes = attributes;\n                    }\n                    delta.push(newOp);\n                    // Optimization if rest of other is just retain\n                    if (!otherIter.hasNext() &&\n                        deep_equal_1.default(delta.ops[delta.ops.length - 1], newOp)) {\n                        var rest = new Delta(thisIter.rest());\n                        return delta.concat(rest).chop();\n                    }\n                    // Other op should be delete, we could be an insert or retain\n                    // Insert + delete cancels out\n                }\n                else if (typeof otherOp.delete === 'number' &&\n                    typeof thisOp.retain === 'number') {\n                    delta.push(otherOp);\n                }\n            }\n        }\n        return delta.chop();\n    };\n    Delta.prototype.concat = function (other) {\n        var delta = new Delta(this.ops.slice());\n        if (other.ops.length > 0) {\n            delta.push(other.ops[0]);\n            delta.ops = delta.ops.concat(other.ops.slice(1));\n        }\n        return delta;\n    };\n    Delta.prototype.diff = function (other, cursor) {\n        if (this.ops === other.ops) {\n            return new Delta();\n        }\n        var strings = [this, other].map(function (delta) {\n            return delta\n                .map(function (op) {\n                if (op.insert != null) {\n                    return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n                }\n                var prep = delta === other ? 'on' : 'with';\n                throw new Error('diff() called ' + prep + ' non-document');\n            })\n                .join('');\n        });\n        var retDelta = new Delta();\n        var diffResult = fast_diff_1.default(strings[0], strings[1], cursor);\n        var thisIter = Op_1.default.iterator(this.ops);\n        var otherIter = Op_1.default.iterator(other.ops);\n        diffResult.forEach(function (component) {\n            var length = component[1].length;\n            while (length > 0) {\n                var opLength = 0;\n                switch (component[0]) {\n                    case fast_diff_1.default.INSERT:\n                        opLength = Math.min(otherIter.peekLength(), length);\n                        retDelta.push(otherIter.next(opLength));\n                        break;\n                    case fast_diff_1.default.DELETE:\n                        opLength = Math.min(length, thisIter.peekLength());\n                        thisIter.next(opLength);\n                        retDelta.delete(opLength);\n                        break;\n                    case fast_diff_1.default.EQUAL:\n                        opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n                        var thisOp = thisIter.next(opLength);\n                        var otherOp = otherIter.next(opLength);\n                        if (deep_equal_1.default(thisOp.insert, otherOp.insert)) {\n                            retDelta.retain(opLength, AttributeMap_1.default.diff(thisOp.attributes, otherOp.attributes));\n                        }\n                        else {\n                            retDelta.push(otherOp).delete(opLength);\n                        }\n                        break;\n                }\n                length -= opLength;\n            }\n        });\n        return retDelta.chop();\n    };\n    Delta.prototype.eachLine = function (predicate, newline) {\n        if (newline === void 0) { newline = '\\n'; }\n        var iter = Op_1.default.iterator(this.ops);\n        var line = new Delta();\n        var i = 0;\n        while (iter.hasNext()) {\n            if (iter.peekType() !== 'insert') {\n                return;\n            }\n            var thisOp = iter.peek();\n            var start = Op_1.default.length(thisOp) - iter.peekLength();\n            var index = typeof thisOp.insert === 'string'\n                ? thisOp.insert.indexOf(newline, start) - start\n                : -1;\n            if (index < 0) {\n                line.push(iter.next());\n            }\n            else if (index > 0) {\n                line.push(iter.next(index));\n            }\n            else {\n                if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n                    return;\n                }\n                i += 1;\n                line = new Delta();\n            }\n        }\n        if (line.length() > 0) {\n            predicate(line, {}, i);\n        }\n    };\n    Delta.prototype.invert = function (base) {\n        var inverted = new Delta();\n        this.reduce(function (baseIndex, op) {\n            if (op.insert) {\n                inverted.delete(Op_1.default.length(op));\n            }\n            else if (op.retain && op.attributes == null) {\n                inverted.retain(op.retain);\n                return baseIndex + op.retain;\n            }\n            else if (op.delete || (op.retain && op.attributes)) {\n                var length_2 = (op.delete || op.retain);\n                var slice = base.slice(baseIndex, baseIndex + length_2);\n                slice.forEach(function (baseOp) {\n                    if (op.delete) {\n                        inverted.push(baseOp);\n                    }\n                    else if (op.retain && op.attributes) {\n                        inverted.retain(Op_1.default.length(baseOp), AttributeMap_1.default.invert(op.attributes, baseOp.attributes));\n                    }\n                });\n                return baseIndex + length_2;\n            }\n            return baseIndex;\n        }, 0);\n        return inverted.chop();\n    };\n    Delta.prototype.transform = function (arg, priority) {\n        if (priority === void 0) { priority = false; }\n        priority = !!priority;\n        if (typeof arg === 'number') {\n            return this.transformPosition(arg, priority);\n        }\n        var other = arg;\n        var thisIter = Op_1.default.iterator(this.ops);\n        var otherIter = Op_1.default.iterator(other.ops);\n        var delta = new Delta();\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n            if (thisIter.peekType() === 'insert' &&\n                (priority || otherIter.peekType() !== 'insert')) {\n                delta.retain(Op_1.default.length(thisIter.next()));\n            }\n            else if (otherIter.peekType() === 'insert') {\n                delta.push(otherIter.next());\n            }\n            else {\n                var length_3 = Math.min(thisIter.peekLength(), otherIter.peekLength());\n                var thisOp = thisIter.next(length_3);\n                var otherOp = otherIter.next(length_3);\n                if (thisOp.delete) {\n                    // Our delete either makes their delete redundant or removes their retain\n                    continue;\n                }\n                else if (otherOp.delete) {\n                    delta.push(otherOp);\n                }\n                else {\n                    // We retain either their retain or insert\n                    delta.retain(length_3, AttributeMap_1.default.transform(thisOp.attributes, otherOp.attributes, priority));\n                }\n            }\n        }\n        return delta.chop();\n    };\n    Delta.prototype.transformPosition = function (index, priority) {\n        if (priority === void 0) { priority = false; }\n        priority = !!priority;\n        var thisIter = Op_1.default.iterator(this.ops);\n        var offset = 0;\n        while (thisIter.hasNext() && offset <= index) {\n            var length_4 = thisIter.peekLength();\n            var nextType = thisIter.peekType();\n            thisIter.next();\n            if (nextType === 'delete') {\n                index -= Math.min(length_4, index - offset);\n                continue;\n            }\n            else if (nextType === 'insert' && (offset < index || !priority)) {\n                index += length_4;\n            }\n            offset += length_4;\n        }\n        return index;\n    };\n    Delta.Op = Op_1.default;\n    Delta.AttributeMap = AttributeMap_1.default;\n    return Delta;\n}());\nmodule.exports = Delta;\n//# sourceMappingURL=Delta.js.map","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar origSymbol = global.Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","'use strict';\n\nvar objectKeys = require('object-keys');\nvar isArguments = require('is-arguments');\nvar is = require('object-is');\nvar isRegex = require('is-regex');\nvar flags = require('regexp.prototype.flags');\nvar isArray = require('isarray');\nvar isDate = require('is-date-object');\nvar whichBoxedPrimitive = require('which-boxed-primitive');\nvar GetIntrinsic = require('es-abstract/GetIntrinsic');\nvar callBound = require('es-abstract/helpers/callBound');\nvar whichCollection = require('which-collection');\nvar getIterator = require('es-get-iterator');\nvar getSideChannel = require('side-channel');\nvar whichTypedArray = require('which-typed-array');\nvar assign = require('object.assign');\n\nvar $getTime = callBound('Date.prototype.getTime');\nvar gPO = Object.getPrototypeOf;\nvar $objToString = callBound('Object.prototype.toString');\n\nvar $Set = GetIntrinsic('%Set%', true);\nvar $mapHas = callBound('Map.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSize = callBound('Map.prototype.size', true);\nvar $setAdd = callBound('Set.prototype.add', true);\nvar $setDelete = callBound('Set.prototype.delete', true);\nvar $setHas = callBound('Set.prototype.has', true);\nvar $setSize = callBound('Set.prototype.size', true);\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L401-L414\nfunction setHasEqualElement(set, val1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  while ((result = i.next()) && !result.done) {\n    if (internalDeepEqual(val1, result.value, opts, channel)) { // eslint-disable-line no-use-before-define\n      // Remove the matching element to make sure we do not check that again.\n      $setDelete(set, result.value);\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L416-L439\nfunction findLooseMatchingPrimitives(prim) {\n  if (typeof prim === 'undefined') {\n    return null;\n  }\n  if (typeof prim === 'object') { // Only pass in null as object!\n    return void 0;\n  }\n  if (typeof prim === 'symbol') {\n    return false;\n  }\n  if (typeof prim === 'string' || typeof prim === 'number') {\n    // Loose equal entries exist only if the string is possible to convert to a regular number and not NaN.\n    return +prim === +prim; // eslint-disable-line no-implicit-coercion\n  }\n  return true;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L449-L460\nfunction mapMightHaveLoosePrim(a, b, prim, item, opts, channel) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n  var curB = $mapGet(b, altValue);\n  var looseOpts = assign({}, opts, { strict: false });\n  if (\n    (typeof curB === 'undefined' && !$mapHas(b, altValue))\n    // eslint-disable-next-line no-use-before-define\n    || !internalDeepEqual(item, curB, looseOpts, channel)\n  ) {\n    return false;\n  }\n  // eslint-disable-next-line no-use-before-define\n  return !$mapHas(a, altValue) && internalDeepEqual(item, curB, looseOpts, channel);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L441-L447\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n\n  return $setHas(b, altValue) && !$setHas(a, altValue);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L518-L533\nfunction mapHasEqualEntry(set, map, key1, item1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  var key2;\n  while ((result = i.next()) && !result.done) {\n    key2 = result.value;\n    if (\n      // eslint-disable-next-line no-use-before-define\n      internalDeepEqual(key1, key2, opts, channel)\n      // eslint-disable-next-line no-use-before-define\n      && internalDeepEqual(item1, $mapGet(map, key2), opts, channel)\n    ) {\n      $setDelete(set, key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction internalDeepEqual(actual, expected, options, channel) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  var actualBoxed = whichBoxedPrimitive(actual);\n  var expectedBoxed = whichBoxedPrimitive(expected);\n  if (actualBoxed !== expectedBoxed) {\n    return false;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected; // eslint-disable-line eqeqeq\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // see https://github.com/nodejs/node/commit/d3aafd02efd3a403d646a3044adcf14e63a88d32 for memos/channel inspiration\n\n  var hasActual = channel.has(actual);\n  var hasExpected = channel.has(expected);\n  var sentinel;\n  if (hasActual && hasExpected) {\n    if (channel.get(actual) === channel.get(expected)) {\n      return true;\n    }\n  } else {\n    sentinel = {};\n  }\n  if (!hasActual) { channel.set(actual, sentinel); }\n  if (!hasExpected) { channel.set(expected, sentinel); }\n\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts, channel);\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n\n  return !!(x.constructor && x.constructor.isBuffer && x.constructor.isBuffer(x));\n}\n\nfunction setEquiv(a, b, opts, channel) {\n  if ($setSize(a) !== $setSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  while ((resultA = iA.next()) && !resultA.done) {\n    if (resultA.value && typeof resultA.value === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    } else if (!$setHas(b, resultA.value)) {\n      if (opts.strict) { return false; }\n      if (!setMightHaveLoosePrim(a, b, resultA.value)) {\n        return false;\n      }\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    }\n  }\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      // We have to check if a primitive value is already matching and only if it's not, go hunting for it.\n      if (resultB.value && typeof resultB.value === 'object') {\n        if (!setHasEqualElement(set, resultB.value, opts.strict, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && !$setHas(a, resultB.value)\n        && !setHasEqualElement(set, resultB.value, opts.strict, channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction mapEquiv(a, b, opts, channel) {\n  if ($mapSize(a) !== $mapSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  var key;\n  var item1;\n  var item2;\n  while ((resultA = iA.next()) && !resultA.done) {\n    key = resultA.value[0];\n    item1 = resultA.value[1];\n    if (key && typeof key === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, key);\n    } else {\n      item2 = $mapGet(b, key);\n      if ((typeof item2 === 'undefined' && !$mapHas(b, key)) || !internalDeepEqual(item1, item2, opts, channel)) {\n        if (opts.strict) {\n          return false;\n        }\n        if (!mapMightHaveLoosePrim(a, b, key, item1, opts, channel)) {\n          return false;\n        }\n        if (!set) { set = new $Set(); }\n        $setAdd(set, key);\n      }\n    }\n  }\n\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      key = resultB.value[0];\n      item2 = resultB.value[1];\n      if (key && typeof key === 'object') {\n        if (!mapHasEqualEntry(set, a, key, item2, opts, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && (!a.has(key) || !internalDeepEqual($mapGet(a, key), item2, opts, channel))\n        && !mapHasEqualEntry(set, a, key, item2, assign({}, opts, { strict: false }), channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts, channel) {\n  /* eslint max-statements: [2, 100], max-lines-per-function: [2, 120], max-depth: [2, 5] */\n  var i, key;\n\n  if (typeof a !== typeof b) { return false; }\n  if (a == null || b == null) { return false; }\n\n  if ($objToString(a) !== $objToString(b)) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsArray = isArray(a);\n  var bIsArray = isArray(b);\n  if (aIsArray !== bIsArray) { return false; }\n\n  // TODO: replace when a cross-realm brand check is available\n  var aIsError = a instanceof Error;\n  var bIsError = b instanceof Error;\n  if (aIsError !== bIsError) { return false; }\n  if (aIsError || bIsError) {\n    if (a.name !== b.name || a.message !== b.message) { return false; }\n  }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if ((aIsRegex || bIsRegex) && (a.source !== b.source || flags(a) !== flags(b))) {\n    return false;\n  }\n\n  var aIsDate = isDate(a);\n  var bIsDate = isDate(b);\n  if (aIsDate !== bIsDate) { return false; }\n  if (aIsDate || bIsDate) { // && would work too, because both are true or both false here\n    if ($getTime(a) !== $getTime(b)) { return false; }\n  }\n  if (opts.strict && gPO && gPO(a) !== gPO(b)) { return false; }\n\n  if (whichTypedArray(a) !== whichTypedArray(b)) {\n    return false;\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; } // eslint-disable-line eqeqeq\n  }\n\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!internalDeepEqual(a[key], b[key], opts, channel)) { return false; }\n  }\n\n  var aCollection = whichCollection(a);\n  var bCollection = whichCollection(b);\n  if (aCollection !== bCollection) {\n    return false;\n  }\n  if (aCollection === 'Set' || bCollection === 'Set') { // aCollection === bCollection\n    return setEquiv(a, b, opts, channel);\n  }\n  if (aCollection === 'Map') { // aCollection === bCollection\n    return mapEquiv(a, b, opts, channel);\n  }\n\n  return true;\n}\n\nmodule.exports = function deepEqual(a, b, opts) {\n  return internalDeepEqual(a, b, opts, getSideChannel());\n};\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar toStr = Object.prototype.toString;\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn toStr.call(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\ttoStr.call(value) !== '[object Array]' &&\n\t\ttoStr.call(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n// Exports\nmodule.exports = code;","var objectKeys = require('object-keys');\nvar isArguments = require('is-arguments');\nvar is = require('object-is');\nvar isRegex = require('is-regex');\nvar flags = require('regexp.prototype.flags');\nvar isDate = require('is-date-object');\n\nvar getTime = Date.prototype.getTime;\n\nfunction deepEqual(actual, expected, options) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected;\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts);\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  /* eslint max-statements: [2, 50] */\n  var i, key;\n  if (typeof a !== typeof b) { return false; }\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) { return false; }\n\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if (aIsRegex || bIsRegex) {\n    return a.source === b.source && flags(a) === flags(b);\n  }\n\n  if (isDate(a) && isDate(b)) {\n    return getTime.call(a) === getTime.call(b);\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  try {\n    var ka = objectKeys(a);\n    var kb = objectKeys(b);\n  } catch (e) { // happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; }\n  }\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) { return false; }\n  }\n\n  return true;\n}\n\nmodule.exports = deepEqual;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-object.is\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('es-abstract/helpers/callBind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = callBind(implementation);\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$applicationCache: true,\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar $Object = Object;\nvar $TypeError = TypeError;\n\nmodule.exports = function flags() {\n\tif (this != null && this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\nvar $TypeError = TypeError;\n\nmodule.exports = function getPolyfill() {\n\tif (!supportsDescriptors) {\n\t\tthrow new $TypeError('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tif ((/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (descriptor && typeof descriptor.get === 'function' && typeof (/a/).dotAll === 'boolean') {\n\t\t\treturn descriptor.get;\n\t\t}\n\t}\n\treturn implementation;\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Iterator_1 = __importDefault(require(\"./Iterator\"));\nvar Op;\n(function (Op) {\n    function iterator(ops) {\n        return new Iterator_1.default(ops);\n    }\n    Op.iterator = iterator;\n    function length(op) {\n        if (typeof op.delete === 'number') {\n            return op.delete;\n        }\n        else if (typeof op.retain === 'number') {\n            return op.retain;\n        }\n        else {\n            return typeof op.insert === 'string' ? op.insert.length : 1;\n        }\n    }\n    Op.length = length;\n})(Op || (Op = {}));\nexports.default = Op;\n//# sourceMappingURL=Op.js.map","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar strValue = String.prototype.valueOf;\nvar tryStringObject = function tryStringObject(value) {\n\ttry {\n\t\tstrValue.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar strClass = '[object String]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isString(value) {\n\tif (typeof value === 'string') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;\n};\n","'use strict';\n\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Map) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$mapHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $Map; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Set) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$setHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isSet(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$setHas.call(x);\n\t\tif ($mapHas) {\n\t\t\ttry {\n\t\t\t\t$mapHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $Set; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar filter = require('array-filter');\n\nmodule.exports = function availableTypedArrays() {\n\treturn filter([\n\t\t'BigInt64Array',\n\t\t'BigUint64Array',\n\t\t'Float32Array',\n\t\t'Float64Array',\n\t\t'Int16Array',\n\t\t'Int32Array',\n\t\t'Int8Array',\n\t\t'Uint16Array',\n\t\t'Uint32Array',\n\t\t'Uint8Array',\n\t\t'Uint8ClampedArray'\n\t], function (typedArray) {\n\t\treturn typeof global[typedArray] === 'function';\n\t});\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = require('object-keys');\nvar bind = require('function-bind');\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = require('has-symbols/shams')();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tsyms = getSymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=2 width=3 x=5 y=5></rect> <rect class=ql-fill height=2 width=4 x=9 y=5></rect> <g class=\\\"ql-fill ql-transparent\\\"> <rect height=2 width=3 x=5 y=8></rect> <rect height=2 width=4 x=9 y=8></rect> <rect height=2 width=3 x=5 y=11></rect> <rect height=2 width=4 x=9 y=11></rect> </g> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n// Exports\nmodule.exports = code;","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int|Object} [cursor_pos] Edit position in text1 or object with more info\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos, _fix_unicode) {\n  // Check for equality\n  if (text1 === text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  if (cursor_pos != null) {\n    var editdiff = find_cursor_edit_diff(text1, text2, cursor_pos);\n    if (editdiff) {\n      return editdiff;\n    }\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs, _fix_unicode);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i !== -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [\n      [DIFF_INSERT, longtext.substring(0, i)],\n      [DIFF_EQUAL, shorttext],\n      [DIFF_INSERT, longtext.substring(i + shorttext.length)]\n    ];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length === 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 !== 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 === -d || (k1 !== d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (\n        x1 < text1_length && y1 < text2_length &&\n        text1.charAt(x1) === text2.charAt(y1)\n      ) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] !== -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 === -d || (k2 !== d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (\n        x2 < text1_length && y2 < text2_length &&\n        text1.charAt(text1_length - x2 - 1) === text2.charAt(text2_length - y2 - 1)\n      ) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] !== -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) !== text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(pointerstart, pointermid) ==\n      text2.substring(pointerstart, pointermid)\n    ) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_start(text1.charCodeAt(pointermid - 1))) {\n    pointermid--;\n  }\n\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.slice(-1) !== text2.slice(-1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n      text2.substring(text2.length - pointermid, text2.length - pointerend)\n    ) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_end(text1.charCodeAt(text1.length - pointermid))) {\n    pointermid--;\n  }\n\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) !== -1) {\n      var prefixLength = diff_commonPrefix(\n        longtext.substring(i), shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(\n        longtext.substring(0, i), shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(\n          j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [\n        best_longtext_a, best_longtext_b,\n        best_shorttext_a, best_shorttext_b, best_common\n      ];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n * @param {boolean} fix_unicode Whether to normalize to a unicode-correct diff\n */\nfunction diff_cleanupMerge(diffs, fix_unicode) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n      diffs.splice(pointer, 1);\n      continue;\n    }\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        var previous_equality = pointer - count_insert - count_delete - 1;\n        if (fix_unicode) {\n          // prevent splitting of unicode surrogate pairs.  when fix_unicode is true,\n          // we assume that the old and new text in the diff are complete and correct\n          // unicode-encoded JS strings, but the tuple boundaries may fall between\n          // surrogate pairs.  we fix this by shaving off stray surrogates from the end\n          // of the previous equality and the beginning of this equality.  this may create\n          // empty equalities or a common prefix or suffix.  for example, if AB and AC are\n          // emojis, `[[0, 'A'], [-1, 'BA'], [0, 'C']]` would turn into deleting 'ABAC' and\n          // inserting 'AC', and then the common suffix 'AC' will be eliminated.  in this\n          // particular case, both equalities go away, we absorb any previous inequalities,\n          // and we keep scanning for the next equality before rewriting the tuples.\n          if (previous_equality >= 0 && ends_with_pair_start(diffs[previous_equality][1])) {\n            var stray = diffs[previous_equality][1].slice(-1);\n            diffs[previous_equality][1] = diffs[previous_equality][1].slice(0, -1);\n            text_delete = stray + text_delete;\n            text_insert = stray + text_insert;\n            if (!diffs[previous_equality][1]) {\n              // emptied out previous equality, so delete it and include previous delete/insert\n              diffs.splice(previous_equality, 1);\n              pointer--;\n              var k = previous_equality - 1;\n              if (diffs[k] && diffs[k][0] === DIFF_INSERT) {\n                count_insert++;\n                text_insert = diffs[k][1] + text_insert;\n                k--;\n              }\n              if (diffs[k] && diffs[k][0] === DIFF_DELETE) {\n                count_delete++;\n                text_delete = diffs[k][1] + text_delete;\n                k--;\n              }\n              previous_equality = k;\n            }\n          }\n          if (starts_with_pair_end(diffs[pointer][1])) {\n            var stray = diffs[pointer][1].charAt(0);\n            diffs[pointer][1] = diffs[pointer][1].slice(1);\n            text_delete += stray;\n            text_insert += stray;\n          }\n        }\n        if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n          // for empty equality not at end, wait for next equality\n          diffs.splice(pointer, 1);\n          break;\n        }\n        if (text_delete.length > 0 || text_insert.length > 0) {\n          // note that diff_commonPrefix and diff_commonSuffix are unicode-aware\n          if (text_delete.length > 0 && text_insert.length > 0) {\n            // Factor out any common prefixes.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if (previous_equality >= 0) {\n                diffs[previous_equality][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixes.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] =\n                text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          var n = count_insert + count_delete;\n          if (text_delete.length === 0 && text_insert.length === 0) {\n            diffs.splice(pointer - n, n);\n            pointer = pointer - n;\n          } else if (text_delete.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_INSERT, text_insert]);\n            pointer = pointer - n + 1;\n          } else if (text_insert.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete]);\n            pointer = pointer - n + 1;\n          } else {\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);\n            pointer = pointer - n + 2;\n          }\n        }\n        if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL &&\n      diffs[pointer + 1][0] === DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n        diffs[pointer - 1][1].length) === diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n          diffs[pointer][1].substring(0, diffs[pointer][1].length -\n            diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n        diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n          diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n          diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs, fix_unicode);\n  }\n};\n\nfunction is_surrogate_pair_start(charCode) {\n  return charCode >= 0xD800 && charCode <= 0xDBFF;\n}\n\nfunction is_surrogate_pair_end(charCode) {\n  return charCode >= 0xDC00 && charCode <= 0xDFFF;\n}\n\nfunction starts_with_pair_end(str) {\n  return is_surrogate_pair_end(str.charCodeAt(0));\n}\n\nfunction ends_with_pair_start(str) {\n  return is_surrogate_pair_start(str.charCodeAt(str.length - 1));\n}\n\nfunction remove_empty_tuples(tuples) {\n  var ret = [];\n  for (var i = 0; i < tuples.length; i++) {\n    if (tuples[i][1].length > 0) {\n      ret.push(tuples[i]);\n    }\n  }\n  return ret;\n}\n\nfunction make_edit_splice(before, oldMiddle, newMiddle, after) {\n  if (ends_with_pair_start(before) || starts_with_pair_end(after)) {\n    return null;\n  }\n  return remove_empty_tuples([\n    [DIFF_EQUAL, before],\n    [DIFF_DELETE, oldMiddle],\n    [DIFF_INSERT, newMiddle],\n    [DIFF_EQUAL, after]\n  ]);\n}\n\nfunction find_cursor_edit_diff(oldText, newText, cursor_pos) {\n  // note: this runs after equality check has ruled out exact equality\n  var oldRange = typeof cursor_pos === 'number' ?\n    { index: cursor_pos, length: 0 } : cursor_pos.oldRange;\n  var newRange = typeof cursor_pos === 'number' ?\n    null : cursor_pos.newRange;\n  // take into account the old and new selection to generate the best diff\n  // possible for a text edit.  for example, a text change from \"xxx\" to \"xx\"\n  // could be a delete or forwards-delete of any one of the x's, or the\n  // result of selecting two of the x's and typing \"x\".\n  var oldLength = oldText.length;\n  var newLength = newText.length;\n  if (oldRange.length === 0 && (newRange === null || newRange.length === 0)) {\n    // see if we have an insert or delete before or after cursor\n    var oldCursor = oldRange.index;\n    var oldBefore = oldText.slice(0, oldCursor);\n    var oldAfter = oldText.slice(oldCursor);\n    var maybeNewCursor = newRange ? newRange.index : null;\n    editBefore: {\n      // is this an insert or delete right before oldCursor?\n      var newCursor = oldCursor + newLength - oldLength;\n      if (maybeNewCursor !== null && maybeNewCursor !== newCursor) {\n        break editBefore;\n      }\n      if (newCursor < 0 || newCursor > newLength) {\n        break editBefore;\n      }\n      var newBefore = newText.slice(0, newCursor);\n      var newAfter = newText.slice(newCursor);\n      if (newAfter !== oldAfter) {\n        break editBefore;\n      }\n      var prefixLength = Math.min(oldCursor, newCursor);\n      var oldPrefix = oldBefore.slice(0, prefixLength);\n      var newPrefix = newBefore.slice(0, prefixLength);\n      if (oldPrefix !== newPrefix) {\n        break editBefore;\n      }\n      var oldMiddle = oldBefore.slice(prefixLength);\n      var newMiddle = newBefore.slice(prefixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldAfter);\n    }\n    editAfter: {\n      // is this an insert or delete right after oldCursor?\n      if (maybeNewCursor !== null && maybeNewCursor !== oldCursor) {\n        break editAfter;\n      }\n      var cursor = oldCursor;\n      var newBefore = newText.slice(0, cursor);\n      var newAfter = newText.slice(cursor);\n      if (newBefore !== oldBefore) {\n        break editAfter;\n      }\n      var suffixLength = Math.min(oldLength - cursor, newLength - cursor);\n      var oldSuffix = oldAfter.slice(oldAfter.length - suffixLength);\n      var newSuffix = newAfter.slice(newAfter.length - suffixLength);\n      if (oldSuffix !== newSuffix) {\n        break editAfter;\n      }\n      var oldMiddle = oldAfter.slice(0, oldAfter.length - suffixLength);\n      var newMiddle = newAfter.slice(0, newAfter.length - suffixLength);\n      return make_edit_splice(oldBefore, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n  if (oldRange.length > 0 && newRange && newRange.length === 0) {\n    replaceRange: {\n      // see if diff could be a splice of the old selection range\n      var oldPrefix = oldText.slice(0, oldRange.index);\n      var oldSuffix = oldText.slice(oldRange.index + oldRange.length);\n      var prefixLength = oldPrefix.length;\n      var suffixLength = oldSuffix.length;\n      if (newLength < prefixLength + suffixLength) {\n        break replaceRange;\n      }\n      var newPrefix = newText.slice(0, prefixLength);\n      var newSuffix = newText.slice(newLength - suffixLength);\n      if (oldPrefix !== newPrefix || oldSuffix !== newSuffix) {\n        break replaceRange;\n      }\n      var oldMiddle = oldText.slice(prefixLength, oldLength - suffixLength);\n      var newMiddle = newText.slice(prefixLength, newLength - suffixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n\n  return null;\n}\n\nfunction diff(text1, text2, cursor_pos) {\n  // only pass fix_unicode=true at the top level, not when diff_main is\n  // recursively invoked\n  return diff_main(text1, text2, cursor_pos, true);\n}\n\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar deep_equal_1 = __importDefault(require(\"deep-equal\"));\nvar extend_1 = __importDefault(require(\"extend\"));\nvar AttributeMap;\n(function (AttributeMap) {\n    function compose(a, b, keepNull) {\n        if (a === void 0) { a = {}; }\n        if (b === void 0) { b = {}; }\n        if (typeof a !== 'object') {\n            a = {};\n        }\n        if (typeof b !== 'object') {\n            b = {};\n        }\n        var attributes = extend_1.default(true, {}, b);\n        if (!keepNull) {\n            attributes = Object.keys(attributes).reduce(function (copy, key) {\n                if (attributes[key] != null) {\n                    copy[key] = attributes[key];\n                }\n                return copy;\n            }, {});\n        }\n        for (var key in a) {\n            if (a[key] !== undefined && b[key] === undefined) {\n                attributes[key] = a[key];\n            }\n        }\n        return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n    AttributeMap.compose = compose;\n    function diff(a, b) {\n        if (a === void 0) { a = {}; }\n        if (b === void 0) { b = {}; }\n        if (typeof a !== 'object') {\n            a = {};\n        }\n        if (typeof b !== 'object') {\n            b = {};\n        }\n        var attributes = Object.keys(a)\n            .concat(Object.keys(b))\n            .reduce(function (attrs, key) {\n            if (!deep_equal_1.default(a[key], b[key])) {\n                attrs[key] = b[key] === undefined ? null : b[key];\n            }\n            return attrs;\n        }, {});\n        return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n    AttributeMap.diff = diff;\n    function invert(attr, base) {\n        if (attr === void 0) { attr = {}; }\n        if (base === void 0) { base = {}; }\n        attr = attr || {};\n        var baseInverted = Object.keys(base).reduce(function (memo, key) {\n            if (base[key] !== attr[key] && attr[key] !== undefined) {\n                memo[key] = base[key];\n            }\n            return memo;\n        }, {});\n        return Object.keys(attr).reduce(function (memo, key) {\n            if (attr[key] !== base[key] && base[key] === undefined) {\n                memo[key] = null;\n            }\n            return memo;\n        }, baseInverted);\n    }\n    AttributeMap.invert = invert;\n    function transform(a, b, priority) {\n        if (priority === void 0) { priority = false; }\n        if (typeof a !== 'object') {\n            return b;\n        }\n        if (typeof b !== 'object') {\n            return undefined;\n        }\n        if (!priority) {\n            return b; // b simply overwrites us without priority\n        }\n        var attributes = Object.keys(b).reduce(function (attrs, key) {\n            if (a[key] === undefined) {\n                attrs[key] = b[key]; // null is a valid value\n            }\n            return attrs;\n        }, {});\n        return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n    AttributeMap.transform = transform;\n})(AttributeMap || (AttributeMap = {}));\nexports.default = AttributeMap;\n//# sourceMappingURL=AttributeMap.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Op_1 = __importDefault(require(\"./Op\"));\nvar Iterator = /** @class */ (function () {\n    function Iterator(ops) {\n        this.ops = ops;\n        this.index = 0;\n        this.offset = 0;\n    }\n    Iterator.prototype.hasNext = function () {\n        return this.peekLength() < Infinity;\n    };\n    Iterator.prototype.next = function (length) {\n        if (!length) {\n            length = Infinity;\n        }\n        var nextOp = this.ops[this.index];\n        if (nextOp) {\n            var offset = this.offset;\n            var opLength = Op_1.default.length(nextOp);\n            if (length >= opLength - offset) {\n                length = opLength - offset;\n                this.index += 1;\n                this.offset = 0;\n            }\n            else {\n                this.offset += length;\n            }\n            if (typeof nextOp.delete === 'number') {\n                return { delete: length };\n            }\n            else {\n                var retOp = {};\n                if (nextOp.attributes) {\n                    retOp.attributes = nextOp.attributes;\n                }\n                if (typeof nextOp.retain === 'number') {\n                    retOp.retain = length;\n                }\n                else if (typeof nextOp.insert === 'string') {\n                    retOp.insert = nextOp.insert.substr(offset, length);\n                }\n                else {\n                    // offset should === 0, length should === 1\n                    retOp.insert = nextOp.insert;\n                }\n                return retOp;\n            }\n        }\n        else {\n            return { retain: Infinity };\n        }\n    };\n    Iterator.prototype.peek = function () {\n        return this.ops[this.index];\n    };\n    Iterator.prototype.peekLength = function () {\n        if (this.ops[this.index]) {\n            // Should never return 0 if our index is being managed correctly\n            return Op_1.default.length(this.ops[this.index]) - this.offset;\n        }\n        else {\n            return Infinity;\n        }\n    };\n    Iterator.prototype.peekType = function () {\n        if (this.ops[this.index]) {\n            if (typeof this.ops[this.index].delete === 'number') {\n                return 'delete';\n            }\n            else if (typeof this.ops[this.index].retain === 'number') {\n                return 'retain';\n            }\n            else {\n                return 'insert';\n            }\n        }\n        return 'retain';\n    };\n    Iterator.prototype.rest = function () {\n        if (!this.hasNext()) {\n            return [];\n        }\n        else if (this.offset === 0) {\n            return this.ops.slice(this.index);\n        }\n        else {\n            var offset = this.offset;\n            var index = this.index;\n            var next = this.next();\n            var rest = this.ops.slice(this.index);\n            this.offset = offset;\n            this.index = index;\n            return [next].concat(rest);\n        }\n    };\n    return Iterator;\n}());\nexports.default = Iterator;\n//# sourceMappingURL=Iterator.js.map","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0; // eslint-disable-line no-param-reassign\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex; // eslint-disable-line no-param-reassign\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar isString = require('is-string');\nvar isNumber = require('is-number-object');\nvar isBoolean = require('is-boolean-object');\nvar isSymbol = require('is-symbol');\nvar isBigInt = require('is-bigint');\n\n// eslint-disable-next-line consistent-return\nmodule.exports = function whichBoxedPrimitive(value) {\n\t// eslint-disable-next-line eqeqeq\n\tif (value == null || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\treturn null;\n\t}\n\tif (isString(value)) {\n\t\treturn 'String';\n\t}\n\tif (isNumber(value)) {\n\t\treturn 'Number';\n\t}\n\tif (isBoolean(value)) {\n\t\treturn 'Boolean';\n\t}\n\tif (isSymbol(value)) {\n\t\treturn 'Symbol';\n\t}\n\tif (isBigInt(value)) {\n\t\treturn 'BigInt';\n\t}\n};\n","'use strict';\n\nvar numToStr = Number.prototype.toString;\nvar tryNumberObject = function tryNumberObject(value) {\n\ttry {\n\t\tnumToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar numClass = '[object Number]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isNumberObject(value) {\n\tif (typeof value === 'number') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryNumberObject(value) : toStr.call(value) === numClass;\n};\n","'use strict';\n\nvar boolToStr = Boolean.prototype.toString;\n\nvar tryBooleanObject = function booleanBrandCheck(value) {\n\ttry {\n\t\tboolToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar boolClass = '[object Boolean]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isBoolean(value) {\n\tif (typeof value === 'boolean') {\n\t\treturn true;\n\t}\n\tif (value === null || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag && Symbol.toStringTag in value ? tryBooleanObject(value) : toStr.call(value) === boolClass;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = require('has-symbols')();\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isRealSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') {\n\t\t\treturn false;\n\t\t}\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') {\n\t\t\treturn true;\n\t\t}\n\t\tif (toStr.call(value) !== '[object Symbol]') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nif (typeof BigInt === 'function') {\n\tvar bigIntValueOf = BigInt.prototype.valueOf;\n\tvar tryBigInt = function tryBigIntObject(value) {\n\t\ttry {\n\t\t\tbigIntValueOf.call(value);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t}\n\t\treturn false;\n\t};\n\n\tmodule.exports = function isBigInt(value) {\n\t\tif (\n\t\t\tvalue === null\n\t\t\t|| typeof value === 'undefined'\n\t\t\t|| typeof value === 'boolean'\n\t\t\t|| typeof value === 'string'\n\t\t\t|| typeof value === 'number'\n\t\t\t|| typeof value === 'symbol'\n\t\t\t|| typeof value === 'function'\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof value === 'bigint') { // eslint-disable-line valid-typeof\n\t\t\treturn true;\n\t\t}\n\n\t\treturn tryBigInt(value);\n\t};\n} else {\n\tmodule.exports = function isBigInt(value) {\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBind = require('./callBind');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","'use strict';\n\nvar isMap = require('is-map');\nvar isSet = require('is-set');\nvar isWeakMap = require('is-weakmap');\nvar isWeakSet = require('is-weakset');\n\nmodule.exports = function whichCollection(value) {\n\tif (value && typeof value === 'object') {\n\t\tif (isMap(value)) {\n\t\t\treturn 'Map';\n\t\t}\n\t\tif (isSet(value)) {\n\t\t\treturn 'Set';\n\t\t}\n\t\tif (isWeakMap(value)) {\n\t\t\treturn 'WeakMap';\n\t\t}\n\t\tif (isWeakSet(value)) {\n\t\t\treturn 'WeakSet';\n\t\t}\n\t}\n\treturn false;\n};\n","'use strict';\n\nvar $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;\nvar $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;\n\nvar exported;\n\nif (!$WeakMap) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $WeakMap ? $WeakMap.prototype.has : null;\nvar $setHas = $WeakSet ? $WeakSet.prototype.has : null;\nif (!exported && !$mapHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isWeakMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x, $mapHas);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x, $setHas);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $WeakMap; // core-js workaround, pre-v3\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\nvar $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;\nvar $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;\n\nvar exported;\n\nif (!$WeakMap) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakSet(x) {\n\t\t// `WeakSet` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $WeakMap ? $WeakMap.prototype.has : null;\nvar $setHas = $WeakSet ? $WeakSet.prototype.has : null;\nif (!exported && !$setHas) {\n\t// eslint-disable-next-line no-unused-vars\n\tmodule.exports = function isWeakSet(x) {\n\t\t// `WeakSet` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isWeakSet(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$setHas.call(x, $setHas);\n\t\tif ($mapHas) {\n\t\t\ttry {\n\t\t\t\t$mapHas.call(x, $mapHas);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $WeakSet; // core-js workaround, pre-v3\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\n/* eslint global-require: 0 */\n// the code is structured this way so that bundlers can\n// alias out `has-symbols` to `() => true` or `() => false` if your target\n// environments' Symbol capabilities are known, and then use\n// dead code elimination on the rest of this module.\n//\n// Similarly, `isarray` can be aliased to `Array.isArray` if\n// available in all target environments.\n\nvar isArguments = require('is-arguments');\n\nif (require('has-symbols')() || require('has-symbols/shams')()) {\n\tvar $iterator = Symbol.iterator;\n\t// Symbol is available natively or shammed\n\t// natively:\n\t//  - Chrome >= 38\n\t//  - Edge 12-14?, Edge >= 15 for sure\n\t//  - FF >= 36\n\t//  - Safari >= 9\n\t//  - node >= 0.12\n\tmodule.exports = function getIterator(iterable) {\n\t\t// alternatively, `iterable[$iterator]?.()`\n\t\tif (iterable != null && typeof iterable[$iterator] !== 'undefined') {\n\t\t\treturn iterable[$iterator]();\n\t\t}\n\t\tif (isArguments(iterable)) {\n\t\t\t// arguments objects lack Symbol.iterator\n\t\t\t// - node 0.12\n\t\t\treturn Array.prototype[$iterator].call(iterable);\n\t\t}\n\t};\n} else {\n\t// Symbol is not available, native or shammed\n\tvar isArray = require('isarray');\n\tvar isString = require('is-string');\n\tvar GetIntrinsic = require('es-abstract/GetIntrinsic');\n\tvar $Map = GetIntrinsic('%Map%', true);\n\tvar $Set = GetIntrinsic('%Set%', true);\n\tvar callBound = require('es-abstract/helpers/callBound');\n\tvar $arrayPush = callBound('Array.prototype.push');\n\tvar $charCodeAt = callBound('String.prototype.charCodeAt');\n\tvar $stringSlice = callBound('String.prototype.slice');\n\n\tvar advanceStringIndex = function advanceStringIndex(S, index) {\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar first = $charCodeAt(S, index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar second = $charCodeAt(S, index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\treturn index + 2;\n\t};\n\n\tvar getArrayIterator = function getArrayIterator(arraylike) {\n\t\tvar i = 0;\n\t\treturn {\n\t\t\tnext: function next() {\n\t\t\t\tvar done = i >= arraylike.length;\n\t\t\t\tvar value;\n\t\t\t\tif (!done) {\n\t\t\t\t\tvalue = arraylike[i];\n\t\t\t\t\ti += 1;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdone: done,\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t};\n\n\tvar getNonCollectionIterator = function getNonCollectionIterator(iterable) {\n\t\tif (isArray(iterable) || isArguments(iterable)) {\n\t\t\treturn getArrayIterator(iterable);\n\t\t}\n\t\tif (isString(iterable)) {\n\t\t\tvar i = 0;\n\t\t\treturn {\n\t\t\t\tnext: function next() {\n\t\t\t\t\tvar nextIndex = advanceStringIndex(iterable, i);\n\t\t\t\t\tvar value = $stringSlice(iterable, i, nextIndex);\n\t\t\t\t\ti = nextIndex;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: nextIndex > iterable.length,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n\n\tif (!$Map && !$Set) {\n\t\t// the only language iterables are Array, String, arguments\n\t\t// - Safari <= 6.0\n\t\t// - Chrome < 38\n\t\t// - node < 0.12\n\t\t// - FF < 13\n\t\t// - IE < 11\n\t\t// - Edge < 11\n\n\t\tmodule.exports = getNonCollectionIterator;\n\t} else {\n\t\t// either Map or Set are available, but Symbol is not\n\t\t// - es6-shim on an ES5 browser\n\t\t// - Safari 6.2 (maybe 6.1?)\n\t\t// - FF v[13, 36)\n\t\t// - IE 11\n\t\t// - Edge 11\n\t\t// - Safari v[6, 9)\n\n\t\tvar isMap = require('is-map');\n\t\tvar isSet = require('is-set');\n\n\t\t// Firefox >= 27, IE 11, Safari 6.2 - 9, Edge 11, es6-shim in older envs, all have forEach\n\t\tvar $mapForEach = callBound('Map.prototype.forEach', true);\n\t\tvar $setForEach = callBound('Set.prototype.forEach', true);\n\t\tif (typeof process === 'undefined' || !process.versions || !process.versions.node) { // \"if is not node\"\n\n\t\t\t// Firefox 17 - 26 has `.iterator()`, whose iterator `.next()` either\n\t\t\t// returns a value, or throws a StopIteration object. These browsers\n\t\t\t// do not have any other mechanism for iteration.\n\t\t\tvar $mapIterator = callBound('Map.prototype.iterator', true);\n\t\t\tvar $setIterator = callBound('Set.prototype.iterator', true);\n\t\t\tvar getStopIterationIterator = function (iterator) {\n\t\t\t\tvar done = false;\n\t\t\t\treturn {\n\t\t\t\t\tnext: function next() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdone: done,\n\t\t\t\t\t\t\t\tvalue: done ? undefined : iterator.next()\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tdone = true;\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdone: true,\n\t\t\t\t\t\t\t\tvalue: undefined\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\t\t// Firefox 27-35, and some older es6-shim versions, use a string \"@@iterator\" property\n\t\t// this returns a proper iterator object, so we should use it instead of forEach.\n\t\t// newer es6-shim versions use a string \"_es6-shim iterator_\" property.\n\t\tvar $mapAtAtIterator = callBound('Map.prototype.@@iterator', true) || callBound('Map.prototype._es6-shim iterator_', true);\n\t\tvar $setAtAtIterator = callBound('Set.prototype.@@iterator', true) || callBound('Set.prototype._es6-shim iterator_', true);\n\n\t\tvar getCollectionIterator = function getCollectionIterator(iterable) {\n\t\t\tif (isMap(iterable)) {\n\t\t\t\tif ($mapIterator) {\n\t\t\t\t\treturn getStopIterationIterator($mapIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($mapAtAtIterator) {\n\t\t\t\t\treturn $mapAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($mapForEach) {\n\t\t\t\t\tvar entries = [];\n\t\t\t\t\t$mapForEach(iterable, function (v, k) {\n\t\t\t\t\t\t$arrayPush(entries, [k, v]);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(entries);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSet(iterable)) {\n\t\t\t\tif ($setIterator) {\n\t\t\t\t\treturn getStopIterationIterator($setIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($setAtAtIterator) {\n\t\t\t\t\treturn $setAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($setForEach) {\n\t\t\t\t\tvar values = [];\n\t\t\t\t\t$setForEach(iterable, function (v) {\n\t\t\t\t\t\t$arrayPush(values, v);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(values);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tmodule.exports = function getIterator(iterable) {\n\t\t\treturn getCollectionIterator(iterable) || getNonCollectionIterator(iterable);\n\t\t};\n\t}\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBind = require('./callBind');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","'use strict';\n\nvar GetIntrinsic = require('es-abstract/GetIntrinsic');\nvar callBound = require('es-abstract/helpers/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\nvar $push = callBound('Array.prototype.push');\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\nvar objectGet = function (objects, key) { // eslint-disable-line consistent-return\n\tfor (var i = 0; i < objects.length; i += 1) {\n\t\tif (objects[i].key === key) {\n\t\t\treturn objects[i].value;\n\t\t}\n\t}\n};\nvar objectSet = function (objects, key, value) {\n\tfor (var i = 0; i < objects.length; i += 1) {\n\t\tif (objects[i].key === key) {\n\t\t\tobjects[i].value = value; // eslint-disable-line no-param-reassign\n\t\t\treturn;\n\t\t}\n\t}\n\t$push(objects, {\n\t\tkey: key,\n\t\tvalue: value\n\t});\n};\nvar objectHas = function (objects, key) {\n\tfor (var i = 0; i < objects.length; i += 1) {\n\t\tif (objects[i].key === key) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn objectGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn objectHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t$o = [];\n\t\t\t\t}\n\t\t\t\tobjectSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBind = require('./callBind');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar match = String.prototype.match;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\n\nvar inspectCustom = require('./util.inspect').custom;\nvar inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        return String(obj);\n    }\n    if (typeof obj === 'bigint') { // eslint-disable-line valid-typeof\n        return String(obj) + 'n';\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return '[Object]';\n    }\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from) {\n        if (from) {\n            seen = seen.slice();\n            seen.push(from);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        return '[Function' + (name ? ': ' + name : '') + ']';\n    }\n    if (isSymbol(obj)) {\n        var symString = Symbol.prototype.toString.call(obj);\n        return typeof obj === 'object' ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + String(obj.nodeName).toLowerCase();\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + String(obj.nodeName).toLowerCase() + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        return '[ ' + arrObjKeys(obj, inspect).join(', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';\n    }\n    if (typeof obj === 'object') {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var xs = arrObjKeys(obj, inspect);\n        if (xs.length === 0) { return '{}'; }\n        return '{ ' + xs.join(', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return String(s).replace(/\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]'; }\nfunction isDate(obj) { return toStr(obj) === '[object Date]'; }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]'; }\nfunction isError(obj) { return toStr(obj) === '[object Error]'; }\nfunction isSymbol(obj) { return toStr(obj) === '[object Symbol]'; }\nfunction isString(obj) { return toStr(obj) === '[object String]'; }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]'; }\nfunction isBigInt(obj) { return toStr(obj) === '[object BigInt]'; }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]'; }\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = match.call(f, /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    // eslint-disable-next-line no-control-regex\n    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b', 9: 't', 10: 'n', 12: 'f', 13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16);\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries) {\n    return type + ' (' + size + ') {' + entries.join(', ') + '}';\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if ((/[^\\w$]/).test(key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('es-abstract/helpers/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = require('has-symbols')();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof global[typedArray] === 'function') {\n\t\t\tvar arr = new global[typedArray]();\n\t\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t\t}\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","\n/**\n * Array#filter.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Object=} self\n * @return {Array}\n * @throw TypeError\n */\n\nmodule.exports = function (arr, fn, self) {\n  if (arr.filter) return arr.filter(fn, self);\n  if (void 0 === arr || null === arr) throw new TypeError;\n  if ('function' != typeof fn) throw new TypeError;\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (!hasOwn.call(arr, i)) continue;\n    var val = arr[i];\n    if (fn.call(self, val, i, arr)) ret.push(val);\n  }\n  return ret;\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBind = require('./callBind');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%');\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('es-abstract/helpers/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = require('has-symbols')();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new global[typedArray]();\n\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t}\n\t\tvar proto = getPrototypeOf(arr);\n\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\tif (!descriptor) {\n\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t}\n\t\ttoStrTags[typedArray] = descriptor.get;\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBind = require('./callBind');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%');\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar defineProperties = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = getPolyfill();\n\ndefineProperties(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimAssign() {\n\tvar polyfill = getPolyfill();\n\tdefine(\n\t\tObject,\n\t\t{ assign: polyfill },\n\t\t{ assign: function () { return Object.assign !== polyfill; } }\n\t);\n\treturn polyfill;\n};\n","enum Scope {\n  TYPE = (1 << 2) - 1, // 0011 Lower two bits\n  LEVEL = ((1 << 2) - 1) << 2, // 1100 Higher two bits\n\n  ATTRIBUTE = (1 << 0) | LEVEL, // 1101\n  BLOT = (1 << 1) | LEVEL, // 1110\n  INLINE = (1 << 2) | TYPE, // 0111\n  BLOCK = (1 << 3) | TYPE, // 1011\n\n  BLOCK_BLOT = BLOCK & BLOT, // 1010\n  INLINE_BLOT = INLINE & BLOT, // 0110\n  BLOCK_ATTRIBUTE = BLOCK & ATTRIBUTE, // 1001\n  INLINE_ATTRIBUTE = INLINE & ATTRIBUTE, // 0101\n\n  ANY = TYPE | LEVEL,\n}\n\nexport default Scope;\n","import LinkedNode from './linked-node';\n\nclass LinkedList<T extends LinkedNode> {\n  public head: T | null;\n  public tail: T | null;\n  public length: number;\n\n  constructor() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  public append(...nodes: T[]): void {\n    this.insertBefore(nodes[0], null);\n    if (nodes.length > 1) {\n      const rest = nodes.slice(1);\n      this.append(...rest);\n    }\n  }\n\n  public at(index: number): T | null {\n    const next = this.iterator();\n    let cur = next();\n    while (cur && index > 0) {\n      index -= 1;\n      cur = next();\n    }\n    return cur;\n  }\n\n  public contains(node: T): boolean {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      if (cur === node) {\n        return true;\n      }\n      cur = next();\n    }\n    return false;\n  }\n\n  public indexOf(node: T): number {\n    const next = this.iterator();\n    let cur = next();\n    let index = 0;\n    while (cur) {\n      if (cur === node) {\n        return index;\n      }\n      index += 1;\n      cur = next();\n    }\n    return -1;\n  }\n\n  public insertBefore(node: T | null, refNode: T | null): void {\n    if (node == null) {\n      return;\n    }\n    this.remove(node);\n    node.next = refNode;\n    if (refNode != null) {\n      node.prev = refNode.prev;\n      if (refNode.prev != null) {\n        refNode.prev.next = node;\n      }\n      refNode.prev = node;\n      if (refNode === this.head) {\n        this.head = node;\n      }\n    } else if (this.tail != null) {\n      this.tail.next = node;\n      node.prev = this.tail;\n      this.tail = node;\n    } else {\n      node.prev = null;\n      this.head = this.tail = node;\n    }\n    this.length += 1;\n  }\n\n  public offset(target: T): number {\n    let index = 0;\n    let cur = this.head;\n    while (cur != null) {\n      if (cur === target) {\n        return index;\n      }\n      index += cur.length();\n      cur = cur.next as T;\n    }\n    return -1;\n  }\n\n  public remove(node: T): void {\n    if (!this.contains(node)) {\n      return;\n    }\n    if (node.prev != null) {\n      node.prev.next = node.next;\n    }\n    if (node.next != null) {\n      node.next.prev = node.prev;\n    }\n    if (node === this.head) {\n      this.head = node.next as T;\n    }\n    if (node === this.tail) {\n      this.tail = node.prev as T;\n    }\n    this.length -= 1;\n  }\n\n  public iterator(curNode: T | null = this.head): () => T | null {\n    // TODO use yield when we can\n    return (): T | null => {\n      const ret = curNode;\n      if (curNode != null) {\n        curNode = curNode.next as T;\n      }\n      return ret;\n    };\n  }\n\n  public find(index: number, inclusive = false): [T | null, number] {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      const length = cur.length();\n      if (\n        index < length ||\n        (inclusive &&\n          index === length &&\n          (cur.next == null || cur.next.length() !== 0))\n      ) {\n        return [cur, index];\n      }\n      index -= length;\n      cur = next();\n    }\n    return [null, 0];\n  }\n\n  public forEach(callback: (cur: T) => void): void {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      callback(cur);\n      cur = next();\n    }\n  }\n\n  public forEachAt(\n    index: number,\n    length: number,\n    callback: (cur: T, offset: number, length: number) => void,\n  ): void {\n    if (length <= 0) {\n      return;\n    }\n    const [startNode, offset] = this.find(index);\n    let curIndex = index - offset;\n    const next = this.iterator(startNode);\n    let cur = next();\n    while (cur && curIndex < index + length) {\n      const curLength = cur.length();\n      if (index > curIndex) {\n        callback(\n          cur,\n          index - curIndex,\n          Math.min(length, curIndex + curLength - index),\n        );\n      } else {\n        callback(cur, 0, Math.min(curLength, index + length - curIndex));\n      }\n      curIndex += curLength;\n      cur = next();\n    }\n  }\n\n  public map(callback: (cur: T) => any): any[] {\n    return this.reduce((memo: T[], cur: T) => {\n      memo.push(callback(cur));\n      return memo;\n    }, []);\n  }\n\n  public reduce<M>(callback: (memo: M, cur: T) => M, memo: M): M {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      memo = callback(memo, cur);\n      cur = next();\n    }\n    return memo;\n  }\n}\n\nexport default LinkedList;\n","export default class ParchmentError extends Error {\n  public message: string;\n  public name: string;\n  public stack!: string;\n\n  constructor(message: string) {\n    message = '[Parchment] ' + message;\n    super(message);\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n}\n","import Attributor from './attributor/attributor';\nimport { Blot, BlotConstructor, Root } from './blot/abstract/blot';\nimport ParchmentError from './error';\nimport Scope from './scope';\n\nexport interface RegistryInterface {\n  create(sroll: Root, input: Node | string | Scope, value?: any): Blot;\n  query(\n    query: string | Node | Scope,\n    scope: Scope,\n  ): Attributor | BlotConstructor | null;\n  register(...definitions: any[]): any;\n}\n\nexport default class Registry implements RegistryInterface {\n  public static blots = new WeakMap<Node, Blot>();\n\n  public static find(node: Node | null, bubble = false): Blot | null {\n    if (node == null) {\n      return null;\n    }\n    if (this.blots.has(node)) {\n      return this.blots.get(node) || null;\n    }\n    if (bubble) {\n      return this.find(node.parentNode, bubble);\n    }\n    return null;\n  }\n\n  private attributes: { [key: string]: Attributor } = {};\n  private classes: { [key: string]: BlotConstructor } = {};\n  private tags: { [key: string]: BlotConstructor } = {};\n  private types: { [key: string]: Attributor | BlotConstructor } = {};\n\n  public create(scroll: Root, input: Node | string | Scope, value?: any): Blot {\n    const match = this.query(input);\n    if (match == null) {\n      throw new ParchmentError(`Unable to create ${input} blot`);\n    }\n    const blotClass = match as BlotConstructor;\n    const node =\n      // @ts-ignore\n      input instanceof Node || input.nodeType === Node.TEXT_NODE\n        ? input\n        : blotClass.create(value);\n\n    const blot = new blotClass(scroll, node as Node, value);\n    Registry.blots.set(blot.domNode, blot);\n    return blot;\n  }\n\n  public find(node: Node | null, bubble = false): Blot | null {\n    return Registry.find(node, bubble);\n  }\n\n  public query(\n    query: string | Node | Scope,\n    scope: Scope = Scope.ANY,\n  ): Attributor | BlotConstructor | null {\n    let match;\n    if (typeof query === 'string') {\n      match = this.types[query] || this.attributes[query];\n      // @ts-ignore\n    } else if (query instanceof Text || query.nodeType === Node.TEXT_NODE) {\n      match = this.types.text;\n    } else if (typeof query === 'number') {\n      if (query & Scope.LEVEL & Scope.BLOCK) {\n        match = this.types.block;\n      } else if (query & Scope.LEVEL & Scope.INLINE) {\n        match = this.types.inline;\n      }\n    } else if (query instanceof HTMLElement) {\n      const names = (query.getAttribute('class') || '').split(/\\s+/);\n      names.some((name) => {\n        match = this.classes[name];\n        if (match) {\n          return true;\n        }\n        return false;\n      });\n      match = match || this.tags[query.tagName];\n    }\n    if (match == null) {\n      return null;\n    }\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope) {\n      return match;\n    }\n    return null;\n  }\n\n  public register(...definitions: any[]): any {\n    if (definitions.length > 1) {\n      return definitions.map((d) => {\n        return this.register(d);\n      });\n    }\n    const definition = definitions[0];\n    if (\n      typeof definition.blotName !== 'string' &&\n      typeof definition.attrName !== 'string'\n    ) {\n      throw new ParchmentError('Invalid definition');\n    } else if (definition.blotName === 'abstract') {\n      throw new ParchmentError('Cannot register abstract class');\n    }\n    this.types[definition.blotName || definition.attrName] = definition;\n    if (typeof definition.keyName === 'string') {\n      this.attributes[definition.keyName] = definition;\n    } else {\n      if (definition.className != null) {\n        this.classes[definition.className] = definition;\n      }\n      if (definition.tagName != null) {\n        if (Array.isArray(definition.tagName)) {\n          definition.tagName = definition.tagName.map((tagName: string) => {\n            return tagName.toUpperCase();\n          });\n        } else {\n          definition.tagName = definition.tagName.toUpperCase();\n        }\n        const tagNames = Array.isArray(definition.tagName)\n          ? definition.tagName\n          : [definition.tagName];\n        tagNames.forEach((tag: string) => {\n          if (this.tags[tag] == null || definition.className == null) {\n            this.tags[tag] = definition;\n          }\n        });\n      }\n    }\n    return definition;\n  }\n}\n","import ParchmentError from '../../error';\nimport Registry from '../../registry';\nimport Scope from '../../scope';\nimport { Blot, BlotConstructor, Formattable, Parent, Root } from './blot';\n\nclass ShadowBlot implements Blot {\n  public static blotName = 'abstract';\n  public static className: string;\n  public static requiredContainer: BlotConstructor;\n  public static scope: Scope;\n  public static tagName: string;\n\n  public static create(value: any): Node {\n    if (this.tagName == null) {\n      throw new ParchmentError('Blot definition missing tagName');\n    }\n    let node;\n    if (Array.isArray(this.tagName)) {\n      if (typeof value === 'string') {\n        value = value.toUpperCase();\n        if (parseInt(value, 10).toString() === value) {\n          value = parseInt(value, 10);\n        }\n      }\n      if (typeof value === 'number') {\n        node = document.createElement(this.tagName[value - 1]);\n      } else if (this.tagName.indexOf(value) > -1) {\n        node = document.createElement(value);\n      } else {\n        node = document.createElement(this.tagName[0]);\n      }\n    } else {\n      node = document.createElement(this.tagName);\n    }\n    if (this.className) {\n      node.classList.add(this.className);\n    }\n    return node;\n  }\n\n  public prev: Blot | null;\n  public next: Blot | null;\n  // @ts-ignore\n  public parent: Parent;\n\n  // Hack for accessing inherited static methods\n  get statics(): any {\n    return this.constructor;\n  }\n  constructor(public scroll: Root, public domNode: Node) {\n    Registry.blots.set(domNode, this);\n    this.prev = null;\n    this.next = null;\n  }\n\n  public attach(): void {\n    // Nothing to do\n  }\n\n  public clone(): Blot {\n    const domNode = this.domNode.cloneNode(false);\n    return this.scroll.create(domNode);\n  }\n\n  public detach(): void {\n    if (this.parent != null) {\n      this.parent.removeChild(this);\n    }\n    Registry.blots.delete(this.domNode);\n  }\n\n  public deleteAt(index: number, length: number): void {\n    const blot = this.isolate(index, length);\n    blot.remove();\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    const blot = this.isolate(index, length);\n    if (this.scroll.query(name, Scope.BLOT) != null && value) {\n      blot.wrap(name, value);\n    } else if (this.scroll.query(name, Scope.ATTRIBUTE) != null) {\n      const parent = this.scroll.create(this.statics.scope) as Parent &\n        Formattable;\n      blot.wrap(parent);\n      parent.format(name, value);\n    }\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    const blot =\n      def == null\n        ? this.scroll.create('text', value)\n        : this.scroll.create(value, def);\n    const ref = this.split(index);\n    this.parent.insertBefore(blot, ref || undefined);\n  }\n\n  public isolate(index: number, length: number): Blot {\n    const target = this.split(index);\n    if (target == null) {\n      throw new Error('Attempt to isolate at end');\n    }\n    target.split(length);\n    return target;\n  }\n\n  public length(): number {\n    return 1;\n  }\n\n  public offset(root: Blot = this.parent): number {\n    if (this.parent == null || this === root) {\n      return 0;\n    }\n    return this.parent.children.offset(this) + this.parent.offset(root);\n  }\n\n  public optimize(_context: { [key: string]: any }): void {\n    if (\n      this.statics.requiredContainer &&\n      !(this.parent instanceof this.statics.requiredContainer)\n    ) {\n      this.wrap(this.statics.requiredContainer.blotName);\n    }\n  }\n\n  public remove(): void {\n    if (this.domNode.parentNode != null) {\n      this.domNode.parentNode.removeChild(this.domNode);\n    }\n    this.detach();\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement =\n      typeof name === 'string' ? this.scroll.create(name, value) : name;\n    if (this.parent != null) {\n      this.parent.insertBefore(replacement, this.next || undefined);\n      this.remove();\n    }\n    return replacement;\n  }\n\n  public split(index: number, _force?: boolean): Blot | null {\n    return index === 0 ? this : this.next;\n  }\n\n  public update(\n    _mutations: MutationRecord[],\n    _context: { [key: string]: any },\n  ): void {\n    // Nothing to do by default\n  }\n\n  public wrap(name: string | Parent, value?: any): Parent {\n    const wrapper =\n      typeof name === 'string'\n        ? (this.scroll.create(name, value) as Parent)\n        : name;\n    if (this.parent != null) {\n      this.parent.insertBefore(wrapper, this.next || undefined);\n    }\n    if (typeof wrapper.appendChild !== 'function') {\n      throw new ParchmentError(`Cannot wrap ${name}`);\n    }\n    wrapper.appendChild(this);\n    return wrapper;\n  }\n}\n\nexport default ShadowBlot;\n","import LinkedList from '../../collection/linked-list';\nimport ParchmentError from '../../error';\nimport Scope from '../../scope';\nimport { Blot, BlotConstructor, Parent, Root } from './blot';\nimport ShadowBlot from './shadow';\n\nfunction makeAttachedBlot(node: Node, scroll: Root): Blot {\n  let blot = scroll.find(node);\n  if (blot == null) {\n    try {\n      blot = scroll.create(node);\n    } catch (e) {\n      blot = scroll.create(Scope.INLINE) as Blot;\n      Array.from(node.childNodes).forEach((child: Node) => {\n        // @ts-ignore\n        blot.domNode.appendChild(child);\n      });\n      if (node.parentNode) {\n        node.parentNode.replaceChild(blot.domNode, node);\n      }\n      blot.attach();\n    }\n  }\n  return blot as Blot;\n}\n\nclass ParentBlot extends ShadowBlot implements Parent {\n  public static allowedChildren: BlotConstructor[] | null;\n  public static defaultChild: BlotConstructor | null;\n  public static uiClass = '';\n\n  public children!: LinkedList<Blot>;\n  public domNode!: HTMLElement;\n  public uiNode: HTMLElement | null = null;\n\n  constructor(scroll: Root, domNode: Node) {\n    super(scroll, domNode);\n    this.build();\n  }\n\n  public appendChild(other: Blot): void {\n    this.insertBefore(other);\n  }\n\n  public attach(): void {\n    super.attach();\n    this.children.forEach((child) => {\n      child.attach();\n    });\n  }\n\n  public attachUI(node: HTMLElement): void {\n    if (this.uiNode != null) {\n      this.uiNode.remove();\n    }\n    this.uiNode = node;\n    if (ParentBlot.uiClass) {\n      this.uiNode.classList.add(ParentBlot.uiClass);\n    }\n    this.uiNode.setAttribute('contenteditable', 'false');\n    this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\n  }\n\n  public build(): void {\n    this.children = new LinkedList<Blot>();\n    // Need to be reversed for if DOM nodes already in order\n    Array.from(this.domNode.childNodes)\n      .filter((node: Node) => node !== this.uiNode)\n      .reverse()\n      .forEach((node: Node) => {\n        try {\n          const child = makeAttachedBlot(node, this.scroll);\n          this.insertBefore(child, this.children.head || undefined);\n        } catch (err) {\n          if (err instanceof ParchmentError) {\n            return;\n          } else {\n            throw err;\n          }\n        }\n      });\n  }\n\n  public deleteAt(index: number, length: number): void {\n    if (index === 0 && length === this.length()) {\n      return this.remove();\n    }\n    this.children.forEachAt(index, length, (child, offset, childLength) => {\n      child.deleteAt(offset, childLength);\n    });\n  }\n\n  public descendant(\n    criteria: new () => Blot,\n    index: number,\n  ): [Blot | null, number];\n  public descendant(\n    criteria: (blot: Blot) => boolean,\n    index: number,\n  ): [Blot | null, number];\n  public descendant(criteria: any, index = 0): [Blot | null, number] {\n    const [child, offset] = this.children.find(index);\n    if (\n      (criteria.blotName == null && criteria(child)) ||\n      (criteria.blotName != null && child instanceof criteria)\n    ) {\n      return [child as any, offset];\n    } else if (child instanceof ParentBlot) {\n      return child.descendant(criteria, offset);\n    } else {\n      return [null, -1];\n    }\n  }\n\n  public descendants(\n    criteria: new () => Blot,\n    index: number,\n    length: number,\n  ): Blot[];\n  public descendants(\n    criteria: (blot: Blot) => boolean,\n    index: number,\n    length: number,\n  ): Blot[];\n  public descendants(\n    criteria: any,\n    index = 0,\n    length: number = Number.MAX_VALUE,\n  ): Blot[] {\n    let descendants: Blot[] = [];\n    let lengthLeft = length;\n    this.children.forEachAt(\n      index,\n      length,\n      (child: Blot, childIndex: number, childLength: number) => {\n        if (\n          (criteria.blotName == null && criteria(child)) ||\n          (criteria.blotName != null && child instanceof criteria)\n        ) {\n          descendants.push(child);\n        }\n        if (child instanceof ParentBlot) {\n          descendants = descendants.concat(\n            child.descendants(criteria, childIndex, lengthLeft),\n          );\n        }\n        lengthLeft -= childLength;\n      },\n    );\n    return descendants;\n  }\n\n  public detach(): void {\n    this.children.forEach((child) => {\n      child.detach();\n    });\n    super.detach();\n  }\n\n  public enforceAllowedChildren(): void {\n    let done = false;\n    this.children.forEach((child: Blot) => {\n      if (done) {\n        return;\n      }\n      const allowed = this.statics.allowedChildren.some(\n        (def: BlotConstructor) => child instanceof def,\n      );\n      if (allowed) {\n        return;\n      }\n      if (child.statics.scope === Scope.BLOCK_BLOT) {\n        if (child.next != null) {\n          this.splitAfter(child);\n        }\n        if (child.prev != null) {\n          this.splitAfter(child.prev);\n        }\n        child.parent.unwrap();\n        done = true;\n      } else if (child instanceof ParentBlot) {\n        child.unwrap();\n      } else {\n        child.remove();\n      }\n    });\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    this.children.forEachAt(index, length, (child, offset, childLength) => {\n      child.formatAt(offset, childLength, name, value);\n    });\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    const [child, offset] = this.children.find(index);\n    if (child) {\n      child.insertAt(offset, value, def);\n    } else {\n      const blot =\n        def == null\n          ? this.scroll.create('text', value)\n          : this.scroll.create(value, def);\n      this.appendChild(blot);\n    }\n  }\n\n  public insertBefore(childBlot: Blot, refBlot?: Blot | null): void {\n    if (childBlot.parent != null) {\n      childBlot.parent.children.remove(childBlot);\n    }\n    let refDomNode: Node | null = null;\n    this.children.insertBefore(childBlot, refBlot || null);\n    childBlot.parent = this;\n    if (refBlot != null) {\n      refDomNode = refBlot.domNode;\n    }\n    if (\n      this.domNode.parentNode !== childBlot.domNode ||\n      this.domNode.nextSibling !== refDomNode\n    ) {\n      this.domNode.insertBefore(childBlot.domNode, refDomNode);\n    }\n    childBlot.attach();\n  }\n\n  public length(): number {\n    return this.children.reduce((memo, child) => {\n      return memo + child.length();\n    }, 0);\n  }\n\n  public moveChildren(targetParent: Parent, refNode?: Blot): void {\n    this.children.forEach((child) => {\n      targetParent.insertBefore(child, refNode);\n    });\n  }\n\n  public optimize(context: { [key: string]: any }): void {\n    super.optimize(context);\n    this.enforceAllowedChildren();\n    if (this.uiNode != null && this.uiNode !== this.domNode.firstChild) {\n      this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\n    }\n    if (this.children.length === 0) {\n      if (this.statics.defaultChild != null) {\n        const child = this.scroll.create(this.statics.defaultChild.blotName);\n        this.appendChild(child);\n        // TODO double check if necessary\n        // child.optimize(context);\n      } else {\n        this.remove();\n      }\n    }\n  }\n\n  public path(index: number, inclusive = false): [Blot, number][] {\n    const [child, offset] = this.children.find(index, inclusive);\n    const position: [Blot, number][] = [[this, index]];\n    if (child instanceof ParentBlot) {\n      return position.concat(child.path(offset, inclusive));\n    } else if (child != null) {\n      position.push([child, offset]);\n    }\n    return position;\n  }\n\n  public removeChild(child: Blot): void {\n    this.children.remove(child);\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement =\n      typeof name === 'string' ? this.scroll.create(name, value) : name;\n    if (replacement instanceof ParentBlot) {\n      this.moveChildren(replacement);\n    }\n    return super.replaceWith(replacement);\n  }\n\n  public split(index: number, force = false): Blot | null {\n    if (!force) {\n      if (index === 0) {\n        return this;\n      }\n      if (index === this.length()) {\n        return this.next;\n      }\n    }\n    const after = this.clone() as ParentBlot;\n    if (this.parent) {\n      this.parent.insertBefore(after, this.next || undefined);\n    }\n    this.children.forEachAt(index, this.length(), (child, offset, _length) => {\n      const split = child.split(offset, force);\n      if (split != null) {\n        after.appendChild(split);\n      }\n    });\n    return after;\n  }\n\n  public splitAfter(child: Blot): Parent {\n    const after = this.clone() as ParentBlot;\n    while (child.next != null) {\n      after.appendChild(child.next);\n    }\n    if (this.parent) {\n      this.parent.insertBefore(after, this.next || undefined);\n    }\n    return after;\n  }\n\n  public unwrap(): void {\n    if (this.parent) {\n      this.moveChildren(this.parent, this.next || undefined);\n    }\n    this.remove();\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    _context: { [key: string]: any },\n  ): void {\n    const addedNodes: Node[] = [];\n    const removedNodes: Node[] = [];\n    mutations.forEach((mutation) => {\n      if (mutation.target === this.domNode && mutation.type === 'childList') {\n        addedNodes.push(...mutation.addedNodes);\n        removedNodes.push(...mutation.removedNodes);\n      }\n    });\n    removedNodes.forEach((node: Node) => {\n      // Check node has actually been removed\n      // One exception is Chrome does not immediately remove IFRAMEs\n      // from DOM but MutationRecord is correct in its reported removal\n      if (\n        node.parentNode != null &&\n        // @ts-ignore\n        node.tagName !== 'IFRAME' &&\n        document.body.compareDocumentPosition(node) &\n          Node.DOCUMENT_POSITION_CONTAINED_BY\n      ) {\n        return;\n      }\n      const blot = this.scroll.find(node);\n      if (blot == null) {\n        return;\n      }\n      if (\n        blot.domNode.parentNode == null ||\n        blot.domNode.parentNode === this.domNode\n      ) {\n        blot.detach();\n      }\n    });\n    addedNodes\n      .filter((node) => {\n        return node.parentNode === this.domNode || node === this.uiNode;\n      })\n      .sort((a, b) => {\n        if (a === b) {\n          return 0;\n        }\n        if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n          return 1;\n        }\n        return -1;\n      })\n      .forEach((node) => {\n        let refBlot: Blot | null = null;\n        if (node.nextSibling != null) {\n          refBlot = this.scroll.find(node.nextSibling);\n        }\n        const blot = makeAttachedBlot(node, this.scroll);\n        if (blot.next !== refBlot || blot.next == null) {\n          if (blot.parent != null) {\n            blot.parent.removeChild(this);\n          }\n          this.insertBefore(blot, refBlot || undefined);\n        }\n      });\n    this.enforceAllowedChildren();\n  }\n}\n\nexport default ParentBlot;\n","import Scope from '../../scope';\nimport BlockBlot from '../block';\nimport ParentBlot from './parent';\n\nclass ContainerBlot extends ParentBlot {\n  public static blotName = 'container';\n  public static scope = Scope.BLOCK_BLOT;\n  public static tagName: string;\n\n  public prev!: BlockBlot | ContainerBlot | null;\n  public next!: BlockBlot | ContainerBlot | null;\n\n  public checkMerge(): boolean {\n    return (\n      this.next !== null && this.next.statics.blotName === this.statics.blotName\n    );\n  }\n\n  public deleteAt(index: number, length: number): void {\n    super.deleteAt(index, length);\n    this.enforceAllowedChildren();\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    super.formatAt(index, length, name, value);\n    this.enforceAllowedChildren();\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    super.insertAt(index, value, def);\n    this.enforceAllowedChildren();\n  }\n\n  public optimize(context: { [key: string]: any }): void {\n    super.optimize(context);\n    if (this.children.length > 0 && this.next != null && this.checkMerge()) {\n      this.next.moveChildren(this);\n      this.next.remove();\n    }\n  }\n}\n\nexport default ContainerBlot;\n","import Scope from '../../scope';\nimport { Leaf } from './blot';\nimport ShadowBlot from './shadow';\n\nclass LeafBlot extends ShadowBlot implements Leaf {\n  public static scope = Scope.INLINE_BLOT;\n\n  public static value(_domNode: Node): any {\n    return true;\n  }\n\n  public index(node: Node, offset: number): number {\n    if (\n      this.domNode === node ||\n      this.domNode.compareDocumentPosition(node) &\n        Node.DOCUMENT_POSITION_CONTAINED_BY\n    ) {\n      return Math.min(offset, 1);\n    }\n    return -1;\n  }\n\n  public position(index: number, _inclusive?: boolean): [Node, number] {\n    const childNodes: Node[] = Array.from(this.parent.domNode.childNodes);\n    let offset = childNodes.indexOf(this.domNode);\n    if (index > 0) {\n      offset += 1;\n    }\n    return [this.parent.domNode, offset];\n  }\n\n  public value(): any {\n    return {\n      [this.statics.blotName]: this.statics.value(this.domNode) || true,\n    };\n  }\n}\n\nexport default LeafBlot;\n","import Scope from '../scope';\n\nexport interface AttributorOptions {\n  scope?: Scope;\n  whitelist?: string[];\n}\n\nexport default class Attributor {\n  public static keys(node: HTMLElement): string[] {\n    return Array.from(node.attributes).map((item: Attr) => item.name);\n  }\n\n  public attrName: string;\n  public keyName: string;\n  public scope: Scope;\n  public whitelist: string[] | undefined;\n\n  constructor(\n    attrName: string,\n    keyName: string,\n    options: AttributorOptions = {},\n  ) {\n    this.attrName = attrName;\n    this.keyName = keyName;\n    const attributeBit = Scope.TYPE & Scope.ATTRIBUTE;\n    this.scope =\n      options.scope != null\n        ? // Ignore type bits, force attribute bit\n          (options.scope & Scope.LEVEL) | attributeBit\n        : Scope.ATTRIBUTE;\n    if (options.whitelist != null) {\n      this.whitelist = options.whitelist;\n    }\n  }\n\n  public add(node: HTMLElement, value: string): boolean {\n    if (!this.canAdd(node, value)) {\n      return false;\n    }\n    node.setAttribute(this.keyName, value);\n    return true;\n  }\n\n  public canAdd(_node: HTMLElement, value: any): boolean {\n    if (this.whitelist == null) {\n      return true;\n    }\n    if (typeof value === 'string') {\n      return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n    } else {\n      return this.whitelist.indexOf(value) > -1;\n    }\n  }\n\n  public remove(node: HTMLElement): void {\n    node.removeAttribute(this.keyName);\n  }\n\n  public value(node: HTMLElement): string {\n    const value = node.getAttribute(this.keyName);\n    if (this.canAdd(node, value) && value) {\n      return value;\n    }\n    return '';\n  }\n}\n","import Attributor from './attributor';\n\nfunction match(node: HTMLElement, prefix: string): string[] {\n  const className = node.getAttribute('class') || '';\n  return className\n    .split(/\\s+/)\n    .filter((name) => name.indexOf(`${prefix}-`) === 0);\n}\n\nclass ClassAttributor extends Attributor {\n  public static keys(node: HTMLElement): string[] {\n    return (node.getAttribute('class') || '')\n      .split(/\\s+/)\n      .map((name) => name.split('-').slice(0, -1).join('-'));\n  }\n\n  public add(node: HTMLElement, value: string): boolean {\n    if (!this.canAdd(node, value)) {\n      return false;\n    }\n    this.remove(node);\n    node.classList.add(`${this.keyName}-${value}`);\n    return true;\n  }\n\n  public remove(node: HTMLElement): void {\n    const matches = match(node, this.keyName);\n    matches.forEach((name) => {\n      node.classList.remove(name);\n    });\n    if (node.classList.length === 0) {\n      node.removeAttribute('class');\n    }\n  }\n\n  public value(node: HTMLElement): string {\n    const result = match(node, this.keyName)[0] || '';\n    const value = result.slice(this.keyName.length + 1); // +1 for hyphen\n    return this.canAdd(node, value) ? value : '';\n  }\n}\n\nexport default ClassAttributor;\n","import Attributor from './attributor';\n\nfunction camelize(name: string): string {\n  const parts = name.split('-');\n  const rest = parts\n    .slice(1)\n    .map((part: string) => part[0].toUpperCase() + part.slice(1))\n    .join('');\n  return parts[0] + rest;\n}\n\nclass StyleAttributor extends Attributor {\n  public static keys(node: Element): string[] {\n    return (node.getAttribute('style') || '').split(';').map((value) => {\n      const arr = value.split(':');\n      return arr[0].trim();\n    });\n  }\n\n  public add(node: HTMLElement, value: string): boolean {\n    if (!this.canAdd(node, value)) {\n      return false;\n    }\n    // @ts-ignore\n    node.style[camelize(this.keyName)] = value;\n    return true;\n  }\n\n  public remove(node: HTMLElement): void {\n    // @ts-ignore\n    node.style[camelize(this.keyName)] = '';\n    if (!node.getAttribute('style')) {\n      node.removeAttribute('style');\n    }\n  }\n\n  public value(node: HTMLElement): string {\n    // @ts-ignore\n    const value = node.style[camelize(this.keyName)];\n    return this.canAdd(node, value) ? value : '';\n  }\n}\n\nexport default StyleAttributor;\n","import { Formattable } from '../blot/abstract/blot';\nimport Registry from '../registry';\nimport Scope from '../scope';\nimport Attributor from './attributor';\nimport ClassAttributor from './class';\nimport StyleAttributor from './style';\n\nclass AttributorStore {\n  private attributes: { [key: string]: Attributor } = {};\n  private domNode: HTMLElement;\n\n  constructor(domNode: HTMLElement) {\n    this.domNode = domNode;\n    this.build();\n  }\n\n  public attribute(attribute: Attributor, value: any): void {\n    // verb\n    if (value) {\n      if (attribute.add(this.domNode, value)) {\n        if (attribute.value(this.domNode) != null) {\n          this.attributes[attribute.attrName] = attribute;\n        } else {\n          delete this.attributes[attribute.attrName];\n        }\n      }\n    } else {\n      attribute.remove(this.domNode);\n      delete this.attributes[attribute.attrName];\n    }\n  }\n\n  public build(): void {\n    this.attributes = {};\n    const blot = Registry.find(this.domNode);\n    if (blot == null) {\n      return;\n    }\n    const attributes = Attributor.keys(this.domNode);\n    const classes = ClassAttributor.keys(this.domNode);\n    const styles = StyleAttributor.keys(this.domNode);\n    attributes\n      .concat(classes)\n      .concat(styles)\n      .forEach((name) => {\n        const attr = blot.scroll.query(name, Scope.ATTRIBUTE);\n        if (attr instanceof Attributor) {\n          this.attributes[attr.attrName] = attr;\n        }\n      });\n  }\n\n  public copy(target: Formattable): void {\n    Object.keys(this.attributes).forEach((key) => {\n      const value = this.attributes[key].value(this.domNode);\n      target.format(key, value);\n    });\n  }\n\n  public move(target: Formattable): void {\n    this.copy(target);\n    Object.keys(this.attributes).forEach((key) => {\n      this.attributes[key].remove(this.domNode);\n    });\n    this.attributes = {};\n  }\n\n  public values(): { [key: string]: any } {\n    return Object.keys(this.attributes).reduce(\n      (attributes: { [key: string]: any }, name: string) => {\n        attributes[name] = this.attributes[name].value(this.domNode);\n        return attributes;\n      },\n      {},\n    );\n  }\n}\n\nexport default AttributorStore;\n","import Attributor from '../attributor/attributor';\nimport AttributorStore from '../attributor/store';\nimport Scope from '../scope';\nimport {\n  Blot,\n  BlotConstructor,\n  Formattable,\n  Parent,\n  Root,\n} from './abstract/blot';\nimport LeafBlot from './abstract/leaf';\nimport ParentBlot from './abstract/parent';\n\n// Shallow object comparison\nfunction isEqual(obj1: object, obj2: object): boolean {\n  if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n    return false;\n  }\n  // @ts-ignore\n  for (const prop in obj1) {\n    // @ts-ignore\n    if (obj1[prop] !== obj2[prop]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nclass InlineBlot extends ParentBlot implements Formattable {\n  public static allowedChildren: BlotConstructor[] = [InlineBlot, LeafBlot];\n  public static blotName = 'inline';\n  public static scope = Scope.INLINE_BLOT;\n  public static tagName = 'SPAN';\n\n  public static formats(domNode: HTMLElement, scroll: Root): any {\n    const match = scroll.query(InlineBlot.blotName);\n    if (\n      match != null &&\n      domNode.tagName === (match as BlotConstructor).tagName\n    ) {\n      return undefined;\n    } else if (typeof this.tagName === 'string') {\n      return true;\n    } else if (Array.isArray(this.tagName)) {\n      return domNode.tagName.toLowerCase();\n    }\n    return undefined;\n  }\n\n  protected attributes: AttributorStore;\n\n  constructor(scroll: Root, domNode: Node) {\n    super(scroll, domNode);\n    this.attributes = new AttributorStore(this.domNode);\n  }\n\n  public format(name: string, value: any): void {\n    if (name === this.statics.blotName && !value) {\n      this.children.forEach((child) => {\n        if (!(child instanceof InlineBlot)) {\n          child = child.wrap(InlineBlot.blotName, true);\n        }\n        this.attributes.copy(child as InlineBlot);\n      });\n      this.unwrap();\n    } else {\n      const format = this.scroll.query(name, Scope.INLINE);\n      if (format == null) {\n        return;\n      }\n      if (format instanceof Attributor) {\n        this.attributes.attribute(format, value);\n      } else if (\n        value &&\n        (name !== this.statics.blotName || this.formats()[name] !== value)\n      ) {\n        this.replaceWith(name, value);\n      }\n    }\n  }\n\n  public formats(): { [index: string]: any } {\n    const formats = this.attributes.values();\n    const format = this.statics.formats(this.domNode, this.scroll);\n    if (format != null) {\n      formats[this.statics.blotName] = format;\n    }\n    return formats;\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    if (\n      this.formats()[name] != null ||\n      this.scroll.query(name, Scope.ATTRIBUTE)\n    ) {\n      const blot = this.isolate(index, length) as InlineBlot;\n      blot.format(name, value);\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  public optimize(context: { [key: string]: any }): void {\n    super.optimize(context);\n    const formats = this.formats();\n    if (Object.keys(formats).length === 0) {\n      return this.unwrap(); // unformatted span\n    }\n    const next = this.next;\n    if (\n      next instanceof InlineBlot &&\n      next.prev === this &&\n      isEqual(formats, next.formats())\n    ) {\n      next.moveChildren(this);\n      next.remove();\n    }\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement = super.replaceWith(name, value) as InlineBlot;\n    this.attributes.copy(replacement);\n    return replacement;\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    context: { [key: string]: any },\n  ): void {\n    super.update(mutations, context);\n    const attributeChanged = mutations.some(\n      (mutation) =>\n        mutation.target === this.domNode && mutation.type === 'attributes',\n    );\n    if (attributeChanged) {\n      this.attributes.build();\n    }\n  }\n\n  public wrap(name: string | Parent, value?: any): Parent {\n    const wrapper = super.wrap(name, value);\n    if (wrapper instanceof InlineBlot) {\n      this.attributes.move(wrapper);\n    }\n    return wrapper;\n  }\n}\n\nexport default InlineBlot;\n","import Attributor from '../attributor/attributor';\nimport AttributorStore from '../attributor/store';\nimport Scope from '../scope';\nimport { Blot, BlotConstructor, Formattable, Root } from './abstract/blot';\nimport LeafBlot from './abstract/leaf';\nimport ParentBlot from './abstract/parent';\nimport InlineBlot from './inline';\n\nclass BlockBlot extends ParentBlot implements Formattable {\n  public static blotName = 'block';\n  public static scope = Scope.BLOCK_BLOT;\n  public static tagName = 'P';\n  public static allowedChildren: BlotConstructor[] = [\n    InlineBlot,\n    BlockBlot,\n    LeafBlot,\n  ];\n\n  public static formats(domNode: HTMLElement, scroll: Root): any {\n    const match = scroll.query(BlockBlot.blotName);\n    if (\n      match != null &&\n      domNode.tagName === (match as BlotConstructor).tagName\n    ) {\n      return undefined;\n    } else if (typeof this.tagName === 'string') {\n      return true;\n    } else if (Array.isArray(this.tagName)) {\n      return domNode.tagName.toLowerCase();\n    }\n  }\n\n  protected attributes: AttributorStore;\n\n  constructor(scroll: Root, domNode: Node) {\n    super(scroll, domNode);\n    this.attributes = new AttributorStore(this.domNode);\n  }\n\n  public format(name: string, value: any): void {\n    const format = this.scroll.query(name, Scope.BLOCK);\n    if (format == null) {\n      return;\n    } else if (format instanceof Attributor) {\n      this.attributes.attribute(format, value);\n    } else if (name === this.statics.blotName && !value) {\n      this.replaceWith(BlockBlot.blotName);\n    } else if (\n      value &&\n      (name !== this.statics.blotName || this.formats()[name] !== value)\n    ) {\n      this.replaceWith(name, value);\n    }\n  }\n\n  public formats(): { [index: string]: any } {\n    const formats = this.attributes.values();\n    const format = this.statics.formats(this.domNode, this.scroll);\n    if (format != null) {\n      formats[this.statics.blotName] = format;\n    }\n    return formats;\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    if (this.scroll.query(name, Scope.BLOCK) != null) {\n      this.format(name, value);\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    if (def == null || this.scroll.query(value, Scope.INLINE) != null) {\n      // Insert text or inline\n      super.insertAt(index, value, def);\n    } else {\n      const after = this.split(index);\n      if (after != null) {\n        const blot = this.scroll.create(value, def);\n        after.parent.insertBefore(blot, after);\n      } else {\n        throw new Error('Attempt to insertAt after block boundaries');\n      }\n    }\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement = super.replaceWith(name, value) as BlockBlot;\n    this.attributes.copy(replacement);\n    return replacement;\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    context: { [key: string]: any },\n  ): void {\n    super.update(mutations, context);\n    const attributeChanged = mutations.some(\n      (mutation) =>\n        mutation.target === this.domNode && mutation.type === 'attributes',\n    );\n    if (attributeChanged) {\n      this.attributes.build();\n    }\n  }\n}\n\nexport default BlockBlot;\n","import { Formattable, Root } from './abstract/blot';\nimport LeafBlot from './abstract/leaf';\n\nclass EmbedBlot extends LeafBlot implements Formattable {\n  public static formats(_domNode: HTMLElement, _scroll: Root): any {\n    return undefined;\n  }\n\n  public format(name: string, value: any): void {\n    // super.formatAt wraps, which is what we want in general,\n    // but this allows subclasses to overwrite for formats\n    // that just apply to particular embeds\n    super.formatAt(0, this.length(), name, value);\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    if (index === 0 && length === this.length()) {\n      this.format(name, value);\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  public formats(): { [index: string]: any } {\n    return this.statics.formats(this.domNode, this.scroll);\n  }\n}\n\nexport default EmbedBlot;\n","import Attributor from '../attributor/attributor';\nimport Registry from '../registry';\nimport Scope from '../scope';\nimport { Blot, BlotConstructor, Root } from './abstract/blot';\nimport ContainerBlot from './abstract/container';\nimport ParentBlot from './abstract/parent';\nimport BlockBlot from './block';\n\nconst OBSERVER_CONFIG = {\n  attributes: true,\n  characterData: true,\n  characterDataOldValue: true,\n  childList: true,\n  subtree: true,\n};\n\nconst MAX_OPTIMIZE_ITERATIONS = 100;\n\nclass ScrollBlot extends ParentBlot implements Root {\n  public static blotName = 'scroll';\n  public static defaultChild = BlockBlot;\n  public static allowedChildren: BlotConstructor[] = [BlockBlot, ContainerBlot];\n  public static scope = Scope.BLOCK_BLOT;\n  public static tagName = 'DIV';\n\n  public registry: Registry;\n  public observer: MutationObserver;\n\n  constructor(registry: Registry, node: HTMLDivElement) {\n    // @ts-ignore\n    super(null, node);\n    this.registry = registry;\n    this.scroll = this;\n    this.build();\n    this.observer = new MutationObserver((mutations: MutationRecord[]) => {\n      this.update(mutations);\n    });\n    this.observer.observe(this.domNode, OBSERVER_CONFIG);\n    this.attach();\n  }\n\n  public create(input: Node | string | Scope, value?: any): Blot {\n    return this.registry.create(this, input, value);\n  }\n\n  public find(node: Node | null, bubble = false): Blot | null {\n    return this.registry.find(node, bubble);\n  }\n\n  public query(\n    query: string | Node | Scope,\n    scope: Scope = Scope.ANY,\n  ): Attributor | BlotConstructor | null {\n    return this.registry.query(query, scope);\n  }\n\n  public register(...definitions: any[]): any {\n    return this.registry.register(...definitions);\n  }\n\n  public build(): void {\n    if (this.scroll == null) {\n      return;\n    }\n    super.build();\n  }\n\n  public detach(): void {\n    super.detach();\n    this.observer.disconnect();\n  }\n\n  public deleteAt(index: number, length: number): void {\n    this.update();\n    if (index === 0 && length === this.length()) {\n      this.children.forEach((child) => {\n        child.remove();\n      });\n    } else {\n      super.deleteAt(index, length);\n    }\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    this.update();\n    super.formatAt(index, length, name, value);\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    this.update();\n    super.insertAt(index, value, def);\n  }\n\n  public optimize(context: { [key: string]: any }): void;\n  public optimize(\n    mutations: MutationRecord[],\n    context: { [key: string]: any },\n  ): void;\n  public optimize(mutations: any = [], context: any = {}): void {\n    super.optimize(context);\n    const mutationsMap = context.mutationsMap || new WeakMap();\n    // We must modify mutations directly, cannot make copy and then modify\n    let records = Array.from(this.observer.takeRecords());\n    // Array.push currently seems to be implemented by a non-tail recursive function\n    // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n    while (records.length > 0) {\n      mutations.push(records.pop());\n    }\n    const mark = (blot: Blot | null, markParent = true): void => {\n      if (blot == null || blot === this) {\n        return;\n      }\n      if (blot.domNode.parentNode == null) {\n        return;\n      }\n      if (!mutationsMap.has(blot.domNode)) {\n        mutationsMap.set(blot.domNode, []);\n      }\n      if (markParent) {\n        mark(blot.parent);\n      }\n    };\n    const optimize = (blot: Blot): void => {\n      // Post-order traversal\n      if (!mutationsMap.has(blot.domNode)) {\n        return;\n      }\n      if (blot instanceof ParentBlot) {\n        blot.children.forEach(optimize);\n      }\n      mutationsMap.delete(blot.domNode);\n      blot.optimize(context);\n    };\n    let remaining = mutations;\n    for (let i = 0; remaining.length > 0; i += 1) {\n      if (i >= MAX_OPTIMIZE_ITERATIONS) {\n        throw new Error('[Parchment] Maximum optimize iterations reached');\n      }\n      remaining.forEach((mutation: MutationRecord) => {\n        const blot = this.find(mutation.target, true);\n        if (blot == null) {\n          return;\n        }\n        if (blot.domNode === mutation.target) {\n          if (mutation.type === 'childList') {\n            mark(this.find(mutation.previousSibling, false));\n            Array.from(mutation.addedNodes).forEach((node: Node) => {\n              const child = this.find(node, false);\n              mark(child, false);\n              if (child instanceof ParentBlot) {\n                child.children.forEach((grandChild: Blot) => {\n                  mark(grandChild, false);\n                });\n              }\n            });\n          } else if (mutation.type === 'attributes') {\n            mark(blot.prev);\n          }\n        }\n        mark(blot);\n      });\n      this.children.forEach(optimize);\n      remaining = Array.from(this.observer.takeRecords());\n      records = remaining.slice();\n      while (records.length > 0) {\n        mutations.push(records.pop());\n      }\n    }\n  }\n\n  public update(\n    mutations?: MutationRecord[],\n    context: { [key: string]: any } = {},\n  ): void {\n    mutations = mutations || this.observer.takeRecords();\n    const mutationsMap = new WeakMap();\n    mutations\n      .map((mutation: MutationRecord) => {\n        const blot = Registry.find(mutation.target, true);\n        if (blot == null) {\n          return null;\n        }\n        if (mutationsMap.has(blot.domNode)) {\n          mutationsMap.get(blot.domNode).push(mutation);\n          return null;\n        } else {\n          mutationsMap.set(blot.domNode, [mutation]);\n          return blot;\n        }\n      })\n      .forEach((blot: Blot | null) => {\n        if (blot != null && blot !== this && mutationsMap.has(blot.domNode)) {\n          blot.update(mutationsMap.get(blot.domNode) || [], context);\n        }\n      });\n    context.mutationsMap = mutationsMap;\n    if (mutationsMap.has(this.domNode)) {\n      super.update(mutationsMap.get(this.domNode), context);\n    }\n    this.optimize(mutations, context);\n  }\n}\n\nexport default ScrollBlot;\n","import Scope from '../scope';\nimport { Blot, Leaf, Root } from './abstract/blot';\nimport LeafBlot from './abstract/leaf';\n\nclass TextBlot extends LeafBlot implements Leaf {\n  public static blotName = 'text';\n  public static scope = Scope.INLINE_BLOT;\n\n  public static create(value: string): Text {\n    return document.createTextNode(value);\n  }\n\n  public static value(domNode: Text): string {\n    return domNode.data;\n  }\n\n  public domNode!: Text;\n  protected text: string;\n\n  constructor(scroll: Root, node: Node) {\n    super(scroll, node);\n    this.text = this.statics.value(this.domNode);\n  }\n\n  public deleteAt(index: number, length: number): void {\n    this.domNode.data = this.text =\n      this.text.slice(0, index) + this.text.slice(index + length);\n  }\n\n  public index(node: Node, offset: number): number {\n    if (this.domNode === node) {\n      return offset;\n    }\n    return -1;\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    if (def == null) {\n      this.text = this.text.slice(0, index) + value + this.text.slice(index);\n      this.domNode.data = this.text;\n    } else {\n      super.insertAt(index, value, def);\n    }\n  }\n\n  public length(): number {\n    return this.text.length;\n  }\n\n  public optimize(context: { [key: string]: any }): void {\n    super.optimize(context);\n    this.text = this.statics.value(this.domNode);\n    if (this.text.length === 0) {\n      this.remove();\n    } else if (this.next instanceof TextBlot && this.next.prev === this) {\n      this.insertAt(this.length(), (this.next as TextBlot).value());\n      this.next.remove();\n    }\n  }\n\n  public position(index: number, _inclusive = false): [Node, number] {\n    return [this.domNode, index];\n  }\n\n  public split(index: number, force = false): Blot | null {\n    if (!force) {\n      if (index === 0) {\n        return this;\n      }\n      if (index === this.length()) {\n        return this.next;\n      }\n    }\n    const after = this.scroll.create(this.domNode.splitText(index));\n    this.parent.insertBefore(after, this.next || undefined);\n    this.text = this.statics.value(this.domNode);\n    return after;\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    _context: { [key: string]: any },\n  ): void {\n    if (\n      mutations.some((mutation) => {\n        return (\n          mutation.type === 'characterData' && mutation.target === this.domNode\n        );\n      })\n    ) {\n      this.text = this.statics.value(this.domNode);\n    }\n  }\n\n  public value(): string {\n    return this.text;\n  }\n}\n\nexport default TextBlot;\n","export default new WeakMap();\n","const levels = ['error', 'warn', 'log', 'info'];\nlet level = 'warn';\n\nfunction debug(method, ...args) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    console[method](...args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce((logger, method) => {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\nnamespace.level = newLevel => {\n  level = newLevel;\n};\ndebug.level = namespace.level;\n\nexport default namespace;\n","import EventEmitter from 'eventemitter3';\nimport instances from './instances';\nimport logger from './logger';\n\nconst debug = logger('quill:events');\nconst EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(eventName => {\n  document.addEventListener(eventName, (...args) => {\n    Array.from(document.querySelectorAll('.ql-container')).forEach(node => {\n      const quill = instances.get(node);\n      if (quill && quill.emitter) {\n        quill.emitter.handleDOM(...args);\n      }\n    });\n  });\n});\n\nclass Emitter extends EventEmitter {\n  constructor() {\n    super();\n    this.listeners = {};\n    this.on('error', debug.error);\n  }\n\n  emit(...args) {\n    debug.log.call(debug, ...args);\n    super.emit(...args);\n  }\n\n  handleDOM(event, ...args) {\n    (this.listeners[event.type] || []).forEach(({ node, handler }) => {\n      if (event.target === node || node.contains(event.target)) {\n        handler(event, ...args);\n      }\n    });\n  }\n\n  listenDOM(eventName, node, handler) {\n    if (!this.listeners[eventName]) {\n      this.listeners[eventName] = [];\n    }\n    this.listeners[eventName].push({ node, handler });\n  }\n}\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_BLOT_MOUNT: 'scroll-blot-mount',\n  SCROLL_BLOT_UNMOUNT: 'scroll-blot-unmount',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change',\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user',\n};\n\nexport default Emitter;\n","import { LeafBlot, Scope } from 'parchment';\nimport clone from 'clone';\nimport equal from 'deep-equal';\nimport Emitter from './emitter';\nimport logger from './logger';\n\nconst debug = logger('quill:selection');\n\nclass Range {\n  constructor(index, length = 0) {\n    this.index = index;\n    this.length = length;\n  }\n}\n\nclass Selection {\n  constructor(scroll, emitter) {\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = this.scroll.create('cursor', this);\n    // savedRange is last non-null range\n    this.savedRange = new Range(0, 0);\n    this.lastRange = this.savedRange;\n    this.lastNative = null;\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, () => {\n      if (!this.mouseDown && !this.composing) {\n        setTimeout(this.update.bind(this, Emitter.sources.USER), 1);\n      }\n    });\n    this.emitter.on(Emitter.events.SCROLL_BEFORE_UPDATE, () => {\n      if (!this.hasFocus()) return;\n      const native = this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === this.cursor.textNode) return; // cursor.restore() will handle\n      this.emitter.once(Emitter.events.SCROLL_UPDATE, () => {\n        try {\n          if (\n            this.root.contains(native.start.node) &&\n            this.root.contains(native.end.node)\n          ) {\n            this.setNativeRange(\n              native.start.node,\n              native.start.offset,\n              native.end.node,\n              native.end.offset,\n            );\n          }\n          this.update(Emitter.sources.SILENT);\n        } catch (ignored) {\n          // ignore\n        }\n      });\n    });\n    this.emitter.on(Emitter.events.SCROLL_OPTIMIZE, (mutations, context) => {\n      if (context.range) {\n        const { startNode, startOffset, endNode, endOffset } = context.range;\n        this.setNativeRange(startNode, startOffset, endNode, endOffset);\n        this.update(Emitter.sources.SILENT);\n      }\n    });\n    this.update(Emitter.sources.SILENT);\n  }\n\n  handleComposition() {\n    this.root.addEventListener('compositionstart', () => {\n      this.composing = true;\n      this.scroll.batchStart();\n    });\n    this.root.addEventListener('compositionend', () => {\n      this.scroll.batchEnd();\n      this.composing = false;\n      if (this.cursor.parent) {\n        const range = this.cursor.restore();\n        if (!range) return;\n        setTimeout(() => {\n          this.setNativeRange(\n            range.startNode,\n            range.startOffset,\n            range.endNode,\n            range.endOffset,\n          );\n        }, 1);\n      }\n    });\n  }\n\n  handleDragging() {\n    this.emitter.listenDOM('mousedown', document.body, () => {\n      this.mouseDown = true;\n    });\n    this.emitter.listenDOM('mouseup', document.body, () => {\n      this.mouseDown = false;\n      this.update(Emitter.sources.USER);\n    });\n  }\n\n  focus() {\n    if (this.hasFocus()) return;\n    this.root.focus();\n    this.setRange(this.savedRange);\n  }\n\n  format(format, value) {\n    this.scroll.update();\n    const nativeRange = this.getNativeRange();\n    if (\n      nativeRange == null ||\n      !nativeRange.native.collapsed ||\n      this.scroll.query(format, Scope.BLOCK)\n    )\n      return;\n    if (nativeRange.start.node !== this.cursor.textNode) {\n      const blot = this.scroll.find(nativeRange.start.node, false);\n      if (blot == null) return;\n      // TODO Give blot ability to not split\n      if (blot instanceof LeafBlot) {\n        const after = blot.split(nativeRange.start.offset);\n        blot.parent.insertBefore(this.cursor, after);\n      } else {\n        blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n      }\n      this.cursor.attach();\n    }\n    this.cursor.format(format, value);\n    this.scroll.optimize();\n    this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n    this.update();\n  }\n\n  getBounds(index, length = 0) {\n    const scrollLength = this.scroll.length();\n    index = Math.min(index, scrollLength - 1);\n    length = Math.min(index + length, scrollLength - 1) - index;\n    let node;\n    let [leaf, offset] = this.scroll.leaf(index);\n    if (leaf == null) return null;\n    [node, offset] = leaf.position(offset, true);\n    const range = document.createRange();\n    if (length > 0) {\n      range.setStart(node, offset);\n      [leaf, offset] = this.scroll.leaf(index + length);\n      if (leaf == null) return null;\n      [node, offset] = leaf.position(offset, true);\n      range.setEnd(node, offset);\n      return range.getBoundingClientRect();\n    }\n    let side = 'left';\n    let rect;\n    if (node instanceof Text) {\n      if (offset < node.data.length) {\n        range.setStart(node, offset);\n        range.setEnd(node, offset + 1);\n      } else {\n        range.setStart(node, offset - 1);\n        range.setEnd(node, offset);\n        side = 'right';\n      }\n      rect = range.getBoundingClientRect();\n    } else {\n      rect = leaf.domNode.getBoundingClientRect();\n      if (offset > 0) side = 'right';\n    }\n    return {\n      bottom: rect.top + rect.height,\n      height: rect.height,\n      left: rect[side],\n      right: rect[side],\n      top: rect.top,\n      width: 0,\n    };\n  }\n\n  getNativeRange() {\n    const selection = document.getSelection();\n    if (selection == null || selection.rangeCount <= 0) return null;\n    const nativeRange = selection.getRangeAt(0);\n    if (nativeRange == null) return null;\n    const range = this.normalizeNative(nativeRange);\n    debug.info('getNativeRange', range);\n    return range;\n  }\n\n  getRange() {\n    const normalized = this.getNativeRange();\n    if (normalized == null) return [null, null];\n    const range = this.normalizedToRange(normalized);\n    return [range, normalized];\n  }\n\n  hasFocus() {\n    return (\n      document.activeElement === this.root ||\n      contains(this.root, document.activeElement)\n    );\n  }\n\n  normalizedToRange(range) {\n    const positions = [[range.start.node, range.start.offset]];\n    if (!range.native.collapsed) {\n      positions.push([range.end.node, range.end.offset]);\n    }\n    const indexes = positions.map(position => {\n      const [node, offset] = position;\n      const blot = this.scroll.find(node, true);\n      const index = blot.offset(this.scroll);\n      if (offset === 0) {\n        return index;\n      }\n      if (blot instanceof LeafBlot) {\n        return index + blot.index(node, offset);\n      }\n      return index + blot.length();\n    });\n    const end = Math.min(Math.max(...indexes), this.scroll.length() - 1);\n    const start = Math.min(end, ...indexes);\n    return new Range(start, end - start);\n  }\n\n  normalizeNative(nativeRange) {\n    if (\n      !contains(this.root, nativeRange.startContainer) ||\n      (!nativeRange.collapsed && !contains(this.root, nativeRange.endContainer))\n    ) {\n      return null;\n    }\n    const range = {\n      start: {\n        node: nativeRange.startContainer,\n        offset: nativeRange.startOffset,\n      },\n      end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n      native: nativeRange,\n    };\n    [range.start, range.end].forEach(position => {\n      let { node, offset } = position;\n      while (!(node instanceof Text) && node.childNodes.length > 0) {\n        if (node.childNodes.length > offset) {\n          node = node.childNodes[offset];\n          offset = 0;\n        } else if (node.childNodes.length === offset) {\n          node = node.lastChild;\n          if (node instanceof Text) {\n            offset = node.data.length;\n          } else if (node.childNodes.length > 0) {\n            // Container case\n            offset = node.childNodes.length;\n          } else {\n            // Embed case\n            offset = node.childNodes.length + 1;\n          }\n        } else {\n          break;\n        }\n      }\n      position.node = node;\n      position.offset = offset;\n    });\n    return range;\n  }\n\n  rangeToNative(range) {\n    const indexes = range.collapsed\n      ? [range.index]\n      : [range.index, range.index + range.length];\n    const args = [];\n    const scrollLength = this.scroll.length();\n    indexes.forEach((index, i) => {\n      index = Math.min(scrollLength - 1, index);\n      const [leaf, leafOffset] = this.scroll.leaf(index);\n      const [node, offset] = leaf.position(leafOffset, i !== 0);\n      args.push(node, offset);\n    });\n    if (args.length < 2) {\n      return args.concat(args);\n    }\n    return args;\n  }\n\n  scrollIntoView(scrollingContainer) {\n    const range = this.lastRange;\n    if (range == null) return;\n    const bounds = this.getBounds(range.index, range.length);\n    if (bounds == null) return;\n    const limit = this.scroll.length() - 1;\n    const [first] = this.scroll.line(Math.min(range.index, limit));\n    let last = first;\n    if (range.length > 0) {\n      [last] = this.scroll.line(Math.min(range.index + range.length, limit));\n    }\n    if (first == null || last == null) return;\n    const scrollBounds = scrollingContainer.getBoundingClientRect();\n    if (bounds.top < scrollBounds.top) {\n      scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n    } else if (bounds.bottom > scrollBounds.bottom) {\n      scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n    }\n  }\n\n  setNativeRange(\n    startNode,\n    startOffset,\n    endNode = startNode,\n    endOffset = startOffset,\n    force = false,\n  ) {\n    debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n    if (\n      startNode != null &&\n      (this.root.parentNode == null ||\n        startNode.parentNode == null ||\n        endNode.parentNode == null)\n    ) {\n      return;\n    }\n    const selection = document.getSelection();\n    if (selection == null) return;\n    if (startNode != null) {\n      if (!this.hasFocus()) this.root.focus();\n      const { native } = this.getNativeRange() || {};\n      if (\n        native == null ||\n        force ||\n        startNode !== native.startContainer ||\n        startOffset !== native.startOffset ||\n        endNode !== native.endContainer ||\n        endOffset !== native.endOffset\n      ) {\n        if (startNode.tagName === 'BR') {\n          startOffset = Array.from(startNode.parentNode.childNodes).indexOf(\n            startNode,\n          );\n          startNode = startNode.parentNode;\n        }\n        if (endNode.tagName === 'BR') {\n          endOffset = Array.from(endNode.parentNode.childNodes).indexOf(\n            endNode,\n          );\n          endNode = endNode.parentNode;\n        }\n        const range = document.createRange();\n        range.setStart(startNode, startOffset);\n        range.setEnd(endNode, endOffset);\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    } else {\n      selection.removeAllRanges();\n      this.root.blur();\n    }\n  }\n\n  setRange(range, force = false, source = Emitter.sources.API) {\n    if (typeof force === 'string') {\n      source = force;\n      force = false;\n    }\n    debug.info('setRange', range);\n    if (range != null) {\n      const args = this.rangeToNative(range);\n      this.setNativeRange(...args, force);\n    } else {\n      this.setNativeRange(null);\n    }\n    this.update(source);\n  }\n\n  update(source = Emitter.sources.USER) {\n    const oldRange = this.lastRange;\n    const [lastRange, nativeRange] = this.getRange();\n    this.lastRange = lastRange;\n    this.lastNative = nativeRange;\n    if (this.lastRange != null) {\n      this.savedRange = this.lastRange;\n    }\n    if (!equal(oldRange, this.lastRange)) {\n      if (\n        !this.composing &&\n        nativeRange != null &&\n        nativeRange.native.collapsed &&\n        nativeRange.start.node !== this.cursor.textNode\n      ) {\n        const range = this.cursor.restore();\n        if (range) {\n          this.setNativeRange(\n            range.startNode,\n            range.startOffset,\n            range.endNode,\n            range.endOffset,\n          );\n        }\n      }\n      const args = [\n        Emitter.events.SELECTION_CHANGE,\n        clone(this.lastRange),\n        clone(oldRange),\n        source,\n      ];\n      this.emitter.emit(Emitter.events.EDITOR_CHANGE, ...args);\n      if (source !== Emitter.sources.SILENT) {\n        this.emitter.emit(...args);\n      }\n    }\n  }\n}\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode; // eslint-disable-line no-unused-expressions\n  } catch (e) {\n    return false;\n  }\n  return parent.contains(descendant);\n}\n\nexport { Range, Selection as default };\n","import { TextBlot } from 'parchment';\n\nclass Text extends TextBlot {}\n\nfunction escapeText(text) {\n  return text.replace(/[&<>\"']/g, s => {\n    // https://lodash.com/docs#escape\n    const entityMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;',\n    };\n    return entityMap[s];\n  });\n}\n\nexport { Text as default, escapeText };\n","import { EmbedBlot, Scope } from 'parchment';\nimport TextBlot from './text';\n\nclass Cursor extends EmbedBlot {\n  static value() {\n    return undefined;\n  }\n\n  constructor(scroll, domNode, selection) {\n    super(scroll, domNode);\n    this.selection = selection;\n    this.textNode = document.createTextNode(Cursor.CONTENTS);\n    this.domNode.appendChild(this.textNode);\n    this.savedLength = 0;\n  }\n\n  detach() {\n    // super.detach() will also clear domNode.__blot\n    if (this.parent != null) this.parent.removeChild(this);\n  }\n\n  format(name, value) {\n    if (this.savedLength !== 0) {\n      super.format(name, value);\n      return;\n    }\n    let target = this;\n    let index = 0;\n    while (target != null && target.statics.scope !== Scope.BLOCK_BLOT) {\n      index += target.offset(target.parent);\n      target = target.parent;\n    }\n    if (target != null) {\n      this.savedLength = Cursor.CONTENTS.length;\n      target.optimize();\n      target.formatAt(index, Cursor.CONTENTS.length, name, value);\n      this.savedLength = 0;\n    }\n  }\n\n  index(node, offset) {\n    if (node === this.textNode) return 0;\n    return super.index(node, offset);\n  }\n\n  length() {\n    return this.savedLength;\n  }\n\n  position() {\n    return [this.textNode, this.textNode.data.length];\n  }\n\n  remove() {\n    super.remove();\n    this.parent = null;\n  }\n\n  restore() {\n    if (this.selection.composing || this.parent == null) return null;\n    const range = this.selection.getNativeRange();\n    // Link format will insert text outside of anchor tag\n    while (\n      this.domNode.lastChild != null &&\n      this.domNode.lastChild !== this.textNode\n    ) {\n      this.domNode.parentNode.insertBefore(\n        this.domNode.lastChild,\n        this.domNode,\n      );\n    }\n\n    const prevTextBlot = this.prev instanceof TextBlot ? this.prev : null;\n    const prevTextLength = prevTextBlot ? prevTextBlot.length() : 0;\n    const nextTextBlot = this.next instanceof TextBlot ? this.next : null;\n    const nextText = nextTextBlot ? nextTextBlot.text : '';\n    const { textNode } = this;\n    // take text from inside this blot and reset it\n    const newText = textNode.data.split(Cursor.CONTENTS).join('');\n    textNode.data = Cursor.CONTENTS;\n\n    // proactively merge TextBlots around cursor so that optimization\n    // doesn't lose the cursor.  the reason we are here in cursor.restore\n    // could be that the user clicked in prevTextBlot or nextTextBlot, or\n    // the user typed something.\n    let mergedTextBlot;\n    if (prevTextBlot) {\n      mergedTextBlot = prevTextBlot;\n      if (newText || nextTextBlot) {\n        prevTextBlot.insertAt(prevTextBlot.length(), newText + nextText);\n        if (nextTextBlot) {\n          nextTextBlot.remove();\n        }\n      }\n    } else if (nextTextBlot) {\n      mergedTextBlot = nextTextBlot;\n      nextTextBlot.insertAt(0, newText);\n    } else {\n      const newTextNode = document.createTextNode(newText);\n      mergedTextBlot = this.scroll.create(newTextNode);\n      this.parent.insertBefore(mergedTextBlot, this);\n    }\n\n    this.remove();\n    if (range) {\n      // calculate selection to restore\n      const remapOffset = (node, offset) => {\n        if (prevTextBlot && node === prevTextBlot.domNode) {\n          return offset;\n        }\n        if (node === textNode) {\n          return prevTextLength + offset - 1;\n        }\n        if (nextTextBlot && node === nextTextBlot.domNode) {\n          return prevTextLength + newText.length + offset;\n        }\n        return null;\n      };\n\n      const start = remapOffset(range.start.node, range.start.offset);\n      const end = remapOffset(range.end.node, range.end.offset);\n      if (start !== null && end !== null) {\n        return {\n          startNode: mergedTextBlot.domNode,\n          startOffset: start,\n          endNode: mergedTextBlot.domNode,\n          endOffset: end,\n        };\n      }\n    }\n    return null;\n  }\n\n  update(mutations, context) {\n    if (\n      mutations.some(mutation => {\n        return (\n          mutation.type === 'characterData' && mutation.target === this.textNode\n        );\n      })\n    ) {\n      const range = this.restore();\n      if (range) context.range = range;\n    }\n  }\n\n  value() {\n    return '';\n  }\n}\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\nexport default Cursor;\n","import { EmbedBlot } from 'parchment';\n\nclass Break extends EmbedBlot {\n  static value() {\n    return undefined;\n  }\n\n  optimize() {\n    if (this.prev || this.next) {\n      this.remove();\n    }\n  }\n\n  length() {\n    return 0;\n  }\n\n  value() {\n    return '';\n  }\n}\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexport default Break;\n","import { EmbedBlot, InlineBlot, Scope } from 'parchment';\nimport Break from './break';\nimport Text from './text';\n\nclass Inline extends InlineBlot {\n  static compare(self, other) {\n    const selfIndex = Inline.order.indexOf(self);\n    const otherIndex = Inline.order.indexOf(other);\n    if (selfIndex >= 0 || otherIndex >= 0) {\n      return selfIndex - otherIndex;\n    }\n    if (self === other) {\n      return 0;\n    }\n    if (self < other) {\n      return -1;\n    }\n    return 1;\n  }\n\n  formatAt(index, length, name, value) {\n    if (\n      Inline.compare(this.statics.blotName, name) < 0 &&\n      this.scroll.query(name, Scope.BLOT)\n    ) {\n      const blot = this.isolate(index, length);\n      if (value) {\n        blot.wrap(name, value);\n      }\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  optimize(context) {\n    super.optimize(context);\n    if (\n      this.parent instanceof Inline &&\n      Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0\n    ) {\n      const parent = this.parent.isolate(this.offset(), this.length());\n      this.moveChildren(parent);\n      parent.wrap(this);\n    }\n  }\n}\nInline.allowedChildren = [Inline, Break, EmbedBlot, Text];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = [\n  'cursor',\n  'inline', // Must be lower\n  'link', // Chrome wants <a> to be lower\n  'underline',\n  'strike',\n  'italic',\n  'bold',\n  'script',\n  'code', // Must be higher\n];\n\nexport default Inline;\n","import extend from 'extend';\nimport Delta from 'quill-delta';\nimport {\n  AttributorStore,\n  BlockBlot,\n  EmbedBlot,\n  LeafBlot,\n  Scope,\n} from 'parchment';\nimport Break from './break';\nimport Inline from './inline';\nimport TextBlot from './text';\n\nconst NEWLINE_LENGTH = 1;\n\nclass Block extends BlockBlot {\n  constructor(scroll, domNode) {\n    super(scroll, domNode);\n    this.cache = {};\n  }\n\n  delta() {\n    if (this.cache.delta == null) {\n      this.cache.delta = blockDelta(this);\n    }\n    return this.cache.delta;\n  }\n\n  deleteAt(index, length) {\n    super.deleteAt(index, length);\n    this.cache = {};\n  }\n\n  formatAt(index, length, name, value) {\n    if (length <= 0) return;\n    if (this.scroll.query(name, Scope.BLOCK)) {\n      if (index + length === this.length()) {\n        this.format(name, value);\n      }\n    } else {\n      super.formatAt(\n        index,\n        Math.min(length, this.length() - index - 1),\n        name,\n        value,\n      );\n    }\n    this.cache = {};\n  }\n\n  insertAt(index, value, def) {\n    if (def != null) {\n      super.insertAt(index, value, def);\n      this.cache = {};\n      return;\n    }\n    if (value.length === 0) return;\n    const lines = value.split('\\n');\n    const text = lines.shift();\n    if (text.length > 0) {\n      if (index < this.length() - 1 || this.children.tail == null) {\n        super.insertAt(Math.min(index, this.length() - 1), text);\n      } else {\n        this.children.tail.insertAt(this.children.tail.length(), text);\n      }\n      this.cache = {};\n    }\n    let block = this;\n    lines.reduce((lineIndex, line) => {\n      block = block.split(lineIndex, true);\n      block.insertAt(0, line);\n      return line.length;\n    }, index + text.length);\n  }\n\n  insertBefore(blot, ref) {\n    const { head } = this.children;\n    super.insertBefore(blot, ref);\n    if (head instanceof Break) {\n      head.remove();\n    }\n    this.cache = {};\n  }\n\n  length() {\n    if (this.cache.length == null) {\n      this.cache.length = super.length() + NEWLINE_LENGTH;\n    }\n    return this.cache.length;\n  }\n\n  moveChildren(target, ref) {\n    super.moveChildren(target, ref);\n    this.cache = {};\n  }\n\n  optimize(context) {\n    super.optimize(context);\n    this.cache = {};\n  }\n\n  path(index) {\n    return super.path(index, true);\n  }\n\n  removeChild(child) {\n    super.removeChild(child);\n    this.cache = {};\n  }\n\n  split(index, force = false) {\n    if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n      const clone = this.clone();\n      if (index === 0) {\n        this.parent.insertBefore(clone, this);\n        return this;\n      }\n      this.parent.insertBefore(clone, this.next);\n      return clone;\n    }\n    const next = super.split(index, force);\n    this.cache = {};\n    return next;\n  }\n}\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = Break;\nBlock.allowedChildren = [Break, Inline, EmbedBlot, TextBlot];\n\nclass BlockEmbed extends EmbedBlot {\n  attach() {\n    super.attach();\n    this.attributes = new AttributorStore(this.domNode);\n  }\n\n  delta() {\n    return new Delta().insert(\n      this.value(),\n      extend(this.formats(), this.attributes.values()),\n    );\n  }\n\n  format(name, value) {\n    const attribute = this.scroll.query(name, Scope.BLOCK_ATTRIBUTE);\n    if (attribute != null) {\n      this.attributes.attribute(attribute, value);\n    }\n  }\n\n  formatAt(index, length, name, value) {\n    this.format(name, value);\n  }\n\n  insertAt(index, value, def) {\n    if (typeof value === 'string' && value.endsWith('\\n')) {\n      const block = this.scroll.create(Block.blotName);\n      this.parent.insertBefore(block, index === 0 ? this : this.next);\n      block.insertAt(0, value.slice(0, -1));\n    } else {\n      super.insertAt(index, value, def);\n    }\n  }\n}\nBlockEmbed.scope = Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\nfunction blockDelta(blot, filter = true) {\n  return blot\n    .descendants(LeafBlot)\n    .reduce((delta, leaf) => {\n      if (leaf.length() === 0) {\n        return delta;\n      }\n      return delta.insert(leaf.value(), bubbleFormats(leaf, {}, filter));\n    }, new Delta())\n    .insert('\\n', bubbleFormats(blot));\n}\n\nfunction bubbleFormats(blot, formats = {}, filter = true) {\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = extend(formats, blot.formats());\n    if (filter) {\n      // exclude syntax highlighting from deltas and getFormat()\n      delete formats['code-token'];\n    }\n  }\n  if (\n    blot.parent == null ||\n    blot.parent.statics.blotName === 'scroll' ||\n    blot.parent.statics.scope !== blot.statics.scope\n  ) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats, filter);\n}\n\nexport { blockDelta, bubbleFormats, BlockEmbed, Block as default };\n","import clone from 'clone';\nimport equal from 'deep-equal';\nimport extend from 'extend';\nimport Delta, { AttributeMap } from 'quill-delta';\nimport { LeafBlot } from 'parchment';\nimport { Range } from './selection';\nimport CursorBlot from '../blots/cursor';\nimport Block, { BlockEmbed, bubbleFormats } from '../blots/block';\nimport Break from '../blots/break';\nimport TextBlot, { escapeText } from '../blots/text';\n\nconst ASCII = /^[ -~]*$/;\n\nclass Editor {\n  constructor(scroll) {\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  applyDelta(delta) {\n    let consumeNextNewline = false;\n    this.scroll.update();\n    let scrollLength = this.scroll.length();\n    this.scroll.batchStart();\n    const normalizedDelta = normalizeDelta(delta);\n    normalizedDelta.reduce((index, op) => {\n      const length = op.retain || op.delete || op.insert.length || 1;\n      let attributes = op.attributes || {};\n      if (op.insert != null) {\n        if (typeof op.insert === 'string') {\n          let text = op.insert;\n          if (text.endsWith('\\n') && consumeNextNewline) {\n            consumeNextNewline = false;\n            text = text.slice(0, -1);\n          }\n          if (\n            (index >= scrollLength ||\n              this.scroll.descendant(BlockEmbed, index)[0]) &&\n            !text.endsWith('\\n')\n          ) {\n            consumeNextNewline = true;\n          }\n          this.scroll.insertAt(index, text);\n          const [line, offset] = this.scroll.line(index);\n          let formats = extend({}, bubbleFormats(line));\n          if (line instanceof Block) {\n            const [leaf] = line.descendant(LeafBlot, offset);\n            formats = extend(formats, bubbleFormats(leaf));\n          }\n          attributes = AttributeMap.diff(formats, attributes) || {};\n        } else if (typeof op.insert === 'object') {\n          const key = Object.keys(op.insert)[0]; // There should only be one key\n          if (key == null) return index;\n          this.scroll.insertAt(index, key, op.insert[key]);\n        }\n        scrollLength += length;\n      }\n      Object.keys(attributes).forEach(name => {\n        this.scroll.formatAt(index, length, name, attributes[name]);\n      });\n      return index + length;\n    }, 0);\n    normalizedDelta.reduce((index, op) => {\n      if (typeof op.delete === 'number') {\n        this.scroll.deleteAt(index, op.delete);\n        return index;\n      }\n      return index + (op.retain || op.insert.length || 1);\n    }, 0);\n    this.scroll.batchEnd();\n    this.scroll.optimize();\n    return this.update(normalizedDelta);\n  }\n\n  deleteText(index, length) {\n    this.scroll.deleteAt(index, length);\n    return this.update(new Delta().retain(index).delete(length));\n  }\n\n  formatLine(index, length, formats = {}) {\n    this.scroll.update();\n    Object.keys(formats).forEach(format => {\n      this.scroll.lines(index, Math.max(length, 1)).forEach(line => {\n        line.format(format, formats[format]);\n      });\n    });\n    this.scroll.optimize();\n    const delta = new Delta().retain(index).retain(length, clone(formats));\n    return this.update(delta);\n  }\n\n  formatText(index, length, formats = {}) {\n    Object.keys(formats).forEach(format => {\n      this.scroll.formatAt(index, length, format, formats[format]);\n    });\n    const delta = new Delta().retain(index).retain(length, clone(formats));\n    return this.update(delta);\n  }\n\n  getContents(index, length) {\n    return this.delta.slice(index, index + length);\n  }\n\n  getDelta() {\n    return this.scroll.lines().reduce((delta, line) => {\n      return delta.concat(line.delta());\n    }, new Delta());\n  }\n\n  getFormat(index, length = 0) {\n    let lines = [];\n    let leaves = [];\n    if (length === 0) {\n      this.scroll.path(index).forEach(path => {\n        const [blot] = path;\n        if (blot instanceof Block) {\n          lines.push(blot);\n        } else if (blot instanceof LeafBlot) {\n          leaves.push(blot);\n        }\n      });\n    } else {\n      lines = this.scroll.lines(index, length);\n      leaves = this.scroll.descendants(LeafBlot, index, length);\n    }\n    const formatsArr = [lines, leaves].map(blots => {\n      if (blots.length === 0) return {};\n      let formats = bubbleFormats(blots.shift());\n      while (Object.keys(formats).length > 0) {\n        const blot = blots.shift();\n        if (blot == null) return formats;\n        formats = combineFormats(bubbleFormats(blot), formats);\n      }\n      return formats;\n    });\n    return extend.apply(extend, formatsArr);\n  }\n\n  getHTML(index, length) {\n    const [line, lineOffset] = this.scroll.line(index);\n    if (line.length() >= lineOffset + length) {\n      return convertHTML(line, lineOffset, length, true);\n    }\n    return convertHTML(this.scroll, index, length, true);\n  }\n\n  getText(index, length) {\n    return this.getContents(index, length)\n      .filter(op => typeof op.insert === 'string')\n      .map(op => op.insert)\n      .join('');\n  }\n\n  insertEmbed(index, embed, value) {\n    this.scroll.insertAt(index, embed, value);\n    return this.update(new Delta().retain(index).insert({ [embed]: value }));\n  }\n\n  insertText(index, text, formats = {}) {\n    text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n    this.scroll.insertAt(index, text);\n    Object.keys(formats).forEach(format => {\n      this.scroll.formatAt(index, text.length, format, formats[format]);\n    });\n    return this.update(new Delta().retain(index).insert(text, clone(formats)));\n  }\n\n  isBlank() {\n    if (this.scroll.children.length === 0) return true;\n    if (this.scroll.children.length > 1) return false;\n    const block = this.scroll.children.head;\n    if (block.statics.blotName !== Block.blotName) return false;\n    if (block.children.length > 1) return false;\n    return block.children.head instanceof Break;\n  }\n\n  removeFormat(index, length) {\n    const text = this.getText(index, length);\n    const [line, offset] = this.scroll.line(index + length);\n    let suffixLength = 0;\n    let suffix = new Delta();\n    if (line != null) {\n      suffixLength = line.length() - offset;\n      suffix = line\n        .delta()\n        .slice(offset, offset + suffixLength - 1)\n        .insert('\\n');\n    }\n    const contents = this.getContents(index, length + suffixLength);\n    const diff = contents.diff(new Delta().insert(text).concat(suffix));\n    const delta = new Delta().retain(index).concat(diff);\n    return this.applyDelta(delta);\n  }\n\n  update(change, mutations = [], selectionInfo = undefined) {\n    const oldDelta = this.delta;\n    if (\n      mutations.length === 1 &&\n      mutations[0].type === 'characterData' &&\n      mutations[0].target.data.match(ASCII) &&\n      this.scroll.find(mutations[0].target)\n    ) {\n      // Optimization for character changes\n      const textBlot = this.scroll.find(mutations[0].target);\n      const formats = bubbleFormats(textBlot);\n      const index = textBlot.offset(this.scroll);\n      const oldValue = mutations[0].oldValue.replace(CursorBlot.CONTENTS, '');\n      const oldText = new Delta().insert(oldValue);\n      const newText = new Delta().insert(textBlot.value());\n      const relativeSelectionInfo = selectionInfo && {\n        oldRange: shiftRange(selectionInfo.oldRange, -index),\n        newRange: shiftRange(selectionInfo.newRange, -index),\n      };\n      const diffDelta = new Delta()\n        .retain(index)\n        .concat(oldText.diff(newText, relativeSelectionInfo));\n      change = diffDelta.reduce((delta, op) => {\n        if (op.insert) {\n          return delta.insert(op.insert, formats);\n        }\n        return delta.push(op);\n      }, new Delta());\n      this.delta = oldDelta.compose(change);\n    } else {\n      this.delta = this.getDelta();\n      if (!change || !equal(oldDelta.compose(change), this.delta)) {\n        change = oldDelta.diff(this.delta, selectionInfo);\n      }\n    }\n    return change;\n  }\n}\n\nfunction convertListHTML(items, lastIndent, types) {\n  if (items.length === 0) {\n    const [endTag] = getListType(types.pop());\n    if (lastIndent <= 0) {\n      return `</li></${endTag}>`;\n    }\n    return `</li></${endTag}>${convertListHTML([], lastIndent - 1, types)}`;\n  }\n  const [{ child, offset, length, indent, type }, ...rest] = items;\n  const [tag, attribute] = getListType(type);\n  if (indent > lastIndent) {\n    types.push(type);\n    if (indent === lastIndent + 1) {\n      return `<${tag}><li${attribute}>${convertHTML(\n        child,\n        offset,\n        length,\n      )}${convertListHTML(rest, indent, types)}`;\n    }\n    return `<${tag}><li>${convertListHTML(items, lastIndent + 1, types)}`;\n  }\n  const previousType = types[types.length - 1];\n  if (indent === lastIndent && type === previousType) {\n    return `</li><li${attribute}>${convertHTML(\n      child,\n      offset,\n      length,\n    )}${convertListHTML(rest, indent, types)}`;\n  }\n  const [endTag] = getListType(types.pop());\n  return `</li></${endTag}>${convertListHTML(items, lastIndent - 1, types)}`;\n}\n\nfunction convertHTML(blot, index, length, isRoot = false) {\n  if (typeof blot.html === 'function') {\n    return blot.html(index, length);\n  }\n  if (blot instanceof TextBlot) {\n    return escapeText(blot.value().slice(index, index + length));\n  }\n  if (blot.children) {\n    // TODO fix API\n    if (blot.statics.blotName === 'list-container') {\n      const items = [];\n      blot.children.forEachAt(index, length, (child, offset, childLength) => {\n        const formats = child.formats();\n        items.push({\n          child,\n          offset,\n          length: childLength,\n          indent: formats.indent || 0,\n          type: formats.list,\n        });\n      });\n      return convertListHTML(items, -1, []);\n    }\n    const parts = [];\n    blot.children.forEachAt(index, length, (child, offset, childLength) => {\n      parts.push(convertHTML(child, offset, childLength));\n    });\n    if (isRoot || blot.statics.blotName === 'list') {\n      return parts.join('');\n    }\n    const { outerHTML, innerHTML } = blot.domNode;\n    const [start, end] = outerHTML.split(`>${innerHTML}<`);\n    // TODO cleanup\n    if (start === '<table') {\n      return `<table style=\"border: 1px solid #000;\">${parts.join('')}<${end}`;\n    }\n    return `${start}>${parts.join('')}<${end}`;\n  }\n  return blot.domNode.outerHTML;\n}\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce((merged, name) => {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction getListType(type) {\n  const tag = type === 'ordered' ? 'ol' : 'ul';\n  switch (type) {\n    case 'checked':\n      return [tag, ' data-list=\"checked\"'];\n    case 'unchecked':\n      return [tag, ' data-list=\"unchecked\"'];\n    default:\n      return [tag, ''];\n  }\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce((normalizedDelta, op) => {\n    if (typeof op.insert === 'string') {\n      const text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return normalizedDelta.insert(text, op.attributes);\n    }\n    return normalizedDelta.push(op);\n  }, new Delta());\n}\n\nfunction shiftRange({ index, length }, amount) {\n  return new Range(index + amount, length);\n}\n\nexport default Editor;\n","class Module {\n  constructor(quill, options = {}) {\n    this.quill = quill;\n    this.options = options;\n  }\n}\nModule.DEFAULTS = {};\n\nexport default Module;\n","class Theme {\n  constructor(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  init() {\n    Object.keys(this.options.modules).forEach(name => {\n      if (this.modules[name] == null) {\n        this.addModule(name);\n      }\n    });\n  }\n\n  addModule(name) {\n    const ModuleClass = this.quill.constructor.import(`modules/${name}`);\n    this.modules[name] = new ModuleClass(\n      this.quill,\n      this.options.modules[name] || {},\n    );\n    return this.modules[name];\n  }\n}\nTheme.DEFAULTS = {\n  modules: {},\n};\nTheme.themes = {\n  default: Theme,\n};\n\nexport default Theme;\n","import Delta from 'quill-delta';\nimport * as Parchment from 'parchment';\nimport extend from 'extend';\nimport Editor from './editor';\nimport Emitter from './emitter';\nimport Module from './module';\nimport Selection, { Range } from './selection';\nimport instances from './instances';\nimport logger from './logger';\nimport Theme from './theme';\n\nconst debug = logger('quill');\n\nconst globalRegistry = new Parchment.Registry();\nParchment.ParentBlot.uiClass = 'ql-ui';\n\nclass Quill {\n  static debug(limit) {\n    if (limit === true) {\n      limit = 'log';\n    }\n    logger.level(limit);\n  }\n\n  static find(node) {\n    return instances.get(node) || globalRegistry.find(node);\n  }\n\n  static import(name) {\n    if (this.imports[name] == null) {\n      debug.error(`Cannot import ${name}. Are you sure it was registered?`);\n    }\n    return this.imports[name];\n  }\n\n  static register(path, target, overwrite = false) {\n    if (typeof path !== 'string') {\n      const name = path.attrName || path.blotName;\n      if (typeof name === 'string') {\n        // register(Blot | Attributor, overwrite)\n        this.register(`formats/${name}`, path, target);\n      } else {\n        Object.keys(path).forEach(key => {\n          this.register(key, path[key], target);\n        });\n      }\n    } else {\n      if (this.imports[path] != null && !overwrite) {\n        debug.warn(`Overwriting ${path} with`, target);\n      }\n      this.imports[path] = target;\n      if (\n        (path.startsWith('blots/') || path.startsWith('formats/')) &&\n        target.blotName !== 'abstract'\n      ) {\n        globalRegistry.register(target);\n      }\n      if (typeof target.register === 'function') {\n        target.register(globalRegistry);\n      }\n    }\n  }\n\n  constructor(container, options = {}) {\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    const html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    instances.set(this.container, this);\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new Emitter();\n    const ScrollBlot = this.options.registry.query(\n      Parchment.ScrollBlot.blotName,\n    );\n    this.scroll = new ScrollBlot(this.options.registry, this.root, {\n      emitter: this.emitter,\n    });\n    this.editor = new Editor(this.scroll);\n    this.selection = new Selection(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options); // eslint-disable-line new-cap\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.uploader = this.theme.addModule('uploader');\n    this.theme.init();\n    this.emitter.on(Emitter.events.EDITOR_CHANGE, type => {\n      if (type === Emitter.events.TEXT_CHANGE) {\n        this.root.classList.toggle('ql-blank', this.editor.isBlank());\n      }\n    });\n    this.emitter.on(Emitter.events.SCROLL_UPDATE, (source, mutations) => {\n      const oldRange = this.selection.lastRange;\n      const [newRange] = this.selection.getRange();\n      const selectionInfo =\n        oldRange && newRange ? { oldRange, newRange } : undefined;\n      modify.call(\n        this,\n        () => this.editor.update(null, mutations, selectionInfo),\n        source,\n      );\n    });\n    const contents = this.clipboard.convert({\n      html: `${html}<p><br></p>`,\n      text: '\\n',\n    });\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n    this.allowReadOnlyEdits = false;\n  }\n\n  addContainer(container, refNode = null) {\n    if (typeof container === 'string') {\n      const className = container;\n      container = document.createElement('div');\n      container.classList.add(className);\n    }\n    this.container.insertBefore(container, refNode);\n    return container;\n  }\n\n  blur() {\n    this.selection.setRange(null);\n  }\n\n  deleteText(index, length, source) {\n    [index, length, , source] = overload(index, length, source);\n    return modify.call(\n      this,\n      () => {\n        return this.editor.deleteText(index, length);\n      },\n      source,\n      index,\n      -1 * length,\n    );\n  }\n\n  disable() {\n    this.enable(false);\n  }\n\n  editReadOnly(modifier) {\n    this.allowReadOnlyEdits = true;\n    const value = modifier();\n    this.allowReadOnlyEdits = false;\n    return value;\n  }\n\n  enable(enabled = true) {\n    this.scroll.enable(enabled);\n    this.container.classList.toggle('ql-disabled', !enabled);\n  }\n\n  focus() {\n    const { scrollTop } = this.scrollingContainer;\n    this.selection.focus();\n    this.scrollingContainer.scrollTop = scrollTop;\n    this.scrollIntoView();\n  }\n\n  format(name, value, source = Emitter.sources.API) {\n    return modify.call(\n      this,\n      () => {\n        const range = this.getSelection(true);\n        let change = new Delta();\n        if (range == null) return change;\n        if (this.scroll.query(name, Parchment.Scope.BLOCK)) {\n          change = this.editor.formatLine(range.index, range.length, {\n            [name]: value,\n          });\n        } else if (range.length === 0) {\n          this.selection.format(name, value);\n          return change;\n        } else {\n          change = this.editor.formatText(range.index, range.length, {\n            [name]: value,\n          });\n        }\n        this.setSelection(range, Emitter.sources.SILENT);\n        return change;\n      },\n      source,\n    );\n  }\n\n  formatLine(index, length, name, value, source) {\n    let formats;\n    // eslint-disable-next-line prefer-const\n    [index, length, formats, source] = overload(\n      index,\n      length,\n      name,\n      value,\n      source,\n    );\n    return modify.call(\n      this,\n      () => {\n        return this.editor.formatLine(index, length, formats);\n      },\n      source,\n      index,\n      0,\n    );\n  }\n\n  formatText(index, length, name, value, source) {\n    let formats;\n    // eslint-disable-next-line prefer-const\n    [index, length, formats, source] = overload(\n      index,\n      length,\n      name,\n      value,\n      source,\n    );\n    return modify.call(\n      this,\n      () => {\n        return this.editor.formatText(index, length, formats);\n      },\n      source,\n      index,\n      0,\n    );\n  }\n\n  getBounds(index, length = 0) {\n    let bounds;\n    if (typeof index === 'number') {\n      bounds = this.selection.getBounds(index, length);\n    } else {\n      bounds = this.selection.getBounds(index.index, index.length);\n    }\n    const containerBounds = this.container.getBoundingClientRect();\n    return {\n      bottom: bounds.bottom - containerBounds.top,\n      height: bounds.height,\n      left: bounds.left - containerBounds.left,\n      right: bounds.right - containerBounds.left,\n      top: bounds.top - containerBounds.top,\n      width: bounds.width,\n    };\n  }\n\n  getContents(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getContents(index, length);\n  }\n\n  getFormat(index = this.getSelection(true), length = 0) {\n    if (typeof index === 'number') {\n      return this.editor.getFormat(index, length);\n    }\n    return this.editor.getFormat(index.index, index.length);\n  }\n\n  getIndex(blot) {\n    return blot.offset(this.scroll);\n  }\n\n  getLength() {\n    return this.scroll.length();\n  }\n\n  getLeaf(index) {\n    return this.scroll.leaf(index);\n  }\n\n  getLine(index) {\n    return this.scroll.line(index);\n  }\n\n  getLines(index = 0, length = Number.MAX_VALUE) {\n    if (typeof index !== 'number') {\n      return this.scroll.lines(index.index, index.length);\n    }\n    return this.scroll.lines(index, length);\n  }\n\n  getModule(name) {\n    return this.theme.modules[name];\n  }\n\n  getSelection(focus = false) {\n    if (focus) this.focus();\n    this.update(); // Make sure we access getRange with editor in consistent state\n    return this.selection.getRange()[0];\n  }\n\n  getSemanticHTML(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getHTML(index, length);\n  }\n\n  getText(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getText(index, length);\n  }\n\n  hasFocus() {\n    return this.selection.hasFocus();\n  }\n\n  insertEmbed(index, embed, value, source = Quill.sources.API) {\n    return modify.call(\n      this,\n      () => {\n        return this.editor.insertEmbed(index, embed, value);\n      },\n      source,\n      index,\n    );\n  }\n\n  insertText(index, text, name, value, source) {\n    let formats;\n    // eslint-disable-next-line prefer-const\n    [index, , formats, source] = overload(index, 0, name, value, source);\n    return modify.call(\n      this,\n      () => {\n        return this.editor.insertText(index, text, formats);\n      },\n      source,\n      index,\n      text.length,\n    );\n  }\n\n  isEnabled() {\n    return this.scroll.isEnabled();\n  }\n\n  off(...args) {\n    return this.emitter.off(...args);\n  }\n\n  on(...args) {\n    return this.emitter.on(...args);\n  }\n\n  once(...args) {\n    return this.emitter.once(...args);\n  }\n\n  removeFormat(index, length, source) {\n    [index, length, , source] = overload(index, length, source);\n    return modify.call(\n      this,\n      () => {\n        return this.editor.removeFormat(index, length);\n      },\n      source,\n      index,\n    );\n  }\n\n  scrollIntoView() {\n    this.selection.scrollIntoView(this.scrollingContainer);\n  }\n\n  setContents(delta, source = Emitter.sources.API) {\n    return modify.call(\n      this,\n      () => {\n        delta = new Delta(delta);\n        const length = this.getLength();\n        const deleted = this.editor.deleteText(0, length);\n        const applied = this.editor.applyDelta(delta);\n        const lastOp = applied.ops[applied.ops.length - 1];\n        if (\n          lastOp != null &&\n          typeof lastOp.insert === 'string' &&\n          lastOp.insert[lastOp.insert.length - 1] === '\\n'\n        ) {\n          this.editor.deleteText(this.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        return deleted.compose(applied);\n      },\n      source,\n    );\n  }\n\n  setSelection(index, length, source) {\n    if (index == null) {\n      this.selection.setRange(null, length || Quill.sources.API);\n    } else {\n      [index, length, , source] = overload(index, length, source);\n      this.selection.setRange(new Range(Math.max(0, index), length), source);\n      if (source !== Emitter.sources.SILENT) {\n        this.selection.scrollIntoView(this.scrollingContainer);\n      }\n    }\n  }\n\n  setText(text, source = Emitter.sources.API) {\n    const delta = new Delta().insert(text);\n    return this.setContents(delta, source);\n  }\n\n  update(source = Emitter.sources.USER) {\n    const change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n    this.selection.update(source);\n    // TODO this is usually undefined\n    return change;\n  }\n\n  updateContents(delta, source = Emitter.sources.API) {\n    return modify.call(\n      this,\n      () => {\n        delta = new Delta(delta);\n        return this.editor.applyDelta(delta, source);\n      },\n      source,\n      true,\n    );\n  }\n}\nQuill.DEFAULTS = {\n  bounds: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  registry: globalRegistry,\n  scrollingContainer: null,\n  theme: 'default',\n};\nQuill.events = Emitter.events;\nQuill.sources = Emitter.sources;\n// eslint-disable-next-line no-undef\nQuill.version = typeof QUILL_VERSION === 'undefined' ? 'dev' : QUILL_VERSION;\n\nQuill.imports = {\n  delta: Delta,\n  parchment: Parchment,\n  'core/module': Module,\n  'core/theme': Theme,\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = extend(\n    true,\n    {\n      container,\n      modules: {\n        clipboard: true,\n        keyboard: true,\n        history: true,\n        uploader: true,\n      },\n    },\n    userConfig,\n  );\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = Theme;\n  } else {\n    userConfig.theme = Quill.import(`themes/${userConfig.theme}`);\n    if (userConfig.theme == null) {\n      throw new Error(\n        `Invalid theme ${userConfig.theme}. Did you register it?`,\n      );\n    }\n  }\n  const themeConfig = extend(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(config => {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(module => {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  const moduleNames = Object.keys(themeConfig.modules).concat(\n    Object.keys(userConfig.modules),\n  );\n  const moduleConfig = moduleNames.reduce((config, name) => {\n    const moduleClass = Quill.import(`modules/${name}`);\n    if (moduleClass == null) {\n      debug.error(\n        `Cannot load ${name} module. Are you sure you registered it?`,\n      );\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (\n    userConfig.modules != null &&\n    userConfig.modules.toolbar &&\n    userConfig.modules.toolbar.constructor !== Object\n  ) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar,\n    };\n  }\n  userConfig = extend(\n    true,\n    {},\n    Quill.DEFAULTS,\n    { modules: moduleConfig },\n    themeConfig,\n    userConfig,\n  );\n  ['bounds', 'container', 'scrollingContainer'].forEach(key => {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(\n    (config, name) => {\n      if (userConfig.modules[name]) {\n        config[name] = userConfig.modules[name];\n      }\n      return config;\n    },\n    {},\n  );\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (\n    !this.isEnabled() &&\n    source === Emitter.sources.USER &&\n    !this.allowReadOnlyEdits\n  ) {\n    return new Delta();\n  }\n  let range = index == null ? null : this.getSelection();\n  const oldDelta = this.editor.delta;\n  const change = modifier();\n  if (range != null) {\n    if (index === true) {\n      index = range.index; // eslint-disable-line prefer-destructuring\n    }\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, Emitter.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    const args = [Emitter.events.TEXT_CHANGE, change, oldDelta, source];\n    this.emitter.emit(Emitter.events.EDITOR_CHANGE, ...args);\n    if (source !== Emitter.sources.SILENT) {\n      this.emitter.emit(...args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  let formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value;\n      value = name;\n      name = length;\n      length = index.length; // eslint-disable-line prefer-destructuring\n      index = index.index; // eslint-disable-line prefer-destructuring\n    } else {\n      length = index.length; // eslint-disable-line prefer-destructuring\n      index = index.index; // eslint-disable-line prefer-destructuring\n    }\n  } else if (typeof length !== 'number') {\n    source = value;\n    value = name;\n    name = length;\n    length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if (typeof name === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || Emitter.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  let start;\n  let end;\n  if (index instanceof Delta) {\n    [start, end] = [range.index, range.index + range.length].map(pos =>\n      index.transformPosition(pos, source !== Emitter.sources.USER),\n    );\n  } else {\n    [start, end] = [range.index, range.index + range.length].map(pos => {\n      if (pos < index || (pos === index && source === Emitter.sources.USER))\n        return pos;\n      if (length >= 0) {\n        return pos + length;\n      }\n      return Math.max(index, pos + length);\n    });\n  }\n  return new Range(start, end - start);\n}\n\nexport { globalRegistry, expandConfig, overload, Quill as default };\n","import { ContainerBlot } from 'parchment';\n\nclass Container extends ContainerBlot {}\n\nexport default Container;\n","import { EmbedBlot } from 'parchment';\nimport TextBlot from './text';\n\nconst GUARD_TEXT = '\\uFEFF';\n\nclass Embed extends EmbedBlot {\n  constructor(scroll, node) {\n    super(scroll, node);\n    this.contentNode = document.createElement('span');\n    this.contentNode.setAttribute('contenteditable', false);\n    Array.from(this.domNode.childNodes).forEach(childNode => {\n      this.contentNode.appendChild(childNode);\n    });\n    this.leftGuard = document.createTextNode(GUARD_TEXT);\n    this.rightGuard = document.createTextNode(GUARD_TEXT);\n    this.domNode.appendChild(this.leftGuard);\n    this.domNode.appendChild(this.contentNode);\n    this.domNode.appendChild(this.rightGuard);\n  }\n\n  index(node, offset) {\n    if (node === this.leftGuard) return 0;\n    if (node === this.rightGuard) return 1;\n    return super.index(node, offset);\n  }\n\n  restore(node) {\n    let range;\n    let textNode;\n    const text = node.data.split(GUARD_TEXT).join('');\n    if (node === this.leftGuard) {\n      if (this.prev instanceof TextBlot) {\n        const prevLength = this.prev.length();\n        this.prev.insertAt(prevLength, text);\n        range = {\n          startNode: this.prev.domNode,\n          startOffset: prevLength + text.length,\n        };\n      } else {\n        textNode = document.createTextNode(text);\n        this.parent.insertBefore(this.scroll.create(textNode), this);\n        range = {\n          startNode: textNode,\n          startOffset: text.length,\n        };\n      }\n    } else if (node === this.rightGuard) {\n      if (this.next instanceof TextBlot) {\n        this.next.insertAt(0, text);\n        range = {\n          startNode: this.next.domNode,\n          startOffset: text.length,\n        };\n      } else {\n        textNode = document.createTextNode(text);\n        this.parent.insertBefore(this.scroll.create(textNode), this.next);\n        range = {\n          startNode: textNode,\n          startOffset: text.length,\n        };\n      }\n    }\n    node.data = GUARD_TEXT;\n    return range;\n  }\n\n  update(mutations, context) {\n    mutations.forEach(mutation => {\n      if (\n        mutation.type === 'characterData' &&\n        (mutation.target === this.leftGuard ||\n          mutation.target === this.rightGuard)\n      ) {\n        const range = this.restore(mutation.target);\n        if (range) context.range = range;\n      }\n    });\n  }\n}\n\nexport default Embed;\n","import { Scope, ScrollBlot, ContainerBlot } from 'parchment';\nimport Emitter from '../core/emitter';\nimport Block, { BlockEmbed } from './block';\nimport Break from './break';\nimport Container from './container';\n\nfunction isLine(blot) {\n  return blot instanceof Block || blot instanceof BlockEmbed;\n}\n\nclass Scroll extends ScrollBlot {\n  constructor(registry, domNode, { emitter }) {\n    super(registry, domNode);\n    this.emitter = emitter;\n    this.batch = false;\n    this.optimize();\n    this.enable();\n    this.domNode.addEventListener('dragstart', e => this.handleDragStart(e));\n  }\n\n  batchStart() {\n    if (!Array.isArray(this.batch)) {\n      this.batch = [];\n    }\n  }\n\n  batchEnd() {\n    const mutations = this.batch;\n    this.batch = false;\n    this.update(mutations);\n  }\n\n  emitMount(blot) {\n    this.emitter.emit(Emitter.events.SCROLL_BLOT_MOUNT, blot);\n  }\n\n  emitUnmount(blot) {\n    this.emitter.emit(Emitter.events.SCROLL_BLOT_UNMOUNT, blot);\n  }\n\n  deleteAt(index, length) {\n    const [first, offset] = this.line(index);\n    const [last] = this.line(index + length);\n    super.deleteAt(index, length);\n    if (last != null && first !== last && offset > 0) {\n      if (first instanceof BlockEmbed || last instanceof BlockEmbed) {\n        this.optimize();\n        return;\n      }\n      const ref =\n        last.children.head instanceof Break ? null : last.children.head;\n      first.moveChildren(last, ref);\n      first.remove();\n    }\n    this.optimize();\n  }\n\n  enable(enabled = true) {\n    this.domNode.setAttribute('contenteditable', enabled);\n  }\n\n  formatAt(index, length, format, value) {\n    super.formatAt(index, length, format, value);\n    this.optimize();\n  }\n\n  handleDragStart(event) {\n    event.preventDefault();\n  }\n\n  insertAt(index, value, def) {\n    if (index >= this.length()) {\n      if (def == null || this.scroll.query(value, Scope.BLOCK) == null) {\n        const blot = this.scroll.create(this.statics.defaultChild.blotName);\n        this.appendChild(blot);\n        if (def == null && value.endsWith('\\n')) {\n          blot.insertAt(0, value.slice(0, -1), def);\n        } else {\n          blot.insertAt(0, value, def);\n        }\n      } else {\n        const embed = this.scroll.create(value, def);\n        this.appendChild(embed);\n      }\n    } else {\n      super.insertAt(index, value, def);\n    }\n    this.optimize();\n  }\n\n  insertBefore(blot, ref) {\n    if (blot.statics.scope === Scope.INLINE_BLOT) {\n      const wrapper = this.scroll.create(this.statics.defaultChild.blotName);\n      wrapper.appendChild(blot);\n      super.insertBefore(wrapper, ref);\n    } else {\n      super.insertBefore(blot, ref);\n    }\n  }\n\n  isEnabled() {\n    return this.domNode.getAttribute('contenteditable') === 'true';\n  }\n\n  leaf(index) {\n    return this.path(index).pop() || [null, -1];\n  }\n\n  line(index) {\n    if (index === this.length()) {\n      return this.line(index - 1);\n    }\n    return this.descendant(isLine, index);\n  }\n\n  lines(index = 0, length = Number.MAX_VALUE) {\n    const getLines = (blot, blotIndex, blotLength) => {\n      let lines = [];\n      let lengthLeft = blotLength;\n      blot.children.forEachAt(\n        blotIndex,\n        blotLength,\n        (child, childIndex, childLength) => {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof ContainerBlot) {\n            lines = lines.concat(getLines(child, childIndex, lengthLeft));\n          }\n          lengthLeft -= childLength;\n        },\n      );\n      return lines;\n    };\n    return getLines(this, index, length);\n  }\n\n  optimize(mutations = [], context = {}) {\n    if (this.batch) return;\n    super.optimize(mutations, context);\n    if (mutations.length > 0) {\n      this.emitter.emit(Emitter.events.SCROLL_OPTIMIZE, mutations, context);\n    }\n  }\n\n  path(index) {\n    return super.path(index).slice(1); // Exclude self\n  }\n\n  remove() {\n    // Never remove self\n  }\n\n  update(mutations) {\n    if (this.batch) {\n      if (Array.isArray(mutations)) {\n        this.batch = this.batch.concat(mutations);\n      }\n      return;\n    }\n    let source = Emitter.sources.USER;\n    if (typeof mutations === 'string') {\n      source = mutations;\n    }\n    if (!Array.isArray(mutations)) {\n      mutations = this.observer.takeRecords();\n    }\n    if (mutations.length > 0) {\n      this.emitter.emit(Emitter.events.SCROLL_BEFORE_UPDATE, source, mutations);\n    }\n    super.update(mutations.concat([])); // pass copy\n    if (mutations.length > 0) {\n      this.emitter.emit(Emitter.events.SCROLL_UPDATE, source, mutations);\n    }\n  }\n}\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = Block;\nScroll.allowedChildren = [Block, BlockEmbed, Container];\n\nexport default Scroll;\n","import { Attributor, ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst config = {\n  scope: Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify'],\n};\n\nconst AlignAttribute = new Attributor('align', 'align', config);\nconst AlignClass = new ClassAttributor('align', 'ql-align', config);\nconst AlignStyle = new StyleAttributor('align', 'text-align', config);\n\nexport { AlignAttribute, AlignClass, AlignStyle };\n","import { ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nclass ColorAttributor extends StyleAttributor {\n  value(domNode) {\n    let value = super.value(domNode);\n    if (!value.startsWith('rgb(')) return value;\n    value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n    const hex = value\n      .split(',')\n      .map(component => `00${parseInt(component, 10).toString(16)}`.slice(-2))\n      .join('');\n    return `#${hex}`;\n  }\n}\n\nconst ColorClass = new ClassAttributor('color', 'ql-color', {\n  scope: Scope.INLINE,\n});\nconst ColorStyle = new ColorAttributor('color', 'color', {\n  scope: Scope.INLINE,\n});\n\nexport { ColorAttributor, ColorClass, ColorStyle };\n","import { ClassAttributor, Scope } from 'parchment';\nimport { ColorAttributor } from './color';\n\nconst BackgroundClass = new ClassAttributor('background', 'ql-bg', {\n  scope: Scope.INLINE,\n});\nconst BackgroundStyle = new ColorAttributor('background', 'background-color', {\n  scope: Scope.INLINE,\n});\n\nexport { BackgroundClass, BackgroundStyle };\n","import Block from '../blots/block';\nimport Break from '../blots/break';\nimport Cursor from '../blots/cursor';\nimport Inline from '../blots/inline';\nimport TextBlot, { escapeText } from '../blots/text';\nimport Container from '../blots/container';\nimport Quill from '../core/quill';\n\nclass CodeBlockContainer extends Container {\n  static create(value) {\n    const domNode = super.create(value);\n    domNode.setAttribute('spellcheck', false);\n    return domNode;\n  }\n\n  html(index, length) {\n    const text = this.children\n      .map(child => child.domNode.innerText)\n      .join('\\n')\n      .slice(index, index + length);\n    return `<pre>${escapeText(text)}</pre>`;\n  }\n}\n\nclass CodeBlock extends Block {\n  static register() {\n    Quill.register(CodeBlockContainer);\n  }\n}\n\nclass Code extends Inline {}\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.className = 'ql-code-block';\nCodeBlock.tagName = 'DIV';\nCodeBlockContainer.blotName = 'code-block-container';\nCodeBlockContainer.className = 'ql-code-block-container';\nCodeBlockContainer.tagName = 'DIV';\n\nCodeBlockContainer.allowedChildren = [CodeBlock];\n\nCodeBlock.allowedChildren = [TextBlot, Break, Cursor];\nCodeBlock.requiredContainer = CodeBlockContainer;\nCodeBlock.TAB = '  ';\n\nexport { Code, CodeBlockContainer, CodeBlock as default };\n","import { Attributor, ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst config = {\n  scope: Scope.BLOCK,\n  whitelist: ['rtl'],\n};\n\nconst DirectionAttribute = new Attributor('direction', 'dir', config);\nconst DirectionClass = new ClassAttributor('direction', 'ql-direction', config);\nconst DirectionStyle = new StyleAttributor('direction', 'direction', config);\n\nexport { DirectionAttribute, DirectionClass, DirectionStyle };\n","import { ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst config = {\n  scope: Scope.INLINE,\n  whitelist: ['serif', 'monospace'],\n};\n\nconst FontClass = new ClassAttributor('font', 'ql-font', config);\n\nclass FontStyleAttributor extends StyleAttributor {\n  value(node) {\n    return super.value(node).replace(/[\"']/g, '');\n  }\n}\n\nconst FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexport { FontStyle, FontClass };\n","import { ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst SizeClass = new ClassAttributor('size', 'ql-size', {\n  scope: Scope.INLINE,\n  whitelist: ['small', 'large', 'huge'],\n});\nconst SizeStyle = new StyleAttributor('size', 'font-size', {\n  scope: Scope.INLINE,\n  whitelist: ['10px', '18px', '32px'],\n});\n\nexport { SizeClass, SizeStyle };\n","import extend from 'extend';\nimport Delta from 'quill-delta';\nimport {\n  Attributor,\n  ClassAttributor,\n  EmbedBlot,\n  Scope,\n  StyleAttributor,\n  BlockBlot,\n} from 'parchment';\nimport { BlockEmbed } from '../blots/block';\nimport Quill from '../core/quill';\nimport logger from '../core/logger';\nimport Module from '../core/module';\n\nimport { AlignAttribute, AlignStyle } from '../formats/align';\nimport { BackgroundStyle } from '../formats/background';\nimport CodeBlock from '../formats/code';\nimport { ColorStyle } from '../formats/color';\nimport { DirectionAttribute, DirectionStyle } from '../formats/direction';\nimport { FontStyle } from '../formats/font';\nimport { SizeStyle } from '../formats/size';\n\nconst debug = logger('quill:clipboard');\n\nconst CLIPBOARD_CONFIG = [\n  [Node.TEXT_NODE, matchText],\n  [Node.TEXT_NODE, matchNewline],\n  ['br', matchBreak],\n  [Node.ELEMENT_NODE, matchNewline],\n  [Node.ELEMENT_NODE, matchBlot],\n  [Node.ELEMENT_NODE, matchAttributor],\n  [Node.ELEMENT_NODE, matchStyles],\n  ['li', matchIndent],\n  ['ol, ul', matchList],\n  ['pre', matchCodeBlock],\n  ['tr', matchTable],\n  ['b', matchAlias.bind(matchAlias, 'bold')],\n  ['i', matchAlias.bind(matchAlias, 'italic')],\n  ['strike', matchAlias.bind(matchAlias, 'strike')],\n  ['style', matchIgnore],\n];\n\nconst ATTRIBUTE_ATTRIBUTORS = [AlignAttribute, DirectionAttribute].reduce(\n  (memo, attr) => {\n    memo[attr.keyName] = attr;\n    return memo;\n  },\n  {},\n);\n\nconst STYLE_ATTRIBUTORS = [\n  AlignStyle,\n  BackgroundStyle,\n  ColorStyle,\n  DirectionStyle,\n  FontStyle,\n  SizeStyle,\n].reduce((memo, attr) => {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nclass Clipboard extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    this.quill.root.addEventListener('copy', e => this.onCaptureCopy(e, false));\n    this.quill.root.addEventListener('cut', e => this.onCaptureCopy(e, true));\n    this.quill.root.addEventListener('paste', this.onCapturePaste.bind(this));\n    this.matchers = [];\n    CLIPBOARD_CONFIG.concat(this.options.matchers).forEach(\n      ([selector, matcher]) => {\n        this.addMatcher(selector, matcher);\n      },\n    );\n  }\n\n  addMatcher(selector, matcher) {\n    this.matchers.push([selector, matcher]);\n  }\n\n  convert({ html, text }, formats = {}) {\n    if (formats[CodeBlock.blotName]) {\n      return new Delta().insert(text, {\n        [CodeBlock.blotName]: formats[CodeBlock.blotName],\n      });\n    }\n    if (!html) {\n      return new Delta().insert(text || '');\n    }\n    const doc = new DOMParser().parseFromString(html, 'text/html');\n    const container = doc.body;\n    const nodeMatches = new WeakMap();\n    const [elementMatchers, textMatchers] = this.prepareMatching(\n      container,\n      nodeMatches,\n    );\n    const delta = traverse(\n      this.quill.scroll,\n      container,\n      elementMatchers,\n      textMatchers,\n      nodeMatches,\n    );\n    // Remove trailing newline\n    if (\n      deltaEndsWith(delta, '\\n') &&\n      (delta.ops[delta.ops.length - 1].attributes == null || formats.table)\n    ) {\n      return delta.compose(new Delta().retain(delta.length() - 1).delete(1));\n    }\n    return delta;\n  }\n\n  dangerouslyPasteHTML(index, html, source = Quill.sources.API) {\n    if (typeof index === 'string') {\n      const delta = this.convert({ html: index, text: '' });\n      this.quill.setContents(delta, html);\n      this.quill.setSelection(0, Quill.sources.SILENT);\n    } else {\n      const paste = this.convert({ html, text: '' });\n      this.quill.updateContents(\n        new Delta().retain(index).concat(paste),\n        source,\n      );\n      this.quill.setSelection(index + paste.length(), Quill.sources.SILENT);\n    }\n  }\n\n  onCaptureCopy(e, isCut = false) {\n    if (e.defaultPrevented) return;\n    e.preventDefault();\n    const [range] = this.quill.selection.getRange();\n    if (range == null) return;\n    const { html, text } = this.onCopy(range, isCut);\n    e.clipboardData.setData('text/plain', text);\n    e.clipboardData.setData('text/html', html);\n    if (isCut) {\n      this.quill.deleteText(range, Quill.sources.USER);\n    }\n  }\n\n  onCapturePaste(e) {\n    if (e.defaultPrevented || !this.quill.isEnabled()) return;\n    e.preventDefault();\n    const range = this.quill.getSelection(true);\n    if (range == null) return;\n    const html = e.clipboardData.getData('text/html');\n    const text = e.clipboardData.getData('text/plain');\n    const files = Array.from(e.clipboardData.files || []);\n    if (!html && files.length > 0) {\n      this.quill.uploader.upload(range, files);\n    } else {\n      this.onPaste(range, { html, text });\n    }\n  }\n\n  onCopy(range) {\n    const text = this.quill.getText(range);\n    const html = this.quill.getSemanticHTML(range);\n    return { html, text };\n  }\n\n  onPaste(range, { text, html }) {\n    const formats = this.quill.getFormat(range.index);\n    const pastedDelta = this.convert({ text, html }, formats);\n    debug.log('onPaste', pastedDelta, { text, html });\n    const delta = new Delta()\n      .retain(range.index)\n      .delete(range.length)\n      .concat(pastedDelta);\n    this.quill.updateContents(delta, Quill.sources.USER);\n    // range.length contributes to delta.length()\n    this.quill.setSelection(\n      delta.length() - range.length,\n      Quill.sources.SILENT,\n    );\n    this.quill.scrollIntoView();\n  }\n\n  prepareMatching(container, nodeMatches) {\n    const elementMatchers = [];\n    const textMatchers = [];\n    this.matchers.forEach(pair => {\n      const [selector, matcher] = pair;\n      switch (selector) {\n        case Node.TEXT_NODE:\n          textMatchers.push(matcher);\n          break;\n        case Node.ELEMENT_NODE:\n          elementMatchers.push(matcher);\n          break;\n        default:\n          Array.from(container.querySelectorAll(selector)).forEach(node => {\n            if (nodeMatches.has(node)) {\n              const matches = nodeMatches.get(node);\n              matches.push(matcher);\n            } else {\n              nodeMatches.set(node, [matcher]);\n            }\n          });\n          break;\n      }\n    });\n    return [elementMatchers, textMatchers];\n  }\n}\nClipboard.DEFAULTS = {\n  matchers: [],\n};\n\nfunction applyFormat(delta, format, value) {\n  if (typeof format === 'object') {\n    return Object.keys(format).reduce((newDelta, key) => {\n      return applyFormat(newDelta, key, format[key]);\n    }, delta);\n  }\n  return delta.reduce((newDelta, op) => {\n    if (op.attributes && op.attributes[format]) {\n      return newDelta.push(op);\n    }\n    return newDelta.insert(\n      op.insert,\n      extend({}, { [format]: value }, op.attributes),\n    );\n  }, new Delta());\n}\n\nfunction deltaEndsWith(delta, text) {\n  let endText = '';\n  for (\n    let i = delta.ops.length - 1;\n    i >= 0 && endText.length < text.length;\n    --i // eslint-disable-line no-plusplus\n  ) {\n    const op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  return [\n    'address',\n    'article',\n    'blockquote',\n    'canvas',\n    'dd',\n    'div',\n    'dl',\n    'dt',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'footer',\n    'form',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'header',\n    'iframe',\n    'li',\n    'main',\n    'nav',\n    'ol',\n    'output',\n    'p',\n    'pre',\n    'section',\n    'table',\n    'td',\n    'tr',\n    'ul',\n    'video',\n  ].includes(node.tagName.toLowerCase());\n}\n\nconst preNodes = new WeakMap();\nfunction isPre(node) {\n  if (node == null) return false;\n  if (!preNodes.has(node)) {\n    if (node.tagName === 'PRE') {\n      preNodes.set(node, true);\n    } else {\n      preNodes.set(node, isPre(node.parentNode));\n    }\n  }\n  return preNodes.get(node);\n}\n\nfunction traverse(scroll, node, elementMatchers, textMatchers, nodeMatches) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce((delta, matcher) => {\n      return matcher(node, delta, scroll);\n    }, new Delta());\n  }\n  if (node.nodeType === node.ELEMENT_NODE) {\n    return Array.from(node.childNodes || []).reduce((delta, childNode) => {\n      let childrenDelta = traverse(\n        scroll,\n        childNode,\n        elementMatchers,\n        textMatchers,\n        nodeMatches,\n      );\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce((reducedDelta, matcher) => {\n          return matcher(childNode, reducedDelta, scroll);\n        }, childrenDelta);\n        childrenDelta = (nodeMatches.get(childNode) || []).reduce(\n          (reducedDelta, matcher) => {\n            return matcher(childNode, reducedDelta, scroll);\n          },\n          childrenDelta,\n        );\n      }\n      return delta.concat(childrenDelta);\n    }, new Delta());\n  }\n  return new Delta();\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta, scroll) {\n  const attributes = Attributor.keys(node);\n  const classes = ClassAttributor.keys(node);\n  const styles = StyleAttributor.keys(node);\n  const formats = {};\n  attributes\n    .concat(classes)\n    .concat(styles)\n    .forEach(name => {\n      let attr = scroll.query(name, Scope.ATTRIBUTE);\n      if (attr != null) {\n        formats[attr.attrName] = attr.value(node);\n        if (formats[attr.attrName]) return;\n      }\n      attr = ATTRIBUTE_ATTRIBUTORS[name];\n      if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n        formats[attr.attrName] = attr.value(node) || undefined;\n      }\n      attr = STYLE_ATTRIBUTORS[name];\n      if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n        attr = STYLE_ATTRIBUTORS[name];\n        formats[attr.attrName] = attr.value(node) || undefined;\n      }\n    });\n  if (Object.keys(formats).length > 0) {\n    return applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta, scroll) {\n  const match = scroll.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof EmbedBlot) {\n    const embed = {};\n    const value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      return new Delta().insert(embed, match.formats(node, scroll));\n    }\n  } else {\n    if (match.prototype instanceof BlockBlot && !deltaEndsWith(delta, '\\n')) {\n      delta.insert('\\n');\n    }\n    if (typeof match.formats === 'function') {\n      return applyFormat(delta, match.blotName, match.formats(node, scroll));\n    }\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchCodeBlock(node, delta, scroll) {\n  const match = scroll.query('code-block');\n  const language = match ? match.formats(node, scroll) : true;\n  return applyFormat(delta, 'code-block', language);\n}\n\nfunction matchIgnore() {\n  return new Delta();\n}\n\nfunction matchIndent(node, delta, scroll) {\n  const match = scroll.query(node);\n  if (\n    match == null ||\n    match.blotName !== 'list' ||\n    !deltaEndsWith(delta, '\\n')\n  ) {\n    return delta;\n  }\n  let indent = -1;\n  let parent = node.parentNode;\n  while (parent != null) {\n    if (['OL', 'UL'].includes(parent.tagName)) {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.reduce((composed, op) => {\n    if (op.attributes && op.attributes.list) {\n      return composed.push(op);\n    }\n    return composed.insert(op.insert, { indent, ...(op.attributes || {}) });\n  }, new Delta());\n}\n\nfunction matchList(node, delta) {\n  const list = node.tagName === 'OL' ? 'ordered' : 'bullet';\n  return applyFormat(delta, 'list', list);\n}\n\nfunction matchNewline(node, delta, scroll) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node)) {\n      return delta.insert('\\n');\n    }\n    if (delta.length() > 0 && node.nextSibling) {\n      let { nextSibling } = node;\n      while (nextSibling != null) {\n        if (isLine(nextSibling)) {\n          return delta.insert('\\n');\n        }\n        const match = scroll.query(nextSibling);\n        if (match && match.prototype instanceof BlockEmbed) {\n          return delta.insert('\\n');\n        }\n        nextSibling = nextSibling.firstChild;\n      }\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  const formats = {};\n  const style = node.style || {};\n  if (style.fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.textDecoration === 'underline') {\n    formats.underline = true;\n  }\n  if (style.textDecoration === 'line-through') {\n    formats.strike = true;\n  }\n  if (\n    style.fontWeight.startsWith('bold') ||\n    parseInt(style.fontWeight, 10) >= 700\n  ) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    return new Delta().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchTable(node, delta) {\n  const table =\n    node.parentNode.tagName === 'TABLE'\n      ? node.parentNode\n      : node.parentNode.parentNode;\n  const rows = Array.from(table.querySelectorAll('tr'));\n  const row = rows.indexOf(node) + 1;\n  return applyFormat(delta, 'table', row);\n}\n\nfunction matchText(node, delta) {\n  let text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && text.includes('\\n')) {\n    return delta;\n  }\n  if (!isPre(node)) {\n    const replacer = (collapse, match) => {\n      const replaced = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return replaced.length < 1 && collapse ? ' ' : replaced;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (\n      (node.previousSibling == null && isLine(node.parentNode)) ||\n      (node.previousSibling != null && isLine(node.previousSibling))\n    ) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (\n      (node.nextSibling == null && isLine(node.parentNode)) ||\n      (node.nextSibling != null && isLine(node.nextSibling))\n    ) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexport {\n  Clipboard as default,\n  matchAttributor,\n  matchBlot,\n  matchNewline,\n  matchText,\n  traverse,\n};\n","import { Scope } from 'parchment';\nimport Quill from '../core/quill';\nimport Module from '../core/module';\n\nclass History extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    this.lastRecorded = 0;\n    this.ignoreChange = false;\n    this.clear();\n    this.quill.on(\n      Quill.events.EDITOR_CHANGE,\n      (eventName, delta, oldDelta, source) => {\n        if (eventName !== Quill.events.TEXT_CHANGE || this.ignoreChange) return;\n        if (!this.options.userOnly || source === Quill.sources.USER) {\n          this.record(delta, oldDelta);\n        } else {\n          this.transform(delta);\n        }\n      },\n    );\n    this.quill.keyboard.addBinding(\n      { key: 'z', shortKey: true },\n      this.undo.bind(this),\n    );\n    this.quill.keyboard.addBinding(\n      { key: 'z', shortKey: true, shiftKey: true },\n      this.redo.bind(this),\n    );\n    if (/Win/i.test(navigator.platform)) {\n      this.quill.keyboard.addBinding(\n        { key: 'y', shortKey: true },\n        this.redo.bind(this),\n      );\n    }\n  }\n\n  change(source, dest) {\n    if (this.stack[source].length === 0) return;\n    const delta = this.stack[source].pop();\n    const base = this.quill.getContents();\n    const inverseDelta = delta.invert(base);\n    this.stack[dest].push(inverseDelta);\n    this.lastRecorded = 0;\n    this.ignoreChange = true;\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.ignoreChange = false;\n    const index = getLastChangeIndex(this.quill.scroll, delta);\n    this.quill.setSelection(index);\n  }\n\n  clear() {\n    this.stack = { undo: [], redo: [] };\n  }\n\n  cutoff() {\n    this.lastRecorded = 0;\n  }\n\n  record(changeDelta, oldDelta) {\n    if (changeDelta.ops.length === 0) return;\n    this.stack.redo = [];\n    let undoDelta = changeDelta.invert(oldDelta);\n    const timestamp = Date.now();\n    if (\n      this.lastRecorded + this.options.delay > timestamp &&\n      this.stack.undo.length > 0\n    ) {\n      const delta = this.stack.undo.pop();\n      undoDelta = undoDelta.compose(delta);\n    } else {\n      this.lastRecorded = timestamp;\n    }\n    if (undoDelta.length() === 0) return;\n    this.stack.undo.push(undoDelta);\n    if (this.stack.undo.length > this.options.maxStack) {\n      this.stack.undo.shift();\n    }\n  }\n\n  redo() {\n    this.change('redo', 'undo');\n  }\n\n  transform(delta) {\n    transformStack(this.stack.undo, delta);\n    transformStack(this.stack.redo, delta);\n  }\n\n  undo() {\n    this.change('undo', 'redo');\n  }\n}\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false,\n};\n\nfunction transformStack(stack, delta) {\n  let remoteDelta = delta;\n  for (let i = stack.length - 1; i >= 0; i -= 1) {\n    const oldDelta = stack[i];\n    stack[i] = remoteDelta.transform(oldDelta, true);\n    remoteDelta = oldDelta.transform(remoteDelta);\n    if (stack[i].length() === 0) {\n      stack.splice(i, 1);\n    }\n  }\n}\n\nfunction endsWithNewlineChange(scroll, delta) {\n  const lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(attr => {\n      return scroll.query(attr, Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(scroll, delta) {\n  const deleteLength = delta.reduce((length, op) => {\n    return length + (op.delete || 0);\n  }, 0);\n  let changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(scroll, delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexport { History as default, getLastChangeIndex };\n","import clone from 'clone';\nimport equal from 'deep-equal';\nimport extend from 'extend';\nimport Delta, { AttributeMap } from 'quill-delta';\nimport { EmbedBlot, Scope, TextBlot } from 'parchment';\nimport Quill from '../core/quill';\nimport logger from '../core/logger';\nimport Module from '../core/module';\n\nconst debug = logger('quill:keyboard');\n\nconst SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nclass Keyboard extends Module {\n  static match(evt, binding) {\n    if (\n      ['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(key => {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })\n    ) {\n      return false;\n    }\n    return binding.key === evt.key || binding.key === evt.which;\n  }\n\n  constructor(quill, options) {\n    super(quill, options);\n    this.bindings = {};\n    Object.keys(this.options.bindings).forEach(name => {\n      if (this.options.bindings[name]) {\n        this.addBinding(this.options.bindings[name]);\n      }\n    });\n    this.addBinding({ key: 'Enter', shiftKey: null }, this.handleEnter);\n    this.addBinding(\n      { key: 'Enter', metaKey: null, ctrlKey: null, altKey: null },\n      () => {},\n    );\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      this.addBinding(\n        { key: 'Backspace' },\n        { collapsed: true },\n        this.handleBackspace,\n      );\n      this.addBinding(\n        { key: 'Delete' },\n        { collapsed: true },\n        this.handleDelete,\n      );\n    } else {\n      this.addBinding(\n        { key: 'Backspace' },\n        { collapsed: true, prefix: /^.?$/ },\n        this.handleBackspace,\n      );\n      this.addBinding(\n        { key: 'Delete' },\n        { collapsed: true, suffix: /^.?$/ },\n        this.handleDelete,\n      );\n    }\n    this.addBinding(\n      { key: 'Backspace' },\n      { collapsed: false },\n      this.handleDeleteRange,\n    );\n    this.addBinding(\n      { key: 'Delete' },\n      { collapsed: false },\n      this.handleDeleteRange,\n    );\n    this.addBinding(\n      {\n        key: 'Backspace',\n        altKey: null,\n        ctrlKey: null,\n        metaKey: null,\n        shiftKey: null,\n      },\n      { collapsed: true, offset: 0 },\n      this.handleBackspace,\n    );\n    this.listen();\n  }\n\n  addBinding(keyBinding, context = {}, handler = {}) {\n    const binding = normalize(keyBinding);\n    if (binding == null) {\n      debug.warn('Attempted to add invalid keyboard binding', binding);\n      return;\n    }\n    if (typeof context === 'function') {\n      context = { handler: context };\n    }\n    if (typeof handler === 'function') {\n      handler = { handler };\n    }\n    const keys = Array.isArray(binding.key) ? binding.key : [binding.key];\n    keys.forEach(key => {\n      const singleBinding = extend({}, binding, { key }, context, handler);\n      this.bindings[singleBinding.key] = this.bindings[singleBinding.key] || [];\n      this.bindings[singleBinding.key].push(singleBinding);\n    });\n  }\n\n  listen() {\n    this.quill.root.addEventListener('keydown', evt => {\n      if (evt.defaultPrevented || evt.isComposing) return;\n      const bindings = (this.bindings[evt.key] || []).concat(\n        this.bindings[evt.which] || [],\n      );\n      const matches = bindings.filter(binding => Keyboard.match(evt, binding));\n      if (matches.length === 0) return;\n      const range = this.quill.getSelection();\n      if (range == null || !this.quill.hasFocus()) return;\n      const [line, offset] = this.quill.getLine(range.index);\n      const [leafStart, offsetStart] = this.quill.getLeaf(range.index);\n      const [leafEnd, offsetEnd] =\n        range.length === 0\n          ? [leafStart, offsetStart]\n          : this.quill.getLeaf(range.index + range.length);\n      const prefixText =\n        leafStart instanceof TextBlot\n          ? leafStart.value().slice(0, offsetStart)\n          : '';\n      const suffixText =\n        leafEnd instanceof TextBlot ? leafEnd.value().slice(offsetEnd) : '';\n      const curContext = {\n        collapsed: range.length === 0,\n        empty: range.length === 0 && line.length() <= 1,\n        format: this.quill.getFormat(range),\n        line,\n        offset,\n        prefix: prefixText,\n        suffix: suffixText,\n        event: evt,\n      };\n      const prevented = matches.some(binding => {\n        if (\n          binding.collapsed != null &&\n          binding.collapsed !== curContext.collapsed\n        ) {\n          return false;\n        }\n        if (binding.empty != null && binding.empty !== curContext.empty) {\n          return false;\n        }\n        if (binding.offset != null && binding.offset !== curContext.offset) {\n          return false;\n        }\n        if (Array.isArray(binding.format)) {\n          // any format is present\n          if (binding.format.every(name => curContext.format[name] == null)) {\n            return false;\n          }\n        } else if (typeof binding.format === 'object') {\n          // all formats must match\n          if (\n            !Object.keys(binding.format).every(name => {\n              if (binding.format[name] === true)\n                return curContext.format[name] != null;\n              if (binding.format[name] === false)\n                return curContext.format[name] == null;\n              return equal(binding.format[name], curContext.format[name]);\n            })\n          ) {\n            return false;\n          }\n        }\n        if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) {\n          return false;\n        }\n        if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) {\n          return false;\n        }\n        return binding.handler.call(this, range, curContext, binding) !== true;\n      });\n      if (prevented) {\n        evt.preventDefault();\n      }\n    });\n  }\n\n  handleBackspace(range, context) {\n    // Check for astral symbols\n    const length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix)\n      ? 2\n      : 1;\n    if (range.index === 0 || this.quill.getLength() <= 1) return;\n    let formats = {};\n    const [line] = this.quill.getLine(range.index);\n    let delta = new Delta().retain(range.index - length).delete(length);\n    if (context.offset === 0) {\n      // Always deleting newline here, length always 1\n      const [prev] = this.quill.getLine(range.index - 1);\n      if (prev) {\n        const curFormats = line.formats();\n        const prevFormats = this.quill.getFormat(range.index - 1, 1);\n        formats = AttributeMap.diff(curFormats, prevFormats) || {};\n        if (Object.keys(formats).length > 0) {\n          // line.length() - 1 targets \\n in line, another -1 for newline being deleted\n          const formatDelta = new Delta()\n            .retain(range.index + line.length() - 2)\n            .retain(1, formats);\n          delta = delta.compose(formatDelta);\n        }\n      }\n    }\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.focus();\n  }\n\n  handleDelete(range, context) {\n    // Check for astral symbols\n    const length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix)\n      ? 2\n      : 1;\n    if (range.index >= this.quill.getLength() - length) return;\n    let formats = {};\n    const [line] = this.quill.getLine(range.index);\n    let delta = new Delta().retain(range.index).delete(length);\n    if (context.offset >= line.length() - 1) {\n      const [next] = this.quill.getLine(range.index + 1);\n      if (next) {\n        const curFormats = line.formats();\n        const nextFormats = this.quill.getFormat(range.index, 1);\n        formats = AttributeMap.diff(curFormats, nextFormats) || {};\n        if (Object.keys(formats).length > 0) {\n          delta = delta.retain(next.length() - 1).retain(1, formats);\n        }\n      }\n    }\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.focus();\n  }\n\n  handleDeleteRange(range) {\n    const lines = this.quill.getLines(range);\n    let formats = {};\n    if (lines.length > 1) {\n      const firstFormats = lines[0].formats();\n      const lastFormats = lines[lines.length - 1].formats();\n      formats = AttributeMap.diff(lastFormats, firstFormats) || {};\n    }\n    this.quill.deleteText(range, Quill.sources.USER);\n    if (Object.keys(formats).length > 0) {\n      this.quill.formatLine(range.index, 1, formats, Quill.sources.USER);\n    }\n    this.quill.setSelection(range.index, Quill.sources.SILENT);\n    this.quill.focus();\n  }\n\n  handleEnter(range, context) {\n    const lineFormats = Object.keys(context.format).reduce(\n      (formats, format) => {\n        if (\n          this.quill.scroll.query(format, Scope.BLOCK) &&\n          !Array.isArray(context.format[format])\n        ) {\n          formats[format] = context.format[format];\n        }\n        return formats;\n      },\n      {},\n    );\n    const delta = new Delta()\n      .retain(range.index)\n      .delete(range.length)\n      .insert('\\n', lineFormats);\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n    this.quill.focus();\n\n    Object.keys(context.format).forEach(name => {\n      if (lineFormats[name] != null) return;\n      if (Array.isArray(context.format[name])) return;\n      if (name === 'code' || name === 'link') return;\n      this.quill.format(name, context.format[name], Quill.sources.USER);\n    });\n  }\n}\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    bold: makeFormatHandler('bold'),\n    italic: makeFormatHandler('italic'),\n    underline: makeFormatHandler('underline'),\n    indent: {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: 'Tab',\n      format: ['blockquote', 'indent', 'list'],\n      handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', Quill.sources.USER);\n        return false;\n      },\n    },\n    outdent: {\n      key: 'Tab',\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', Quill.sources.USER);\n        return false;\n      },\n    },\n    'outdent backspace': {\n      key: 'Backspace',\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', Quill.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, Quill.sources.USER);\n        }\n      },\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: 'Tab',\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler(range) {\n        this.quill.deleteText(range.index - 1, 1, Quill.sources.USER);\n      },\n    },\n    tab: {\n      key: 'Tab',\n      handler(range, context) {\n        if (context.format.table) return true;\n        this.quill.history.cutoff();\n        const delta = new Delta()\n          .retain(range.index)\n          .delete(range.length)\n          .insert('\\t');\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        return false;\n      },\n    },\n    'blockquote empty enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['blockquote'],\n      empty: true,\n      handler() {\n        this.quill.format('blockquote', false, Quill.sources.USER);\n      },\n    },\n    'list empty enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler(range, context) {\n        const formats = { list: false };\n        if (context.format.indent) {\n          formats.indent = false;\n        }\n        this.quill.formatLine(\n          range.index,\n          range.length,\n          formats,\n          Quill.sources.USER,\n        );\n      },\n    },\n    'checklist enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: { list: 'checked' },\n      handler(range) {\n        const [line, offset] = this.quill.getLine(range.index);\n        const formats = extend({}, line.formats(), { list: 'checked' });\n        const delta = new Delta()\n          .retain(range.index)\n          .insert('\\n', formats)\n          .retain(line.length() - offset - 1)\n          .retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        this.quill.scrollIntoView();\n      },\n    },\n    'header enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler(range, context) {\n        const [line, offset] = this.quill.getLine(range.index);\n        const delta = new Delta()\n          .retain(range.index)\n          .insert('\\n', context.format)\n          .retain(line.length() - offset - 1)\n          .retain(1, { header: null });\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        this.quill.scrollIntoView();\n      },\n    },\n    'table backspace': {\n      key: 'Backspace',\n      format: ['table'],\n      collapsed: true,\n      offset: 0,\n      handler() {},\n    },\n    'table delete': {\n      key: 'Delete',\n      format: ['table'],\n      collapsed: true,\n      suffix: /^$/,\n      handler() {},\n    },\n    'table enter': {\n      key: 'Enter',\n      shiftKey: null,\n      format: ['table'],\n      handler(range) {\n        const module = this.quill.getModule('table');\n        if (module) {\n          const [table, row, cell, offset] = module.getTable(range);\n          const shift = tableSide(table, row, cell, offset);\n          if (shift == null) return;\n          let index = table.offset();\n          if (shift < 0) {\n            const delta = new Delta().retain(index).insert('\\n');\n            this.quill.updateContents(delta, Quill.sources.USER);\n            this.quill.setSelection(\n              range.index + 1,\n              range.length,\n              Quill.sources.SILENT,\n            );\n          } else if (shift > 0) {\n            index += table.length();\n            const delta = new Delta().retain(index).insert('\\n');\n            this.quill.updateContents(delta, Quill.sources.USER);\n            this.quill.setSelection(index, Quill.sources.USER);\n          }\n        }\n      },\n    },\n    'table tab': {\n      key: 'Tab',\n      shiftKey: null,\n      format: ['table'],\n      handler(range, context) {\n        const { event, line: cell } = context;\n        const offset = cell.offset(this.quill.scroll);\n        if (event.shiftKey) {\n          this.quill.setSelection(offset - 1, Quill.sources.USER);\n        } else {\n          this.quill.setSelection(offset + cell.length(), Quill.sources.USER);\n        }\n      },\n    },\n    'list autofill': {\n      key: ' ',\n      shiftKey: null,\n      collapsed: true,\n      format: {\n        list: false,\n        'code-block': false,\n        blockquote: false,\n        header: false,\n        table: false,\n      },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler(range, context) {\n        if (this.quill.scroll.query('list') == null) return true;\n        const { length } = context.prefix;\n        const [line, offset] = this.quill.getLine(range.index);\n        if (offset > length) return true;\n        let value;\n        switch (context.prefix.trim()) {\n          case '[]':\n          case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':\n          case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', Quill.sources.USER);\n        this.quill.history.cutoff();\n        const delta = new Delta()\n          .retain(range.index - offset)\n          .delete(length + 1)\n          .retain(line.length() - 2 - offset)\n          .retain(1, { list: value });\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, Quill.sources.SILENT);\n        return false;\n      },\n    },\n    'code exit': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /^$/,\n      suffix: /^\\s*$/,\n      handler(range) {\n        const [line, offset] = this.quill.getLine(range.index);\n        let numLines = 2;\n        let cur = line;\n        while (\n          cur != null &&\n          cur.length() <= 1 &&\n          cur.formats()['code-block']\n        ) {\n          cur = cur.prev;\n          numLines -= 1;\n          // Requisite prev lines are empty\n          if (numLines <= 0) {\n            const delta = new Delta()\n              .retain(range.index + line.length() - offset - 2)\n              .retain(1, { 'code-block': null })\n              .delete(1);\n            this.quill.updateContents(delta, Quill.sources.USER);\n            this.quill.setSelection(range.index - 1, Quill.sources.SILENT);\n            return false;\n          }\n        }\n        return true;\n      },\n    },\n    'embed left': makeEmbedArrowHandler('ArrowLeft', false),\n    'embed left shift': makeEmbedArrowHandler('ArrowLeft', true),\n    'embed right': makeEmbedArrowHandler('ArrowRight', false),\n    'embed right shift': makeEmbedArrowHandler('ArrowRight', true),\n    'table down': makeTableArrowHandler(false),\n    'table up': makeTableArrowHandler(true),\n  },\n};\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: 'Tab',\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler(range) {\n      const CodeBlock = this.quill.scroll.query('code-block');\n      const lines =\n        range.length === 0\n          ? this.quill.getLines(range.index, 1)\n          : this.quill.getLines(range);\n      let { index, length } = range;\n      lines.forEach((line, i) => {\n        if (indent) {\n          line.insertAt(0, CodeBlock.TAB);\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.domNode.textContent.startsWith(CodeBlock.TAB)) {\n          line.deleteAt(0, CodeBlock.TAB.length);\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n      });\n      this.quill.update(Quill.sources.USER);\n      this.quill.setSelection(index, length, Quill.sources.SILENT);\n    },\n  };\n}\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  const where = key === 'ArrowLeft' ? 'prefix' : 'suffix';\n  return {\n    key,\n    shiftKey,\n    altKey: null,\n    [where]: /^$/,\n    handler(range) {\n      let { index } = range;\n      if (key === 'ArrowRight') {\n        index += range.length + 1;\n      }\n      const [leaf] = this.quill.getLeaf(index);\n      if (!(leaf instanceof EmbedBlot)) return true;\n      if (key === 'ArrowLeft') {\n        if (shiftKey) {\n          this.quill.setSelection(\n            range.index - 1,\n            range.length + 1,\n            Quill.sources.USER,\n          );\n        } else {\n          this.quill.setSelection(range.index - 1, Quill.sources.USER);\n        }\n      } else if (shiftKey) {\n        this.quill.setSelection(\n          range.index,\n          range.length + 1,\n          Quill.sources.USER,\n        );\n      } else {\n        this.quill.setSelection(\n          range.index + range.length + 1,\n          Quill.sources.USER,\n        );\n      }\n      return false;\n    },\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0],\n    shortKey: true,\n    handler(range, context) {\n      this.quill.format(format, !context.format[format], Quill.sources.USER);\n    },\n  };\n}\n\nfunction makeTableArrowHandler(up) {\n  return {\n    key: up ? 'ArrowUp' : 'ArrowDown',\n    collapsed: true,\n    format: ['table'],\n    handler(range, context) {\n      // TODO move to table module\n      const key = up ? 'prev' : 'next';\n      const cell = context.line;\n      const targetRow = cell.parent[key];\n      if (targetRow != null) {\n        if (targetRow.statics.blotName === 'table-row') {\n          let targetCell = targetRow.children.head;\n          let cur = cell;\n          while (cur.prev != null) {\n            cur = cur.prev;\n            targetCell = targetCell.next;\n          }\n          const index =\n            targetCell.offset(this.quill.scroll) +\n            Math.min(context.offset, targetCell.length() - 1);\n          this.quill.setSelection(index, 0, Quill.sources.USER);\n        }\n      } else {\n        const targetLine = cell.table()[key];\n        if (targetLine != null) {\n          if (up) {\n            this.quill.setSelection(\n              targetLine.offset(this.quill.scroll) + targetLine.length() - 1,\n              0,\n              Quill.sources.USER,\n            );\n          } else {\n            this.quill.setSelection(\n              targetLine.offset(this.quill.scroll),\n              0,\n              Quill.sources.USER,\n            );\n          }\n        }\n      }\n      return false;\n    },\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    binding = { key: binding };\n  } else if (typeof binding === 'object') {\n    binding = clone(binding, false);\n  } else {\n    return null;\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nfunction tableSide(table, row, cell, offset) {\n  if (row.prev == null && row.next == null) {\n    if (cell.prev == null && cell.next == null) {\n      return offset === 0 ? -1 : 1;\n    }\n    return cell.prev == null ? -1 : 1;\n  }\n  if (row.prev == null) {\n    return -1;\n  }\n  if (row.next == null) {\n    return 1;\n  }\n  return null;\n}\n\nexport { Keyboard as default, SHORTKEY, normalize };\n","import Delta from 'quill-delta';\nimport Emitter from '../core/emitter';\nimport Module from '../core/module';\n\nclass Uploader extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    quill.root.addEventListener('drop', e => {\n      e.preventDefault();\n      let native;\n      if (document.caretRangeFromPoint) {\n        native = document.caretRangeFromPoint(e.clientX, e.clientY);\n      } else if (document.caretPositionFromPoint) {\n        const position = document.caretPositionFromPoint(e.clientX, e.clientY);\n        native = document.createRange();\n        native.setStart(position.offsetNode, position.offset);\n        native.setEnd(position.offsetNode, position.offset);\n      } else {\n        return;\n      }\n      const normalized = quill.selection.normalizeNative(native);\n      const range = quill.selection.normalizedToRange(normalized);\n      this.upload(range, e.dataTransfer.files);\n    });\n  }\n\n  upload(range, files) {\n    const uploads = [];\n    Array.from(files).forEach(file => {\n      if (file && this.options.mimetypes.includes(file.type)) {\n        uploads.push(file);\n      }\n    });\n    if (uploads.length > 0) {\n      this.options.handler.call(this, range, uploads);\n    }\n  }\n}\n\nUploader.DEFAULTS = {\n  mimetypes: ['image/png', 'image/jpeg'],\n  handler(range, files) {\n    const promises = files.map(file => {\n      return new Promise(resolve => {\n        const reader = new FileReader();\n        reader.onload = e => {\n          resolve(e.target.result);\n        };\n        reader.readAsDataURL(file);\n      });\n    });\n    Promise.all(promises).then(images => {\n      const update = images.reduce((delta, image) => {\n        return delta.insert({ image });\n      }, new Delta().retain(range.index).delete(range.length));\n      this.quill.updateContents(update, Emitter.sources.USER);\n      this.quill.setSelection(\n        range.index + images.length,\n        Emitter.sources.SILENT,\n      );\n    });\n  },\n};\n\nexport default Uploader;\n","import Quill from './core/quill';\n\nimport Block, { BlockEmbed } from './blots/block';\nimport Break from './blots/break';\nimport Container from './blots/container';\nimport Cursor from './blots/cursor';\nimport Embed from './blots/embed';\nimport Inline from './blots/inline';\nimport Scroll from './blots/scroll';\nimport TextBlot from './blots/text';\n\nimport Clipboard from './modules/clipboard';\nimport History from './modules/history';\nimport Keyboard from './modules/keyboard';\nimport Uploader from './modules/uploader';\n\nQuill.register({\n  'blots/block': Block,\n  'blots/block/embed': BlockEmbed,\n  'blots/break': Break,\n  'blots/container': Container,\n  'blots/cursor': Cursor,\n  'blots/embed': Embed,\n  'blots/inline': Inline,\n  'blots/scroll': Scroll,\n  'blots/text': TextBlot,\n\n  'modules/clipboard': Clipboard,\n  'modules/history': History,\n  'modules/keyboard': Keyboard,\n  'modules/uploader': Uploader,\n});\n\nexport default Quill;\n","import { ClassAttributor, Scope } from 'parchment';\n\nclass IndentAttributor extends ClassAttributor {\n  add(node, value) {\n    if (value === '+1' || value === '-1') {\n      const indent = this.value(node) || 0;\n      value = value === '+1' ? indent + 1 : indent - 1;\n    }\n    if (value === 0) {\n      this.remove(node);\n      return true;\n    }\n    return super.add(node, value);\n  }\n\n  canAdd(node, value) {\n    return super.canAdd(node, value) || super.canAdd(node, parseInt(value, 10));\n  }\n\n  value(node) {\n    return parseInt(super.value(node), 10) || undefined; // Don't return NaN\n  }\n}\n\nconst IndentClass = new IndentAttributor('indent', 'ql-indent', {\n  scope: Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8],\n});\n\nexport default IndentClass;\n","import Block from '../blots/block';\n\nclass Blockquote extends Block {}\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexport default Blockquote;\n","import Block from '../blots/block';\n\nclass Header extends Block {\n  static formats(domNode) {\n    return this.tagName.indexOf(domNode.tagName) + 1;\n  }\n}\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexport default Header;\n","import Block from '../blots/block';\nimport Container from '../blots/container';\nimport Quill from '../core/quill';\n\nclass ListContainer extends Container {}\nListContainer.blotName = 'list-container';\nListContainer.tagName = 'OL';\n\nclass ListItem extends Block {\n  static create(value) {\n    const node = super.create();\n    node.setAttribute('data-list', value);\n    return node;\n  }\n\n  static formats(domNode) {\n    return domNode.getAttribute('data-list') || undefined;\n  }\n\n  static register() {\n    Quill.register(ListContainer);\n  }\n\n  constructor(scroll, domNode) {\n    super(scroll, domNode);\n    const ui = domNode.ownerDocument.createElement('span');\n    const listEventHandler = e => {\n      if (!scroll.isEnabled()) return;\n      const format = this.statics.formats(domNode, scroll);\n      if (format === 'checked') {\n        this.format('list', 'unchecked');\n        e.preventDefault();\n      } else if (format === 'unchecked') {\n        this.format('list', 'checked');\n        e.preventDefault();\n      }\n    };\n    ui.addEventListener('mousedown', listEventHandler);\n    ui.addEventListener('touchstart', listEventHandler);\n    this.attachUI(ui);\n  }\n\n  format(name, value) {\n    if (name === this.statics.blotName && value) {\n      this.domNode.setAttribute('data-list', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n}\nListItem.blotName = 'list';\nListItem.tagName = 'LI';\n\nListContainer.allowedChildren = [ListItem];\nListItem.requiredContainer = ListContainer;\n\nexport { ListContainer, ListItem as default };\n","import Inline from '../blots/inline';\n\nclass Bold extends Inline {\n  static create() {\n    return super.create();\n  }\n\n  static formats() {\n    return true;\n  }\n\n  optimize(context) {\n    super.optimize(context);\n    if (this.domNode.tagName !== this.statics.tagName[0]) {\n      this.replaceWith(this.statics.blotName);\n    }\n  }\n}\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexport default Bold;\n","import Bold from './bold';\n\nclass Italic extends Bold {}\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexport default Italic;\n","import Inline from '../blots/inline';\n\nclass Link extends Inline {\n  static create(value) {\n    const node = super.create(value);\n    node.setAttribute('href', this.sanitize(value));\n    node.setAttribute('rel', 'noopener noreferrer');\n    node.setAttribute('target', '_blank');\n    return node;\n  }\n\n  static formats(domNode) {\n    return domNode.getAttribute('href');\n  }\n\n  static sanitize(url) {\n    return sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n  }\n\n  format(name, value) {\n    if (name !== this.statics.blotName || !value) {\n      super.format(name, value);\n    } else {\n      this.domNode.setAttribute('href', this.constructor.sanitize(value));\n    }\n  }\n}\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction sanitize(url, protocols) {\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  const protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexport { Link as default, sanitize };\n","import Inline from '../blots/inline';\n\nclass Script extends Inline {\n  static create(value) {\n    if (value === 'super') {\n      return document.createElement('sup');\n    }\n    if (value === 'sub') {\n      return document.createElement('sub');\n    }\n    return super.create(value);\n  }\n\n  static formats(domNode) {\n    if (domNode.tagName === 'SUB') return 'sub';\n    if (domNode.tagName === 'SUP') return 'super';\n    return undefined;\n  }\n}\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexport default Script;\n","import Bold from './bold';\n\nclass Strike extends Bold {}\nStrike.blotName = 'strike';\nStrike.tagName = ['S', 'STRIKE'];\n\nexport default Strike;\n","import Inline from '../blots/inline';\n\nclass Underline extends Inline {}\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexport default Underline;\n","import Embed from '../blots/embed';\n\nclass Formula extends Embed {\n  static create(value) {\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    const node = super.create(value);\n    if (typeof value === 'string') {\n      window.katex.render(value, node, {\n        throwOnError: false,\n        errorColor: '#f00',\n      });\n      node.setAttribute('data-value', value);\n    }\n    return node;\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('data-value');\n  }\n\n  html() {\n    const { formula } = this.value();\n    return `<span>${formula}</span>`;\n  }\n}\nFormula.blotName = 'formula';\nFormula.className = 'ql-formula';\nFormula.tagName = 'SPAN';\n\nexport default Formula;\n","import { EmbedBlot } from 'parchment';\nimport { sanitize } from './link';\n\nconst ATTRIBUTES = ['alt', 'height', 'width'];\n\nclass Image extends EmbedBlot {\n  static create(value) {\n    const node = super.create(value);\n    if (typeof value === 'string') {\n      node.setAttribute('src', this.sanitize(value));\n    }\n    return node;\n  }\n\n  static formats(domNode) {\n    return ATTRIBUTES.reduce((formats, attribute) => {\n      if (domNode.hasAttribute(attribute)) {\n        formats[attribute] = domNode.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  static match(url) {\n    return /\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url);\n  }\n\n  static register() {\n    if (/Firefox/i.test(navigator.userAgent)) {\n      setTimeout(() => {\n        // Disable image resizing in Firefox\n        document.execCommand('enableObjectResizing', false, false);\n      }, 1);\n    }\n  }\n\n  static sanitize(url) {\n    return sanitize(url, ['http', 'https', 'data']) ? url : '//:0';\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n}\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexport default Image;\n","import { BlockEmbed } from '../blots/block';\nimport Link from './link';\n\nconst ATTRIBUTES = ['height', 'width'];\n\nclass Video extends BlockEmbed {\n  static create(value) {\n    const node = super.create(value);\n    node.setAttribute('frameborder', '0');\n    node.setAttribute('allowfullscreen', true);\n    node.setAttribute('src', this.sanitize(value));\n    return node;\n  }\n\n  static formats(domNode) {\n    return ATTRIBUTES.reduce((formats, attribute) => {\n      if (domNode.hasAttribute(attribute)) {\n        formats[attribute] = domNode.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  static sanitize(url) {\n    return Link.sanitize(url); // eslint-disable-line import/no-named-as-default-member\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  html() {\n    const { video } = this.value();\n    return `<a href=\"${video}\">${video}</a>`;\n  }\n}\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexport default Video;\n","import Delta from 'quill-delta';\nimport { ClassAttributor, Scope } from 'parchment';\nimport Inline from '../blots/inline';\nimport Quill from '../core/quill';\nimport Module from '../core/module';\nimport { blockDelta } from '../blots/block';\nimport BreakBlot from '../blots/break';\nimport CursorBlot from '../blots/cursor';\nimport TextBlot, { escapeText } from '../blots/text';\nimport CodeBlock, { CodeBlockContainer } from '../formats/code';\nimport { traverse } from './clipboard';\n\nconst TokenAttributor = new ClassAttributor('code-token', 'hljs', {\n  scope: Scope.INLINE,\n});\nclass CodeToken extends Inline {\n  static formats(node, scroll) {\n    while (node != null && node !== scroll.domNode) {\n      if (node.classList && node.classList.contains(CodeBlock.className)) {\n        return super.formats(node, scroll);\n      }\n      node = node.parentNode;\n    }\n    return undefined;\n  }\n\n  constructor(scroll, domNode, value) {\n    super(scroll, domNode, value);\n    TokenAttributor.add(this.domNode, value);\n  }\n\n  format(format, value) {\n    if (format !== CodeToken.blotName) {\n      super.format(format, value);\n    } else if (value) {\n      TokenAttributor.add(this.domNode, value);\n    } else {\n      TokenAttributor.remove(this.domNode);\n      this.domNode.classList.remove(this.statics.className);\n    }\n  }\n\n  optimize(...args) {\n    super.optimize(...args);\n    if (!TokenAttributor.value(this.domNode)) {\n      this.unwrap();\n    }\n  }\n}\nCodeToken.blotName = 'code-token';\nCodeToken.className = 'ql-token';\n\nclass SyntaxCodeBlock extends CodeBlock {\n  static create(value) {\n    const domNode = super.create(value);\n    if (typeof value === 'string') {\n      domNode.setAttribute('data-language', value);\n    }\n    return domNode;\n  }\n\n  static formats(domNode) {\n    return domNode.getAttribute('data-language') || 'plain';\n  }\n\n  static register() {} // Syntax module will register\n\n  format(name, value) {\n    if (name === this.statics.blotName && value) {\n      this.domNode.setAttribute('data-language', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  replaceWith(name, value) {\n    this.formatAt(0, this.length(), CodeToken.blotName, false);\n    return super.replaceWith(name, value);\n  }\n}\n\nclass SyntaxCodeBlockContainer extends CodeBlockContainer {\n  attach() {\n    super.attach();\n    this.forceNext = false;\n    this.scroll.emitMount(this);\n  }\n\n  format(name, value) {\n    if (name === SyntaxCodeBlock.blotName) {\n      this.forceNext = true;\n      this.children.forEach(child => {\n        child.format(name, value);\n      });\n    }\n  }\n\n  formatAt(index, length, name, value) {\n    if (name === SyntaxCodeBlock.blotName) {\n      this.forceNext = true;\n    }\n    super.formatAt(index, length, name, value);\n  }\n\n  highlight(highlight, forced = false) {\n    if (this.children.head == null) return;\n    const nodes = Array.from(this.domNode.childNodes).filter(\n      node => node !== this.uiNode,\n    );\n    const text = `${nodes.map(node => node.textContent).join('\\n')}\\n`;\n    const language = SyntaxCodeBlock.formats(this.children.head.domNode);\n    if (forced || this.forceNext || this.cachedText !== text) {\n      if (text.trim().length > 0 || this.cachedText == null) {\n        const oldDelta = this.children.reduce((delta, child) => {\n          return delta.concat(blockDelta(child, false));\n        }, new Delta());\n        const delta = highlight(text, language);\n        oldDelta.diff(delta).reduce((index, { retain, attributes }) => {\n          // Should be all retains\n          if (!retain) return index;\n          if (attributes) {\n            Object.keys(attributes).forEach(format => {\n              if (\n                [SyntaxCodeBlock.blotName, CodeToken.blotName].includes(format)\n              ) {\n                this.formatAt(index, retain, format, attributes[format]);\n              }\n            });\n          }\n          return index + retain;\n        }, 0);\n      }\n      this.cachedText = text;\n      this.forceNext = false;\n    }\n  }\n\n  optimize(context) {\n    super.optimize(context);\n    if (\n      this.parent != null &&\n      this.children.head != null &&\n      this.uiNode != null\n    ) {\n      const language = SyntaxCodeBlock.formats(this.children.head.domNode);\n      if (language !== this.uiNode.value) {\n        this.uiNode.value = language;\n      }\n    }\n  }\n}\nSyntaxCodeBlockContainer.allowedChildren = [SyntaxCodeBlock];\nSyntaxCodeBlock.requiredContainer = SyntaxCodeBlockContainer;\nSyntaxCodeBlock.allowedChildren = [CodeToken, CursorBlot, TextBlot, BreakBlot];\n\nclass Syntax extends Module {\n  static register() {\n    Quill.register(CodeToken, true);\n    Quill.register(SyntaxCodeBlock, true);\n    Quill.register(SyntaxCodeBlockContainer, true);\n  }\n\n  constructor(quill, options) {\n    super(quill, options);\n    if (this.options.hljs == null) {\n      throw new Error(\n        'Syntax module requires highlight.js. Please include the library on the page before Quill.',\n      );\n    }\n    this.languages = this.options.languages.reduce((memo, { key }) => {\n      memo[key] = true;\n      return memo;\n    }, {});\n    this.highlightBlot = this.highlightBlot.bind(this);\n    this.initListener();\n    this.initTimer();\n  }\n\n  initListener() {\n    this.quill.on(Quill.events.SCROLL_BLOT_MOUNT, blot => {\n      if (!(blot instanceof SyntaxCodeBlockContainer)) return;\n      const select = this.quill.root.ownerDocument.createElement('select');\n      this.options.languages.forEach(({ key, label }) => {\n        const option = select.ownerDocument.createElement('option');\n        option.textContent = label;\n        option.setAttribute('value', key);\n        select.appendChild(option);\n      });\n      select.addEventListener('change', () => {\n        blot.format(SyntaxCodeBlock.blotName, select.value);\n        this.quill.root.focus(); // Prevent scrolling\n        this.highlight(blot, true);\n      });\n      if (blot.uiNode == null) {\n        blot.attachUI(select);\n        if (blot.children.head) {\n          select.value = SyntaxCodeBlock.formats(blot.children.head.domNode);\n        }\n      }\n    });\n  }\n\n  initTimer() {\n    let timer = null;\n    this.quill.on(Quill.events.SCROLL_OPTIMIZE, () => {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        this.highlight();\n        timer = null;\n      }, this.options.interval);\n    });\n  }\n\n  highlight(blot = null, force = false) {\n    if (this.quill.selection.composing) return;\n    this.quill.update(Quill.sources.USER);\n    const range = this.quill.getSelection();\n    const blots =\n      blot == null\n        ? this.quill.scroll.descendants(SyntaxCodeBlockContainer)\n        : [blot];\n    blots.forEach(container => {\n      container.highlight(this.highlightBlot, force);\n    });\n    this.quill.update(Quill.sources.SILENT);\n    if (range != null) {\n      this.quill.setSelection(range, Quill.sources.SILENT);\n    }\n  }\n\n  highlightBlot(text, language = 'plain') {\n    language = this.languages[language] ? language : 'plain';\n    if (language === 'plain') {\n      return escapeText(text)\n        .split('\\n')\n        .reduce((delta, line, i) => {\n          if (i !== 0) {\n            delta.insert('\\n', { [CodeBlock.blotName]: language });\n          }\n          return delta.insert(line);\n        }, new Delta());\n    }\n    const container = this.quill.root.ownerDocument.createElement('div');\n    container.classList.add(CodeBlock.className);\n    container.innerHTML = this.options.hljs.highlight(language, text).value;\n    return traverse(\n      this.quill.scroll,\n      container,\n      [\n        (node, delta) => {\n          const value = TokenAttributor.value(node);\n          if (value) {\n            return delta.compose(\n              new Delta().retain(delta.length(), {\n                [CodeToken.blotName]: value,\n              }),\n            );\n          }\n          return delta;\n        },\n      ],\n      [\n        (node, delta) => {\n          return node.data.split('\\n').reduce((memo, nodeText, i) => {\n            if (i !== 0) memo.insert('\\n', { [CodeBlock.blotName]: language });\n            return memo.insert(nodeText);\n          }, delta);\n        },\n      ],\n      new WeakMap(),\n    );\n  }\n}\nSyntax.DEFAULTS = {\n  hljs: (() => {\n    return window.hljs;\n  })(),\n  interval: 1000,\n  languages: [\n    { key: 'plain', label: 'Plain' },\n    { key: 'bash', label: 'Bash' },\n    { key: 'cpp', label: 'C++' },\n    { key: 'cs', label: 'C#' },\n    { key: 'css', label: 'CSS' },\n    { key: 'diff', label: 'Diff' },\n    { key: 'xml', label: 'HTML/XML' },\n    { key: 'java', label: 'Java' },\n    { key: 'javascript', label: 'Javascript' },\n    { key: 'markdown', label: 'Markdown' },\n    { key: 'php', label: 'PHP' },\n    { key: 'python', label: 'Python' },\n    { key: 'ruby', label: 'Ruby' },\n    { key: 'sql', label: 'SQL' },\n  ],\n};\n\nexport { SyntaxCodeBlock as CodeBlock, CodeToken, Syntax as default };\n","import Block from '../blots/block';\nimport Container from '../blots/container';\n\nclass TableCell extends Block {\n  static create(value) {\n    const node = super.create();\n    if (value) {\n      node.setAttribute('data-row', value);\n    } else {\n      node.setAttribute('data-row', tableId());\n    }\n    return node;\n  }\n\n  static formats(domNode) {\n    if (domNode.hasAttribute('data-row')) {\n      return domNode.getAttribute('data-row');\n    }\n    return undefined;\n  }\n\n  cellOffset() {\n    if (this.parent) {\n      return this.parent.children.indexOf(this);\n    }\n    return -1;\n  }\n\n  format(name, value) {\n    if (name === TableCell.blotName && value) {\n      this.domNode.setAttribute('data-row', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  row() {\n    return this.parent;\n  }\n\n  rowOffset() {\n    if (this.row()) {\n      return this.row().rowOffset();\n    }\n    return -1;\n  }\n\n  table() {\n    return this.row() && this.row().table();\n  }\n}\nTableCell.blotName = 'table';\nTableCell.tagName = 'TD';\n\nclass TableRow extends Container {\n  checkMerge() {\n    if (super.checkMerge() && this.next.children.head != null) {\n      const thisHead = this.children.head.formats();\n      const thisTail = this.children.tail.formats();\n      const nextHead = this.next.children.head.formats();\n      const nextTail = this.next.children.tail.formats();\n      return (\n        thisHead.table === thisTail.table &&\n        thisHead.table === nextHead.table &&\n        thisHead.table === nextTail.table\n      );\n    }\n    return false;\n  }\n\n  optimize(...args) {\n    super.optimize(...args);\n    this.children.forEach(child => {\n      if (child.next == null) return;\n      const childFormats = child.formats();\n      const nextFormats = child.next.formats();\n      if (childFormats.table !== nextFormats.table) {\n        const next = this.splitAfter(child);\n        if (next) {\n          next.optimize();\n        }\n        // We might be able to merge with prev now\n        if (this.prev) {\n          this.prev.optimize();\n        }\n      }\n    });\n  }\n\n  rowOffset() {\n    if (this.parent) {\n      return this.parent.children.indexOf(this);\n    }\n    return -1;\n  }\n\n  table() {\n    return this.parent && this.parent.parent;\n  }\n}\nTableRow.blotName = 'table-row';\nTableRow.tagName = 'TR';\n\nclass TableBody extends Container {}\nTableBody.blotName = 'table-body';\nTableBody.tagName = 'TBODY';\n\nclass TableContainer extends Container {\n  balanceCells() {\n    const rows = this.descendants(TableRow);\n    const maxColumns = rows.reduce((max, row) => {\n      return Math.max(row.children.length, max);\n    }, 0);\n    rows.forEach(row => {\n      new Array(maxColumns - row.children.length).fill(0).forEach(() => {\n        let value;\n        if (row.children.head != null) {\n          value = TableCell.formats(row.children.head.domNode);\n        }\n        const blot = this.scroll.create(TableCell.blotName, value);\n        row.appendChild(blot);\n        blot.optimize(); // Add break blot\n      });\n    });\n  }\n\n  cells(column) {\n    return this.rows().map(row => row.children.at(column));\n  }\n\n  deleteColumn(index) {\n    const [body] = this.descendant(TableBody);\n    if (body == null || body.children.head == null) return;\n    body.children.forEach(row => {\n      const cell = row.children.at(index);\n      if (cell != null) {\n        cell.remove();\n      }\n    });\n  }\n\n  insertColumn(index) {\n    const [body] = this.descendant(TableBody);\n    if (body == null || body.children.head == null) return;\n    body.children.forEach(row => {\n      const ref = row.children.at(index);\n      const value = TableCell.formats(row.children.head.domNode);\n      const cell = this.scroll.create(TableCell.blotName, value);\n      row.insertBefore(cell, ref);\n    });\n  }\n\n  insertRow(index) {\n    const [body] = this.descendant(TableBody);\n    if (body == null || body.children.head == null) return;\n    const id = tableId();\n    const row = this.scroll.create(TableRow.blotName);\n    body.children.head.children.forEach(() => {\n      const cell = this.scroll.create(TableCell.blotName, id);\n      row.appendChild(cell);\n    });\n    const ref = body.children.at(index);\n    body.insertBefore(row, ref);\n  }\n\n  rows() {\n    const body = this.children.head;\n    if (body == null) return [];\n    return body.children.map(row => row);\n  }\n}\nTableContainer.blotName = 'table-container';\nTableContainer.tagName = 'TABLE';\n\nTableContainer.allowedChildren = [TableBody];\nTableBody.requiredContainer = TableContainer;\n\nTableBody.allowedChildren = [TableRow];\nTableRow.requiredContainer = TableBody;\n\nTableRow.allowedChildren = [TableCell];\nTableCell.requiredContainer = TableRow;\n\nfunction tableId() {\n  const id = Math.random()\n    .toString(36)\n    .slice(2, 6);\n  return `row-${id}`;\n}\n\nexport { TableCell, TableRow, TableBody, TableContainer, tableId };\n","import Delta from 'quill-delta';\nimport Quill from '../core/quill';\nimport Module from '../core/module';\nimport {\n  TableCell,\n  TableRow,\n  TableBody,\n  TableContainer,\n  tableId,\n} from '../formats/table';\n\nclass Table extends Module {\n  static register() {\n    Quill.register(TableCell);\n    Quill.register(TableRow);\n    Quill.register(TableBody);\n    Quill.register(TableContainer);\n  }\n\n  constructor(...args) {\n    super(...args);\n    this.listenBalanceCells();\n  }\n\n  balanceTables() {\n    this.quill.scroll.descendants(TableContainer).forEach(table => {\n      table.balanceCells();\n    });\n  }\n\n  deleteColumn() {\n    const [table, , cell] = this.getTable();\n    if (cell == null) return;\n    table.deleteColumn(cell.cellOffset());\n    this.quill.update(Quill.sources.USER);\n  }\n\n  deleteRow() {\n    const [, row] = this.getTable();\n    if (row == null) return;\n    row.remove();\n    this.quill.update(Quill.sources.USER);\n  }\n\n  deleteTable() {\n    const [table] = this.getTable();\n    if (table == null) return;\n    const offset = table.offset();\n    table.remove();\n    this.quill.update(Quill.sources.USER);\n    this.quill.setSelection(offset, Quill.sources.SILENT);\n  }\n\n  getTable(range = this.quill.getSelection()) {\n    if (range == null) return [null, null, null, -1];\n    const [cell, offset] = this.quill.getLine(range.index);\n    if (cell == null || cell.statics.blotName !== TableCell.blotName) {\n      return [null, null, null, -1];\n    }\n    const row = cell.parent;\n    const table = row.parent.parent;\n    return [table, row, cell, offset];\n  }\n\n  insertColumn(offset) {\n    const range = this.quill.getSelection();\n    const [table, row, cell] = this.getTable(range);\n    if (cell == null) return;\n    const column = cell.cellOffset();\n    table.insertColumn(column + offset);\n    this.quill.update(Quill.sources.USER);\n    let shift = row.rowOffset();\n    if (offset === 0) {\n      shift += 1;\n    }\n    this.quill.setSelection(\n      range.index + shift,\n      range.length,\n      Quill.sources.SILENT,\n    );\n  }\n\n  insertColumnLeft() {\n    this.insertColumn(0);\n  }\n\n  insertColumnRight() {\n    this.insertColumn(1);\n  }\n\n  insertRow(offset) {\n    const range = this.quill.getSelection();\n    const [table, row, cell] = this.getTable(range);\n    if (cell == null) return;\n    const index = row.rowOffset();\n    table.insertRow(index + offset);\n    this.quill.update(Quill.sources.USER);\n    if (offset > 0) {\n      this.quill.setSelection(range, Quill.sources.SILENT);\n    } else {\n      this.quill.setSelection(\n        range.index + row.children.length,\n        range.length,\n        Quill.sources.SILENT,\n      );\n    }\n  }\n\n  insertRowAbove() {\n    this.insertRow(0);\n  }\n\n  insertRowBelow() {\n    this.insertRow(1);\n  }\n\n  insertTable(rows, columns) {\n    const range = this.quill.getSelection();\n    if (range == null) return;\n    const delta = new Array(rows).fill(0).reduce(memo => {\n      const text = new Array(columns).fill('\\n').join('');\n      return memo.insert(text, { table: tableId() });\n    }, new Delta().retain(range.index));\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.setSelection(range.index, Quill.sources.SILENT);\n    this.balanceTables();\n  }\n\n  listenBalanceCells() {\n    this.quill.on(Quill.events.SCROLL_OPTIMIZE, mutations => {\n      mutations.some(mutation => {\n        if (['TD', 'TR', 'TBODY', 'TABLE'].includes(mutation.target.tagName)) {\n          this.quill.once(Quill.events.TEXT_CHANGE, (delta, old, source) => {\n            if (source !== Quill.sources.USER) return;\n            this.balanceTables();\n          });\n          return true;\n        }\n        return false;\n      });\n    });\n  }\n}\n\nexport default Table;\n","import Delta from 'quill-delta';\nimport { EmbedBlot, Scope } from 'parchment';\nimport Quill from '../core/quill';\nimport logger from '../core/logger';\nimport Module from '../core/module';\n\nconst debug = logger('quill:toolbar');\n\nclass Toolbar extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    if (Array.isArray(this.options.container)) {\n      const container = document.createElement('div');\n      addControls(container, this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      this.container = container;\n    } else if (typeof this.options.container === 'string') {\n      this.container = document.querySelector(this.options.container);\n    } else {\n      this.container = this.options.container;\n    }\n    if (!(this.container instanceof HTMLElement)) {\n      return debug.error('Container required for toolbar', this.options);\n    }\n    this.container.classList.add('ql-toolbar');\n    this.controls = [];\n    this.handlers = {};\n    Object.keys(this.options.handlers).forEach(format => {\n      this.addHandler(format, this.options.handlers[format]);\n    });\n    Array.from(this.container.querySelectorAll('button, select')).forEach(\n      input => {\n        this.attach(input);\n      },\n    );\n    this.quill.on(Quill.events.EDITOR_CHANGE, (type, range) => {\n      if (type === Quill.events.SELECTION_CHANGE) {\n        this.update(range);\n      }\n    });\n    this.quill.on(Quill.events.SCROLL_OPTIMIZE, () => {\n      const [range] = this.quill.selection.getRange(); // quill.getSelection triggers update\n      this.update(range);\n    });\n  }\n\n  addHandler(format, handler) {\n    this.handlers[format] = handler;\n  }\n\n  attach(input) {\n    let format = Array.from(input.classList).find(className => {\n      return className.indexOf('ql-') === 0;\n    });\n    if (!format) return;\n    format = format.slice('ql-'.length);\n    if (input.tagName === 'BUTTON') {\n      input.setAttribute('type', 'button');\n    }\n    if (\n      this.handlers[format] == null &&\n      this.quill.scroll.query(format) == null\n    ) {\n      debug.warn('ignoring attaching to nonexistent format', format, input);\n      return;\n    }\n    const eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n    input.addEventListener(eventName, e => {\n      let value;\n      if (input.tagName === 'SELECT') {\n        if (input.selectedIndex < 0) return;\n        const selected = input.options[input.selectedIndex];\n        if (selected.hasAttribute('selected')) {\n          value = false;\n        } else {\n          value = selected.value || false;\n        }\n      } else {\n        if (input.classList.contains('ql-active')) {\n          value = false;\n        } else {\n          value = input.value || !input.hasAttribute('value');\n        }\n        e.preventDefault();\n      }\n      this.quill.focus();\n      const [range] = this.quill.selection.getRange();\n      if (this.handlers[format] != null) {\n        this.handlers[format].call(this, value);\n      } else if (\n        this.quill.scroll.query(format).prototype instanceof EmbedBlot\n      ) {\n        value = prompt(`Enter ${format}`); // eslint-disable-line no-alert\n        if (!value) return;\n        this.quill.updateContents(\n          new Delta()\n            .retain(range.index)\n            .delete(range.length)\n            .insert({ [format]: value }),\n          Quill.sources.USER,\n        );\n      } else {\n        this.quill.format(format, value, Quill.sources.USER);\n      }\n      this.update(range);\n    });\n    this.controls.push([format, input]);\n  }\n\n  update(range) {\n    const formats = range == null ? {} : this.quill.getFormat(range);\n    this.controls.forEach(pair => {\n      const [format, input] = pair;\n      if (input.tagName === 'SELECT') {\n        let option;\n        if (range == null) {\n          option = null;\n        } else if (formats[format] == null) {\n          option = input.querySelector('option[selected]');\n        } else if (!Array.isArray(formats[format])) {\n          let value = formats[format];\n          if (typeof value === 'string') {\n            value = value.replace(/\"/g, '\\\\\"');\n          }\n          option = input.querySelector(`option[value=\"${value}\"]`);\n        }\n        if (option == null) {\n          input.value = ''; // TODO make configurable?\n          input.selectedIndex = -1;\n        } else {\n          option.selected = true;\n        }\n      } else if (range == null) {\n        input.classList.remove('ql-active');\n      } else if (input.hasAttribute('value')) {\n        // both being null should match (default values)\n        // '1' should match with 1 (headers)\n        const isActive =\n          formats[format] === input.getAttribute('value') ||\n          (formats[format] != null &&\n            formats[format].toString() === input.getAttribute('value')) ||\n          (formats[format] == null && !input.getAttribute('value'));\n        input.classList.toggle('ql-active', isActive);\n      } else {\n        input.classList.toggle('ql-active', formats[format] != null);\n      }\n    });\n  }\n}\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  const input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add(`ql-${format}`);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(controls => {\n    const group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(control => {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        const format = Object.keys(control)[0];\n        const value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  const input = document.createElement('select');\n  input.classList.add(`ql-${format}`);\n  values.forEach(value => {\n    const option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean() {\n      const range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length === 0) {\n        const formats = this.quill.getFormat();\n        Object.keys(formats).forEach(name => {\n          // Clean functionality in existing apps only clean inline formats\n          if (this.quill.scroll.query(name, Scope.INLINE) != null) {\n            this.quill.format(name, false, Quill.sources.USER);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, Quill.sources.USER);\n      }\n    },\n    direction(value) {\n      const { align } = this.quill.getFormat();\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', Quill.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, Quill.sources.USER);\n      }\n      this.quill.format('direction', value, Quill.sources.USER);\n    },\n    indent(value) {\n      const range = this.quill.getSelection();\n      const formats = this.quill.getFormat(range);\n      const indent = parseInt(formats.indent || 0, 10);\n      if (value === '+1' || value === '-1') {\n        let modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, Quill.sources.USER);\n      }\n    },\n    link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:'); // eslint-disable-line no-alert\n      }\n      this.quill.format('link', value, Quill.sources.USER);\n    },\n    list(value) {\n      const range = this.quill.getSelection();\n      const formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats.list === 'checked' || formats.list === 'unchecked') {\n          this.quill.format('list', false, Quill.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', Quill.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, Quill.sources.USER);\n      }\n    },\n  },\n};\n\nexport { Toolbar as default, addControls };\n","import alignLeftIcon from '../assets/icons/align-left.svg';\nimport alignCenterIcon from '../assets/icons/align-center.svg';\nimport alignRightIcon from '../assets/icons/align-right.svg';\nimport alignJustifyIcon from '../assets/icons/align-justify.svg';\nimport backgroundIcon from '../assets/icons/background.svg';\nimport blockquoteIcon from '../assets/icons/blockquote.svg';\nimport boldIcon from '../assets/icons/bold.svg';\nimport cleanIcon from '../assets/icons/clean.svg';\nimport codeIcon from '../assets/icons/code.svg';\nimport colorIcon from '../assets/icons/color.svg';\nimport directionLeftToRightIcon from '../assets/icons/direction-ltr.svg';\nimport directionRightToLeftIcon from '../assets/icons/direction-rtl.svg';\nimport formulaIcon from '../assets/icons/formula.svg';\nimport headerIcon from '../assets/icons/header.svg';\nimport header2Icon from '../assets/icons/header-2.svg';\nimport italicIcon from '../assets/icons/italic.svg';\nimport imageIcon from '../assets/icons/image.svg';\nimport indentIcon from '../assets/icons/indent.svg';\nimport outdentIcon from '../assets/icons/outdent.svg';\nimport linkIcon from '../assets/icons/link.svg';\nimport listBulletIcon from '../assets/icons/list-bullet.svg';\nimport listCheckIcon from '../assets/icons/list-check.svg';\nimport listOrderedIcon from '../assets/icons/list-ordered.svg';\nimport subscriptIcon from '../assets/icons/subscript.svg';\nimport superscriptIcon from '../assets/icons/superscript.svg';\nimport strikeIcon from '../assets/icons/strike.svg';\nimport tableIcon from '../assets/icons/table.svg';\nimport underlineIcon from '../assets/icons/underline.svg';\nimport videoIcon from '../assets/icons/video.svg';\n\nexport default {\n  align: {\n    '': alignLeftIcon,\n    center: alignCenterIcon,\n    right: alignRightIcon,\n    justify: alignJustifyIcon,\n  },\n  background: backgroundIcon,\n  blockquote: blockquoteIcon,\n  bold: boldIcon,\n  clean: cleanIcon,\n  code: codeIcon,\n  'code-block': codeIcon,\n  color: colorIcon,\n  direction: {\n    '': directionLeftToRightIcon,\n    rtl: directionRightToLeftIcon,\n  },\n  formula: formulaIcon,\n  header: {\n    '1': headerIcon,\n    '2': header2Icon,\n  },\n  italic: italicIcon,\n  image: imageIcon,\n  indent: {\n    '+1': indentIcon,\n    '-1': outdentIcon,\n  },\n  link: linkIcon,\n  list: {\n    bullet: listBulletIcon,\n    check: listCheckIcon,\n    ordered: listOrderedIcon,\n  },\n  script: {\n    sub: subscriptIcon,\n    super: superscriptIcon,\n  },\n  strike: strikeIcon,\n  table: tableIcon,\n  underline: underlineIcon,\n  video: videoIcon,\n};\n","import DropdownIcon from '../assets/icons/dropdown.svg';\n\nlet optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(\n    attribute,\n    !(element.getAttribute(attribute) === 'true'),\n  );\n}\n\nclass Picker {\n  constructor(select) {\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', () => {\n      this.togglePicker();\n    });\n    this.label.addEventListener('keydown', event => {\n      switch (event.key) {\n        case 'Enter':\n          this.togglePicker();\n          break;\n        case 'Escape':\n          this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  togglePicker() {\n    this.container.classList.toggle('ql-expanded');\n    // Toggle aria-expanded and aria-hidden to make the picker accessible\n    toggleAriaAttribute(this.label, 'aria-expanded');\n    toggleAriaAttribute(this.options, 'aria-hidden');\n  }\n\n  buildItem(option) {\n    const item = document.createElement('span');\n    item.tabIndex = '0';\n    item.setAttribute('role', 'button');\n    item.classList.add('ql-picker-item');\n    if (option.hasAttribute('value')) {\n      item.setAttribute('data-value', option.getAttribute('value'));\n    }\n    if (option.textContent) {\n      item.setAttribute('data-label', option.textContent);\n    }\n    item.addEventListener('click', () => {\n      this.selectItem(item, true);\n    });\n    item.addEventListener('keydown', event => {\n      switch (event.key) {\n        case 'Enter':\n          this.selectItem(item, true);\n          event.preventDefault();\n          break;\n        case 'Escape':\n          this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n\n    return item;\n  }\n\n  buildLabel() {\n    const label = document.createElement('span');\n    label.classList.add('ql-picker-label');\n    label.innerHTML = DropdownIcon;\n    label.tabIndex = '0';\n    label.setAttribute('role', 'button');\n    label.setAttribute('aria-expanded', 'false');\n    this.container.appendChild(label);\n    return label;\n  }\n\n  buildOptions() {\n    const options = document.createElement('span');\n    options.classList.add('ql-picker-options');\n\n    // Don't want screen readers to read this until options are visible\n    options.setAttribute('aria-hidden', 'true');\n    options.tabIndex = '-1';\n\n    // Need a unique id for aria-controls\n    options.id = `ql-picker-options-${optionsCounter}`;\n    optionsCounter += 1;\n    this.label.setAttribute('aria-controls', options.id);\n\n    this.options = options;\n\n    Array.from(this.select.options).forEach(option => {\n      const item = this.buildItem(option);\n      options.appendChild(item);\n      if (option.selected === true) {\n        this.selectItem(item);\n      }\n    });\n    this.container.appendChild(options);\n  }\n\n  buildPicker() {\n    Array.from(this.select.attributes).forEach(item => {\n      this.container.setAttribute(item.name, item.value);\n    });\n    this.container.classList.add('ql-picker');\n    this.label = this.buildLabel();\n    this.buildOptions();\n  }\n\n  escape() {\n    // Close menu and return focus to trigger label\n    this.close();\n    // Need setTimeout for accessibility to ensure that the browser executes\n    // focus on the next process thread and after any DOM content changes\n    setTimeout(() => this.label.focus(), 1);\n  }\n\n  close() {\n    this.container.classList.remove('ql-expanded');\n    this.label.setAttribute('aria-expanded', 'false');\n    this.options.setAttribute('aria-hidden', 'true');\n  }\n\n  selectItem(item, trigger = false) {\n    const selected = this.container.querySelector('.ql-selected');\n    if (item === selected) return;\n    if (selected != null) {\n      selected.classList.remove('ql-selected');\n    }\n    if (item == null) return;\n    item.classList.add('ql-selected');\n    this.select.selectedIndex = Array.from(item.parentNode.children).indexOf(\n      item,\n    );\n    if (item.hasAttribute('data-value')) {\n      this.label.setAttribute('data-value', item.getAttribute('data-value'));\n    } else {\n      this.label.removeAttribute('data-value');\n    }\n    if (item.hasAttribute('data-label')) {\n      this.label.setAttribute('data-label', item.getAttribute('data-label'));\n    } else {\n      this.label.removeAttribute('data-label');\n    }\n    if (trigger) {\n      this.select.dispatchEvent(new Event('change'));\n      this.close();\n    }\n  }\n\n  update() {\n    let option;\n    if (this.select.selectedIndex > -1) {\n      const item = this.container.querySelector('.ql-picker-options').children[\n        this.select.selectedIndex\n      ];\n      option = this.select.options[this.select.selectedIndex];\n      this.selectItem(item);\n    } else {\n      this.selectItem(null);\n    }\n    const isActive =\n      option != null &&\n      option !== this.select.querySelector('option[selected]');\n    this.label.classList.toggle('ql-active', isActive);\n  }\n}\n\nexport default Picker;\n","import Picker from './picker';\n\nclass ColorPicker extends Picker {\n  constructor(select, label) {\n    super(select);\n    this.label.innerHTML = label;\n    this.container.classList.add('ql-color-picker');\n    Array.from(this.container.querySelectorAll('.ql-picker-item'))\n      .slice(0, 7)\n      .forEach(item => {\n        item.classList.add('ql-primary');\n      });\n  }\n\n  buildItem(option) {\n    const item = super.buildItem(option);\n    item.style.backgroundColor = option.getAttribute('value') || '';\n    return item;\n  }\n\n  selectItem(item, trigger) {\n    super.selectItem(item, trigger);\n    const colorLabel = this.label.querySelector('.ql-color-label');\n    const value = item ? item.getAttribute('data-value') || '' : '';\n    if (colorLabel) {\n      if (colorLabel.tagName === 'line') {\n        colorLabel.style.stroke = value;\n      } else {\n        colorLabel.style.fill = value;\n      }\n    }\n  }\n}\n\nexport default ColorPicker;\n","import Picker from './picker';\n\nclass IconPicker extends Picker {\n  constructor(select, icons) {\n    super(select);\n    this.container.classList.add('ql-icon-picker');\n    Array.from(this.container.querySelectorAll('.ql-picker-item')).forEach(\n      item => {\n        item.innerHTML = icons[item.getAttribute('data-value') || ''];\n      },\n    );\n    this.defaultItem = this.container.querySelector('.ql-selected');\n    this.selectItem(this.defaultItem);\n  }\n\n  selectItem(target, trigger) {\n    super.selectItem(target, trigger);\n    const item = target || this.defaultItem;\n    if (this.label.innerHTML === item.innerHTML) return;\n    this.label.innerHTML = item.innerHTML;\n  }\n}\n\nexport default IconPicker;\n","class Tooltip {\n  constructor(quill, boundsContainer) {\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', () => {\n        this.root.style.marginTop = `${-1 * this.quill.root.scrollTop}px`;\n      });\n    }\n    this.hide();\n  }\n\n  hide() {\n    this.root.classList.add('ql-hidden');\n  }\n\n  position(reference) {\n    const left =\n      reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n    // root.scrollTop should be 0 if scrollContainer !== root\n    const top = reference.bottom + this.quill.root.scrollTop;\n    this.root.style.left = `${left}px`;\n    this.root.style.top = `${top}px`;\n    this.root.classList.remove('ql-flip');\n    const containerBounds = this.boundsContainer.getBoundingClientRect();\n    const rootBounds = this.root.getBoundingClientRect();\n    let shift = 0;\n    if (rootBounds.right > containerBounds.right) {\n      shift = containerBounds.right - rootBounds.right;\n      this.root.style.left = `${left + shift}px`;\n    }\n    if (rootBounds.left < containerBounds.left) {\n      shift = containerBounds.left - rootBounds.left;\n      this.root.style.left = `${left + shift}px`;\n    }\n    if (rootBounds.bottom > containerBounds.bottom) {\n      const height = rootBounds.bottom - rootBounds.top;\n      const verticalShift = reference.bottom - reference.top + height;\n      this.root.style.top = `${top - verticalShift}px`;\n      this.root.classList.add('ql-flip');\n    }\n    return shift;\n  }\n\n  show() {\n    this.root.classList.remove('ql-editing');\n    this.root.classList.remove('ql-hidden');\n  }\n}\n\nexport default Tooltip;\n","import extend from 'extend';\nimport Emitter from '../core/emitter';\nimport Theme from '../core/theme';\nimport ColorPicker from '../ui/color-picker';\nimport IconPicker from '../ui/icon-picker';\nimport Picker from '../ui/picker';\nimport Tooltip from '../ui/tooltip';\n\nconst ALIGNS = [false, 'center', 'right', 'justify'];\n\nconst COLORS = [\n  '#000000',\n  '#e60000',\n  '#ff9900',\n  '#ffff00',\n  '#008a00',\n  '#0066cc',\n  '#9933ff',\n  '#ffffff',\n  '#facccc',\n  '#ffebcc',\n  '#ffffcc',\n  '#cce8cc',\n  '#cce0f5',\n  '#ebd6ff',\n  '#bbbbbb',\n  '#f06666',\n  '#ffc266',\n  '#ffff66',\n  '#66b966',\n  '#66a3e0',\n  '#c285ff',\n  '#888888',\n  '#a10000',\n  '#b26b00',\n  '#b2b200',\n  '#006100',\n  '#0047b2',\n  '#6b24b2',\n  '#444444',\n  '#5c0000',\n  '#663d00',\n  '#666600',\n  '#003700',\n  '#002966',\n  '#3d1466',\n];\n\nconst FONTS = [false, 'serif', 'monospace'];\n\nconst HEADERS = ['1', '2', '3', false];\n\nconst SIZES = ['small', false, 'large', 'huge'];\n\nclass BaseTheme extends Theme {\n  constructor(quill, options) {\n    super(quill, options);\n    const listener = e => {\n      if (!document.body.contains(quill.root)) {\n        document.body.removeEventListener('click', listener);\n        return;\n      }\n      if (\n        this.tooltip != null &&\n        !this.tooltip.root.contains(e.target) &&\n        document.activeElement !== this.tooltip.textbox &&\n        !this.quill.hasFocus()\n      ) {\n        this.tooltip.hide();\n      }\n      if (this.pickers != null) {\n        this.pickers.forEach(picker => {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n  }\n\n  addModule(name) {\n    const module = super.addModule(name);\n    if (name === 'toolbar') {\n      this.extendToolbar(module);\n    }\n    return module;\n  }\n\n  buildButtons(buttons, icons) {\n    Array.from(buttons).forEach(button => {\n      const className = button.getAttribute('class') || '';\n      className.split(/\\s+/).forEach(name => {\n        if (!name.startsWith('ql-')) return;\n        name = name.slice('ql-'.length);\n        if (icons[name] == null) return;\n        if (name === 'direction') {\n          button.innerHTML = icons[name][''] + icons[name].rtl;\n        } else if (typeof icons[name] === 'string') {\n          button.innerHTML = icons[name];\n        } else {\n          const value = button.value || '';\n          if (value != null && icons[name][value]) {\n            button.innerHTML = icons[name][value];\n          }\n        }\n      });\n    });\n  }\n\n  buildPickers(selects, icons) {\n    this.pickers = Array.from(selects).map(select => {\n      if (select.classList.contains('ql-align')) {\n        if (select.querySelector('option') == null) {\n          fillSelect(select, ALIGNS);\n        }\n        return new IconPicker(select, icons.align);\n      }\n      if (\n        select.classList.contains('ql-background') ||\n        select.classList.contains('ql-color')\n      ) {\n        const format = select.classList.contains('ql-background')\n          ? 'background'\n          : 'color';\n        if (select.querySelector('option') == null) {\n          fillSelect(\n            select,\n            COLORS,\n            format === 'background' ? '#ffffff' : '#000000',\n          );\n        }\n        return new ColorPicker(select, icons[format]);\n      }\n      if (select.querySelector('option') == null) {\n        if (select.classList.contains('ql-font')) {\n          fillSelect(select, FONTS);\n        } else if (select.classList.contains('ql-header')) {\n          fillSelect(select, HEADERS);\n        } else if (select.classList.contains('ql-size')) {\n          fillSelect(select, SIZES);\n        }\n      }\n      return new Picker(select);\n    });\n    const update = () => {\n      this.pickers.forEach(picker => {\n        picker.update();\n      });\n    };\n    this.quill.on(Emitter.events.EDITOR_CHANGE, update);\n  }\n}\nBaseTheme.DEFAULTS = extend(true, {}, Theme.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image() {\n          let fileInput = this.container.querySelector(\n            'input.ql-image[type=file]',\n          );\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute(\n              'accept',\n              this.quill.uploader.options.mimetypes.join(', '),\n            );\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', () => {\n              const range = this.quill.getSelection(true);\n              this.quill.uploader.upload(range, fileInput.files);\n              fileInput.value = '';\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video() {\n          this.quill.theme.tooltip.edit('video');\n        },\n      },\n    },\n  },\n});\n\nclass BaseTooltip extends Tooltip {\n  constructor(quill, boundsContainer) {\n    super(quill, boundsContainer);\n    this.textbox = this.root.querySelector('input[type=\"text\"]');\n    this.listen();\n  }\n\n  listen() {\n    this.textbox.addEventListener('keydown', event => {\n      if (event.key === 'Enter') {\n        this.save();\n        event.preventDefault();\n      } else if (event.key === 'Escape') {\n        this.cancel();\n        event.preventDefault();\n      }\n    });\n  }\n\n  cancel() {\n    this.hide();\n  }\n\n  edit(mode = 'link', preview = null) {\n    this.root.classList.remove('ql-hidden');\n    this.root.classList.add('ql-editing');\n    if (preview != null) {\n      this.textbox.value = preview;\n    } else if (mode !== this.root.getAttribute('data-mode')) {\n      this.textbox.value = '';\n    }\n    this.position(this.quill.getBounds(this.quill.selection.savedRange));\n    this.textbox.select();\n    this.textbox.setAttribute(\n      'placeholder',\n      this.textbox.getAttribute(`data-${mode}`) || '',\n    );\n    this.root.setAttribute('data-mode', mode);\n  }\n\n  restoreFocus() {\n    const { scrollTop } = this.quill.scrollingContainer;\n    this.quill.focus();\n    this.quill.scrollingContainer.scrollTop = scrollTop;\n  }\n\n  save() {\n    let { value } = this.textbox;\n    switch (this.root.getAttribute('data-mode')) {\n      case 'link': {\n        const { scrollTop } = this.quill.root;\n        if (this.linkRange) {\n          this.quill.formatText(\n            this.linkRange,\n            'link',\n            value,\n            Emitter.sources.USER,\n          );\n          delete this.linkRange;\n        } else {\n          this.restoreFocus();\n          this.quill.format('link', value, Emitter.sources.USER);\n        }\n        this.quill.root.scrollTop = scrollTop;\n        break;\n      }\n      case 'video': {\n        value = extractVideoUrl(value);\n      } // eslint-disable-next-line no-fallthrough\n      case 'formula': {\n        if (!value) break;\n        const range = this.quill.getSelection(true);\n        if (range != null) {\n          const index = range.index + range.length;\n          this.quill.insertEmbed(\n            index,\n            this.root.getAttribute('data-mode'),\n            value,\n            Emitter.sources.USER,\n          );\n          if (this.root.getAttribute('data-mode') === 'formula') {\n            this.quill.insertText(index + 1, ' ', Emitter.sources.USER);\n          }\n          this.quill.setSelection(index + 2, Emitter.sources.USER);\n        }\n        break;\n      }\n      default:\n    }\n    this.textbox.value = '';\n    this.hide();\n  }\n}\n\nfunction extractVideoUrl(url) {\n  let match =\n    url.match(\n      /^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/,\n    ) ||\n    url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return `${match[1] || 'https'}://www.youtube.com/embed/${\n      match[2]\n    }?showinfo=0`;\n  }\n  // eslint-disable-next-line no-cond-assign\n  if ((match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/))) {\n    return `${match[1] || 'https'}://player.vimeo.com/video/${match[2]}/`;\n  }\n  return url;\n}\n\nfunction fillSelect(select, values, defaultValue = false) {\n  values.forEach(value => {\n    const option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexport { BaseTooltip, BaseTheme as default };\n","import extend from 'extend';\nimport Emitter from '../core/emitter';\nimport BaseTheme, { BaseTooltip } from './base';\nimport { Range } from '../core/selection';\nimport icons from '../ui/icons';\n\nconst TOOLBAR_CONFIG = [\n  ['bold', 'italic', 'link'],\n  [{ header: 1 }, { header: 2 }, 'blockquote'],\n];\n\nclass BubbleTooltip extends BaseTooltip {\n  constructor(quill, bounds) {\n    super(quill, bounds);\n    this.quill.on(\n      Emitter.events.EDITOR_CHANGE,\n      (type, range, oldRange, source) => {\n        if (type !== Emitter.events.SELECTION_CHANGE) return;\n        if (\n          range != null &&\n          range.length > 0 &&\n          source === Emitter.sources.USER\n        ) {\n          this.show();\n          // Lock our width so we will expand beyond our offsetParent boundaries\n          this.root.style.left = '0px';\n          this.root.style.width = '';\n          this.root.style.width = `${this.root.offsetWidth}px`;\n          const lines = this.quill.getLines(range.index, range.length);\n          if (lines.length === 1) {\n            this.position(this.quill.getBounds(range));\n          } else {\n            const lastLine = lines[lines.length - 1];\n            const index = this.quill.getIndex(lastLine);\n            const length = Math.min(\n              lastLine.length() - 1,\n              range.index + range.length - index,\n            );\n            const indexBounds = this.quill.getBounds(new Range(index, length));\n            this.position(indexBounds);\n          }\n        } else if (\n          document.activeElement !== this.textbox &&\n          this.quill.hasFocus()\n        ) {\n          this.hide();\n        }\n      },\n    );\n  }\n\n  listen() {\n    super.listen();\n    this.root.querySelector('.ql-close').addEventListener('click', () => {\n      this.root.classList.remove('ql-editing');\n    });\n    this.quill.on(Emitter.events.SCROLL_OPTIMIZE, () => {\n      // Let selection be restored by toolbar handlers before repositioning\n      setTimeout(() => {\n        if (this.root.classList.contains('ql-hidden')) return;\n        const range = this.quill.getSelection();\n        if (range != null) {\n          this.position(this.quill.getBounds(range));\n        }\n      }, 1);\n    });\n  }\n\n  cancel() {\n    this.show();\n  }\n\n  position(reference) {\n    const shift = super.position(reference);\n    const arrow = this.root.querySelector('.ql-tooltip-arrow');\n    arrow.style.marginLeft = '';\n    if (shift !== 0) {\n      arrow.style.marginLeft = `${-1 * shift - arrow.offsetWidth / 2}px`;\n    }\n    return shift;\n  }\n}\nBubbleTooltip.TEMPLATE = [\n  '<span class=\"ql-tooltip-arrow\"></span>',\n  '<div class=\"ql-tooltip-editor\">',\n  '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">',\n  '<a class=\"ql-close\"></a>',\n  '</div>',\n].join('');\n\nclass BubbleTheme extends BaseTheme {\n  constructor(quill, options) {\n    if (\n      options.modules.toolbar != null &&\n      options.modules.toolbar.container == null\n    ) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n    super(quill, options);\n    this.quill.container.classList.add('ql-bubble');\n  }\n\n  extendToolbar(toolbar) {\n    this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n    this.tooltip.root.appendChild(toolbar.container);\n    this.buildButtons(toolbar.container.querySelectorAll('button'), icons);\n    this.buildPickers(toolbar.container.querySelectorAll('select'), icons);\n  }\n}\nBubbleTheme.DEFAULTS = extend(true, {}, BaseTheme.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        },\n      },\n    },\n  },\n});\n\nexport { BubbleTooltip, BubbleTheme as default };\n","import extend from 'extend';\nimport Emitter from '../core/emitter';\nimport BaseTheme, { BaseTooltip } from './base';\nimport LinkBlot from '../formats/link';\nimport { Range } from '../core/selection';\nimport icons from '../ui/icons';\n\nconst TOOLBAR_CONFIG = [\n  [{ header: ['1', '2', '3', false] }],\n  ['bold', 'italic', 'underline', 'link'],\n  [{ list: 'ordered' }, { list: 'bullet' }],\n  ['clean'],\n];\n\nclass SnowTooltip extends BaseTooltip {\n  constructor(quill, bounds) {\n    super(quill, bounds);\n    this.preview = this.root.querySelector('a.ql-preview');\n  }\n\n  listen() {\n    super.listen();\n    this.root.querySelector('a.ql-action').addEventListener('click', event => {\n      if (this.root.classList.contains('ql-editing')) {\n        this.save();\n      } else {\n        this.edit('link', this.preview.textContent);\n      }\n      event.preventDefault();\n    });\n    this.root.querySelector('a.ql-remove').addEventListener('click', event => {\n      if (this.linkRange != null) {\n        const range = this.linkRange;\n        this.restoreFocus();\n        this.quill.formatText(range, 'link', false, Emitter.sources.USER);\n        delete this.linkRange;\n      }\n      event.preventDefault();\n      this.hide();\n    });\n    this.quill.on(\n      Emitter.events.SELECTION_CHANGE,\n      (range, oldRange, source) => {\n        if (range == null) return;\n        if (range.length === 0 && source === Emitter.sources.USER) {\n          const [link, offset] = this.quill.scroll.descendant(\n            LinkBlot,\n            range.index,\n          );\n          if (link != null) {\n            this.linkRange = new Range(range.index - offset, link.length());\n            const preview = LinkBlot.formats(link.domNode);\n            this.preview.textContent = preview;\n            this.preview.setAttribute('href', preview);\n            this.show();\n            this.position(this.quill.getBounds(this.linkRange));\n            return;\n          }\n        } else {\n          delete this.linkRange;\n        }\n        this.hide();\n      },\n    );\n  }\n\n  show() {\n    super.show();\n    this.root.removeAttribute('data-mode');\n  }\n}\nSnowTooltip.TEMPLATE = [\n  '<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>',\n  '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">',\n  '<a class=\"ql-action\"></a>',\n  '<a class=\"ql-remove\"></a>',\n].join('');\n\nclass SnowTheme extends BaseTheme {\n  constructor(quill, options) {\n    if (\n      options.modules.toolbar != null &&\n      options.modules.toolbar.container == null\n    ) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n    super(quill, options);\n    this.quill.container.classList.add('ql-snow');\n  }\n\n  extendToolbar(toolbar) {\n    toolbar.container.classList.add('ql-snow');\n    this.buildButtons(toolbar.container.querySelectorAll('button'), icons);\n    this.buildPickers(toolbar.container.querySelectorAll('select'), icons);\n    this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n    if (toolbar.container.querySelector('.ql-link')) {\n      this.quill.keyboard.addBinding(\n        { key: 'k', shortKey: true },\n        (range, context) => {\n          toolbar.handlers.link.call(toolbar, !context.format.link);\n        },\n      );\n    }\n  }\n}\nSnowTheme.DEFAULTS = extend(true, {}, BaseTheme.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link(value) {\n          if (value) {\n            const range = this.quill.getSelection();\n            if (range == null || range.length === 0) return;\n            let preview = this.quill.getText(range);\n            if (\n              /^\\S+@\\S+\\.\\S+$/.test(preview) &&\n              preview.indexOf('mailto:') !== 0\n            ) {\n              preview = `mailto:${preview}`;\n            }\n            const { tooltip } = this.quill.theme;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        },\n      },\n    },\n  },\n});\n\nexport default SnowTheme;\n","import Quill from './core';\n\nimport { AlignClass, AlignStyle } from './formats/align';\nimport {\n  DirectionAttribute,\n  DirectionClass,\n  DirectionStyle,\n} from './formats/direction';\nimport Indent from './formats/indent';\n\nimport Blockquote from './formats/blockquote';\nimport Header from './formats/header';\nimport List from './formats/list';\n\nimport { BackgroundClass, BackgroundStyle } from './formats/background';\nimport { ColorClass, ColorStyle } from './formats/color';\nimport { FontClass, FontStyle } from './formats/font';\nimport { SizeClass, SizeStyle } from './formats/size';\n\nimport Bold from './formats/bold';\nimport Italic from './formats/italic';\nimport Link from './formats/link';\nimport Script from './formats/script';\nimport Strike from './formats/strike';\nimport Underline from './formats/underline';\n\nimport Formula from './formats/formula';\nimport Image from './formats/image';\nimport Video from './formats/video';\n\nimport CodeBlock, { Code as InlineCode } from './formats/code';\n\nimport Syntax from './modules/syntax';\nimport Table from './modules/table';\nimport Toolbar from './modules/toolbar';\n\nimport Icons from './ui/icons';\nimport Picker from './ui/picker';\nimport ColorPicker from './ui/color-picker';\nimport IconPicker from './ui/icon-picker';\nimport Tooltip from './ui/tooltip';\n\nimport BubbleTheme from './themes/bubble';\nimport SnowTheme from './themes/snow';\n\nQuill.register(\n  {\n    'attributors/attribute/direction': DirectionAttribute,\n\n    'attributors/class/align': AlignClass,\n    'attributors/class/background': BackgroundClass,\n    'attributors/class/color': ColorClass,\n    'attributors/class/direction': DirectionClass,\n    'attributors/class/font': FontClass,\n    'attributors/class/size': SizeClass,\n\n    'attributors/style/align': AlignStyle,\n    'attributors/style/background': BackgroundStyle,\n    'attributors/style/color': ColorStyle,\n    'attributors/style/direction': DirectionStyle,\n    'attributors/style/font': FontStyle,\n    'attributors/style/size': SizeStyle,\n  },\n  true,\n);\n\nQuill.register(\n  {\n    'formats/align': AlignClass,\n    'formats/direction': DirectionClass,\n    'formats/indent': Indent,\n\n    'formats/background': BackgroundStyle,\n    'formats/color': ColorStyle,\n    'formats/font': FontClass,\n    'formats/size': SizeClass,\n\n    'formats/blockquote': Blockquote,\n    'formats/code-block': CodeBlock,\n    'formats/header': Header,\n    'formats/list': List,\n\n    'formats/bold': Bold,\n    'formats/code': InlineCode,\n    'formats/italic': Italic,\n    'formats/link': Link,\n    'formats/script': Script,\n    'formats/strike': Strike,\n    'formats/underline': Underline,\n\n    'formats/formula': Formula,\n    'formats/image': Image,\n    'formats/video': Video,\n\n    'modules/syntax': Syntax,\n    'modules/table': Table,\n    'modules/toolbar': Toolbar,\n\n    'themes/bubble': BubbleTheme,\n    'themes/snow': SnowTheme,\n\n    'ui/icons': Icons,\n    'ui/picker': Picker,\n    'ui/icon-picker': IconPicker,\n    'ui/color-picker': ColorPicker,\n    'ui/tooltip': Tooltip,\n  },\n  true,\n);\n\nexport default Quill;\n"],"sourceRoot":""}